package patching

import (
	"time"

	"gitlab.connectwisedev.com/platform/platform-api-model/clients/model/Golang/resourceModel/agent"
)

// InstallationScriptExpirationError is a message for installation script expiration
const InstallationScriptExpirationError = "installation script is expired"

// ExecutionResultKafkaMessage structure represents the Kafka message
type ExecutionResultKafkaMessage struct {
	agent.BrokerEnvelope
	Message ResponseMessage `json:"message"`
}

// ResponseMessage is a definition of /resources/patching/patchingResponseMessage.json
type ResponseMessage struct {
	ExecutionID  string    `json:"executionID" description:"ExecutionID generated by Patching MicroService"`
	Status       string    `json:"status" description:"Return status: Success/Failed"`
	Stdout       string    `json:"stdout" description:"Script's STDOUT"`
	Stderr       string    `json:"stderr" description:"Blank if status is Success or error otherwise"`
	Metadata     string    `json:"metadata" description:"Metadata which automatically populated from input message Metadata field"`
	TimestampUTC time.Time `json:"timestampUTC" description:"UTC time"`
}

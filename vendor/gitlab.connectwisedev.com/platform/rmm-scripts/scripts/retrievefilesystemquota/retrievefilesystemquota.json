{"id":"ead1cb35-3f03-11e9-9648-00155d130b17","partnerId":"00000000-0000-0000-0000-000000000000","category":["Data Collection"],"description":"Retrieve file system quota","engine":"powershell","engineMaxVersion":5,"expectedExecutionTimeSec":300,"failureMessage":"Executed with errors","successMessage":"Script Executed Successfully","internal":false,"name":"Retrieve file system quota","tags":["Windows 7","Windows 10"],"sequence":true,"content":"JGRyaXZlcyA9IEdldC1XbWlPYmplY3QgLUNsYXNzIFdpbjMyX0xvZ2ljYWxEaXNrIHwgPyB7JF8uRGVzY3JpcHRpb24gLWVxICdMb2NhbCBGaXhlZCBEaXNrJ30KaWYgKCRkcml2ZXMuQ291bnQgLWVxICRudWxsKSB7JGNvdW50ID0gMX1lbHNlIHskY291bnQgPSAkZHJpdmVzLmNvdW50fQoiYG5OdW1iZXIgb2Ygdm9sdW1lcyBvbiB0aGlzIHN5c3RlbSA6IHswfWBuIiAtZiAkY291bnQKCnRyeSB7CiAgICAkdm9sdW1lcyA9IEdldC1XbWlPYmplY3QgLUNsYXNzIFdpbjMyX1F1b3RhU2V0dGluZyB8IHNlbGVjdCBTdGF0ZSwgVm9sdW1lUGF0aCwgQ2FwdGlvbiwgRGVmYXVsdExpbWl0LCBEZWZhdWx0V2FybmluZ0xpbWl0LCBFeGNlZWRlZE5vdGlmaWNhdGlvbiwgV2FybmluZ0V4Y2VlZGVkTm90aWZpY2F0aW9uIC1FcnJvckFjdGlvbiBTdG9wCgogICAgaWYgKCEkdm9sdW1lcykgewogICAgICAgIFdyaXRlLU91dHB1dCAiRmFpbGVkIHRvIHJldHJpZXZlIHF1b3RhIGluZm9ybWF0aW9uLCBtYWtlIHN1cmUgeW91IGFyZSBydW5uaW5nIHNjcmlwdCB3aXRoIGhpZ2hlc3QgcHJpdmlsZWdlcy4gYG4iCiAgICB9CgogICAgZm9yZWFjaCAoJHZvbHVtZSBpbiAkdm9sdW1lcykgewogICAgICAgIGlmICgkdm9sdW1lLlN0YXRlIC1lcSAwKSB7CiAgICAgICAgICAgICRzdGF0ZSA9ICJGYWxzZSIKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRzdGF0ZSA9ICJUcnVlIgogICAgICAgIH0KICAgICAgICAiYG5Ecml2ZSBQYXRoICAgICAgICAgICAgIDogIHswfSIgLWYgJHZvbHVtZS5Wb2x1bWVQYXRoCiAgICAgICAgIkRyaXZlIE5hbWUgICAgICAgICAgICAgOiAgezB9IiAtZiAkdm9sdW1lLkNhcHRpb24KICAgICAgICAiUXVvdGEgRW5hYmxlZCAgICAgICAgICA6ICB7MH0iIC1mICRzdGF0ZQogICAgICAgICMjIyMjIyMjIFF1b3RhIExpbWl0ICMjIyMjIyAKICAgICAgICBpZiAoJHZvbHVtZS5EZWZhdWx0TGltaXQgLWVxIC0xKSB7CiAgICAgICAgICAgICREZWZhdWx0bGltaXQgPSAiTm8gTGltaXQiCiAgICAgICAgICAgICJRdW90YSBMaW1pdCAgICAgICAgICAgIDogIHswfSIgLWYgJERlZmF1bHRsaW1pdAogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgaWYgKCgkdm9sdW1lLkRlZmF1bHRsaW1pdCAvIDFHQikgLWdlIDEpIHsgICAgCiAgICAgICAgICAgICAgICAiUXVvdGEgTGltaXQgICAgICAgICAgICA6ICB7MH0gezF9IiAtZiAoInswOk4yfSIgLWYgKCR2b2x1bWUuRGVmYXVsdGxpbWl0IC8gMUdCKSksICJHQiIKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICJRdW90YSBMaW1pdCAgICAgICAgICAgIDogIHswfSB7MX0iIC1mICgiezA6TjJ9IiAtZiAoJHZvbHVtZS5EZWZhdWx0bGltaXQgLyAxTUIpKSwgIk1CIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAKICAgICAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwogICAgICAgICMjIyMjIyMjIFdhcm5pbmcgTGltaXQgIyMjIyMjIyMjCiAgICAgICAgaWYgKCR2b2x1bWUuRGVmYXVsdFdhcm5pbmdMaW1pdCAtZXEgLTEpIHsKICAgICAgICAgICAgJERlZmF1bHR3YXJuaW5nbGltaXQgPSAiTm8gTGltaXQiCiAgICAgICAgICAgICJXYXJuaW5nIExpbWl0ICAgICAgICAgIDogIHswfSIgLWYgJERlZmF1bHR3YXJuaW5nbGltaXQKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGlmICgoJHZvbHVtZS5EZWZhdWx0d2FybmluZ2xpbWl0IC8gMUdCKSAtZ2UgMSkgewogICAgICAgICAgICAgICAgIldhcm5pbmcgTGltaXQgICAgICAgICAgOiAgezB9IHsxfSIgLWYgKCJ7MDpOMn0iIC1mICgkdm9sdW1lLkRlZmF1bHR3YXJuaW5nbGltaXQgLyAxR0IpKSwgIkdCIgogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgIldhcm5pbmcgTGltaXQgICAgICAgICAgOiAgezB9IHsxfSIgLWYgKCJ7MDpOMn0iIC1mICgkdm9sdW1lLkRlZmF1bHR3YXJuaW5nbGltaXQgLyAxTUIpKSwgIk1CIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgCiAgICAgICAgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKICAgICAgICAiTG9nIGV2ZW50IHdoZW4gdXNlciBleGNlZWRzIHRoZWlyIHF1b3RhIGxpbWl0ICAgOiAgezB9IiAtZiAkdm9sdW1lLkV4Y2VlZGVkTm90aWZpY2F0aW9uCiAgICAgICAgIkxvZyBldmVudCB3aGVuIHVzZXIgZXhjZWVkcyB0aGVpciB3YXJuaW5nIGxldmVsIDogIHswfWBuIiAtZiAkdm9sdW1lLldhcm5pbmdFeGNlZWRlZE5vdGlmaWNhdGlvbgogICAgfQoKfQpjYXRjaCB7CiAgICAiYG4iCiAgICBXcml0ZS1FcnJvciAiRmFpbGVkIFRvIFJldHJpZXZlIFF1b3RhIEluZm9ybWF0aW9uIgp9Cgo=","jsonSchema":"","uiSchema":"","isHDScript":false}

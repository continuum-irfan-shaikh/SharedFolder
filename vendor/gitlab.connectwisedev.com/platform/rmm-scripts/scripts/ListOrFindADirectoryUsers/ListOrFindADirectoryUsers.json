{"id":"6ce7a219-7d4e-11e9-bafe-00155d130b89","partnerId":"00000000-0000-0000-0000-000000000000","category":["HD Automation"],"description":"List Or Find ADirectory Users","engine":"powershell","engineMaxVersion":5,"expectedExecutionTimeSec":300,"failureMessage":"Executed with errors","successMessage":"Executed Successfully","internal":false,"name":"ListOrFindADirectoryUsers","tags":["Windows 7","Windows 10"],"sequence":true,"content":"Q2xlYXItSG9zdA0KDQo8Iw0KDQoNCmNhdCAtIExvY2FsIERvbWFpbiBBRA0KDQpbYm9vbGVhbl0kSGlkZUJ1aWx0SW5Vc2VyID0gJHRydWUgLW9wdGlvbmFsDQpbc3RyaW5nXSAkVXNlck5hbWUgPSAiIiAgICAgICAgICAgLW9wdGlvbmFsIA0KW3N0cmluZ10gJE9VbmFtZSA9ICIiICAgICAgICAgICAgIC1vcHRpb25hbA0KDQojPg0KDQoNCiANCmZ1bmN0aW9uIEVzY2FwZS1KU09OU3RyaW5nKCRzdHIpew0KICAgIGlmICgkc3RyIC1lcSAkbnVsbCkge3JldHVybiAiIn0NCiAgICAgICAgICRzdHIgPSAkc3RyLlRvU3RyaW5nKCkuUmVwbGFjZSgnIicsJ1wiJykuUmVwbGFjZSgnXCcsJ1xcJykuUmVwbGFjZSgiYG4iLCdcbicpLlJlcGxhY2UoImByIiwnXHInKS5SZXBsYWNlKCJgdCIsJ1x0JykNCiAgICByZXR1cm4gJHN0cjsNCn0NCg0KDQpmdW5jdGlvbiBDb252ZXJ0VG8tSlNPTlAyKCRtYXhEZXB0aCA9IDEwLCRmb3JjZUFycmF5ID0gJGZhbHNlKSB7DQpiZWdpbiB7DQokZGF0YSA9IEAoKQ0KfQ0KcHJvY2Vzc3sNCiRkYXRhICs9ICRfDQp9DQplbmR7DQppZiAoJGRhdGEubGVuZ3RoIC1lcSAxIC1hbmQgJGZvcmNlQXJyYXkgLWVxICRmYWxzZSkgew0KJHZhbHVlID0gJGRhdGFbMF0NCn0gZWxzZSB7IA0KJHZhbHVlID0gJGRhdGENCn0NCg0KDQppZiAoJHZhbHVlIC1lcSAkbnVsbCkgew0KcmV0dXJuICJudWxsIg0KfQ0KDQoNCiRkYXRhVHlwZSA9ICR2YWx1ZS5HZXRUeXBlKCkuTmFtZQ0Kc3dpdGNoIC1yZWdleCAoJGRhdGFUeXBlKSB7DQogICAgICAgICAgICAnU3RyaW5nJyAgew0KcmV0dXJuICAiYCJ7MH1gIiIgLWYgKEVzY2FwZS1KU09OU3RyaW5nICR2YWx1ZSApDQp9DQogICAgICAgICAgICAnKFN5c3RlbVwuKT9EYXRlVGltZScgIHtyZXR1cm4gICJgInswOnl5eXktTU0tZGR9VHswOkhIOm1tOnNzfWAiIiAtZiAkdmFsdWV9DQogICAgICAgICAgICAnSW50MzJ8RG91YmxlJyB7cmV0dXJuICAiJHZhbHVlIn0NCidCb29sZWFuJyB7cmV0dXJuICAiJHZhbHVlIi5Ub0xvd2VyKCl9DQogICAgICAgICAgICAnKFN5c3RlbVwuKT9PYmplY3RcW1xdJyB7ICMgYXJyYXkNCmlmICgkbWF4RGVwdGggLWxlIDApe3JldHVybiAiYCIkdmFsdWVgIiJ9DQokanNvblJlc3VsdCA9ICcnDQpmb3JlYWNoKCRlbGVtIGluICR2YWx1ZSl7DQojaWYgKCRlbGVtIC1lcSAkbnVsbCkge2NvbnRpbnVlfQ0KaWYgKCRqc29uUmVzdWx0Lkxlbmd0aCAtZ3QgMCkgeyRqc29uUmVzdWx0ICs9JywgJ30gDQokanNvblJlc3VsdCArPSAoJGVsZW0gfCBDb252ZXJ0VG8tSlNPTlAyIC1tYXhEZXB0aCAoJG1heERlcHRoIC0xKSkNCn0NCnJldHVybiAiWyIgKyAkanNvblJlc3VsdCArICJdIg0KICAgICAgICAgICAgfQ0KJyhTeXN0ZW1cLik/SGFzaHRhYmxlJyB7ICMgaGFzaHRhYmxlDQokanNvblJlc3VsdCA9ICcnDQpmb3JlYWNoKCRrZXkgaW4gJHZhbHVlLktleXMpew0KaWYgKCRqc29uUmVzdWx0Lkxlbmd0aCAtZ3QgMCkgeyRqc29uUmVzdWx0ICs9JywgJ30NCiRqc29uUmVzdWx0ICs9IA0KQCINCiJ7MH0iOiB7MX0NCiJAIC1mICRrZXkgLCAoJHZhbHVlWyRrZXldIHwgQ29udmVydFRvLUpTT05QMiAtbWF4RGVwdGggKCRtYXhEZXB0aCAtMSkgKQ0KfQ0KcmV0dXJuICJ7IiArICRqc29uUmVzdWx0ICsgIn0iDQp9DQogICAgICAgICAgICBkZWZhdWx0IHsgI29iamVjdA0KaWYgKCRtYXhEZXB0aCAtbGUgMCl7cmV0dXJuICAiYCJ7MH1gIiIgLWYgKEVzY2FwZS1KU09OU3RyaW5nICR2YWx1ZSl9DQpyZXR1cm4gInsiICsNCigoJHZhbHVlIHwgR2V0LU1lbWJlciAtTWVtYmVyVHlwZSAqcHJvcGVydHkgfCAlIHsgDQpAIg0KInswfSI6IHsxfQ0KIkAgLWYgJF8uTmFtZSAsICgkdmFsdWUuKCRfLk5hbWUpIHwgQ29udmVydFRvLUpTT05QMiAtbWF4RGVwdGggKCRtYXhEZXB0aCAtMSkgKSANCn0pIC1qb2luICcsICcpICsgIn0iDQogICAgfQ0KfQ0KfQ0KfQ0KDQoNCmZ1bmN0aW9uIFRlc3QtRG9tYWluTmV0d29ya0Nvbm5lY3Rpb24NCnsNCiAgICAkc3RyT1NWZXJzaW9uID0gKEdldC1XbWlPYmplY3QgLVF1ZXJ5ICJTZWxlY3QgVmVyc2lvbiBmcm9tIFdpbjMyX09wZXJhdGluZ1N5c3RlbSIpLlZlcnNpb24NCiAgICAkYXJyU3RyT1NWZXJzaW9uID0gJHN0ck9TVmVyc2lvbi5TcGxpdCgiLiIpDQogICAgJGludE9TTWFqb3JWZXJzaW9uID0gW1VJbnQxNl0kYXJyU3RyT1NWZXJzaW9uWzBdDQogICAgaWYgKCRhcnJTdHJPU1ZlcnNpb24uTGVuZ3RoIC1nZSAyKQ0KICAgIHsNCiAgICAgICAgJGludE9TTWlub3JWZXJzaW9uID0gW1VJbnQxNl0kYXJyU3RyT1NWZXJzaW9uWzFdDQogICAgfSBgDQogICAgZWxzZQ0KICAgIHsNCiAgICAgICAgJGludE9TTWlub3JWZXJzaW9uID0gW1VJbnQxNl0wDQogICAgfQ0KICAgICAgICANCiAgICBpZiAoKCRpbnRPU01ham9yVmVyc2lvbiAtZ3QgNikgLW9yICgoJGludE9TTWFqb3JWZXJzaW9uIC1lcSA2KSAtYW5kICgkaW50T1NNaW5vclZlcnNpb24gLWd0IDEpKSkNCiAgICB7ICAgICAgICANCiAgICAgICAgJGRvbWFpbk5ldHdvcmtzID0gR2V0LU5ldENvbm5lY3Rpb25Qcm9maWxlIHwgV2hlcmUtT2JqZWN0IHskXy5OZXR3b3JrQ2F0ZWdvcnkgLWVxICJEb21haW4ifQ0KICAgIH0gYA0KICAgIGVsc2UNCiAgICB7DQogICAgICAgICRkb21haW5OZXR3b3JrcyA9IChbQWN0aXZhdG9yXTo6Q3JlYXRlSW5zdGFuY2UoW1R5cGVdOjpHZXRUeXBlRnJvbUNMU0lEKFtHdWlkXSJ7RENCMDBDMDEtNTcwRi00QTlCLThENjktMTk5RkRCQTU3MjNCfSIpKSkuR2V0TmV0d29ya0Nvbm5lY3Rpb25zKCkgfCBgDQogICAgICAgICAgICBGb3JFYWNoLU9iamVjdCB7JF8uR2V0TmV0d29yaygpLkdldENhdGVnb3J5KCl9IHwgV2hlcmUtT2JqZWN0IHskXyAtZXEgMn0NCiAgICB9DQogICAgcmV0dXJuICgkZG9tYWluTmV0d29ya3MgLW5lICRudWxsKQ0KICAgIA0KfQ0KDQpmdW5jdGlvbiBMaXN0LVVzZXJJbkFjdGl2ZURpcmVjdG95ew0KICAgICAgICANCiAgICAkRG9tYWluID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnkNCiAgICAkU2VhcmNoZXIgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlTZWFyY2hlcg0KICAgICRTZWFyY2hlci5TZWFyY2hSb290ID0gJERvbWFpbg0KICAgICRTZWFyY2hlci5TZWFyY2hTY29wZSA9ICJzdWJ0cmVlIg0KDQogICAgJFNlYXJjaGVyLlByb3BlcnRpZXNUb0xvYWQuQWRkKCJkaXN0aW5ndWlzaGVkTmFtZSIpID4gJE51bGwNCiAgICAkU2VhcmNoZXIuUHJvcGVydGllc1RvTG9hZC5BZGQoIk5hbWUiKSA+ICROdWxsDQogICAgJFNlYXJjaGVyLkZpbHRlciA9ICIoJihvYmplY3RDYXRlZ29yeT1wZXJzb24pKG9iamVjdENsYXNzPXVzZXIpKSINCiAgICAkVXNlcnMgPSAkU2VhcmNoZXIuRmluZEFsbCgpDQoNCiAgICAgJFVzZXJBcnIgPSBAKCkNCiAgICAgJFVzZXJBcnJTdHIgPSBAKCkNCiAgIA0KICAgIEZvckVhY2ggKCRVc2VyIEluICRVc2Vycyl7DQogICAgDQogICAgICAgIGlmKCRIaWRlQnVpbHRJblVzZXIpew0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZigoJFVzZXIuUHJvcGVydGllcy5JdGVtKCJOYW1lIikgLWVxICJHdWVzdCIpIC1vciAoJFVzZXIuUHJvcGVydGllcy5JdGVtKCJOYW1lIikgLWVxICJBZG1pbmlzdHJhdG9yIikpew0KICAgICAgICAgICAgICAgIGNvbnRpbnVlDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KDQogICAgICAgJE9iamVjdDEgPSBOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSBAewkJICAgICAgIA0KCQkgICAgICAgICAgICAgICAgVXNlck5hbWUgPSBbc3RyaW5nXSRVc2VyLlByb3BlcnRpZXMuSXRlbSgiTmFtZSIpOyANCiAgICAgICAgICAgICAgICAgICAgICAgIE9VTmFtZSA9IFtzdHJpbmddJFVzZXIuUHJvcGVydGllcy5JdGVtKCJkaXN0aW5ndWlzaGVkTmFtZSIpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgJFVzZXJOYW1lID0gW3N0cmluZ10kVXNlci5Qcm9wZXJ0aWVzLkl0ZW0oIk5hbWUiKTsgDQogICAgICAgJE9VTmFtZSA9IFtzdHJpbmddJFVzZXIuUHJvcGVydGllcy5JdGVtKCJkaXN0aW5ndWlzaGVkTmFtZSIpOyANCiAgICAgIA0KICAgICAgICRVc2VyQXJyICs9ICAkT2JqZWN0MQ0KICAgICAgICRVc2VyQXJyU3RyICs9ICgiVXNlck5hbWUgOiAkVXNlck5hbWUsIE9VTmFtZSA6ICRPVU5hbWUiICkNCiAgIA0KICAgIH0NCg0KICAgICRBRE9iaiA9ICBOZXctT2JqZWN0IHBzb2JqZWN0DQogICAgJEFET2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgVXNlcnMgLVZhbHVlICRVc2VyQXJyDQogICAgICAgICAgICAgIA0KICAgICRBRE9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFN0YXR1cyAtVmFsdWUgIlN1Y2Nlc3MiIA0KICAgICRBRE9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIENvZGUgLVZhbHVlIDANCiAgICAkQURPYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBSZXN1bHQgLVZhbHVlICJTdWNjZXNzIDogTGlzdCBvZiBhbGwgdXNlciBvYmplY3RzIGluIEFjdGl2ZSBEaXJlY3RvcnkiDQogICAgJEFET2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgc3Rkb3V0IC1WYWx1ZSAgJFVzZXJBcnJTdHINCiAgICAkQURPYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBkYXRhT2JqZWN0IC1WYWx1ZSAkQURPYmogIA0KDQogICAgcmV0dXJuICRBRE9iamVjdA0KfQ0KDQpmdW5jdGlvbiBGaW5kLVVzZXJJbkFjdGl2ZURpcmVjdG95ew0KICAgDQogICAgW2Jvb2xdJElzVXNlckV4aXN0ID0gJGZhbHNlDQogICAgW2Jvb2xdJElzT1VFeGlzdCA9ICRmYWxzZQ0KDQogICAgJEFEU0lTZWFyY2hlclVzZXIgPSBbQURTSVNlYXJjaGVyXScob2JqZWN0Y2xhc3M9dXNlciknICAgDQogICAgJEFEU0lTZWFyY2hlclVzZXIuRmlsdGVyID0g4oCcbmFtZT0kVXNlck5hbWXigJ0gDQogICAgJFVzZXIgPSAkQURTSVNlYXJjaGVyVXNlci5GaW5kT25lKCkgDQogICAgDQogICAgaWYoJFVzZXIpeyRJc1VzZXJFeGlzdCA9ICR0cnVlfSAgICANCg0KICAgICRBRFNJU2VhcmNoZXJPVSA9IFtBRFNJU2VhcmNoZXJdJyhvYmplY3RjbGFzcz1PVSknDQogICAgJEFEU0lTZWFyY2hlck9VLkZpbHRlciA9IOKAnE9VPSRPVW5hbWXigJ0gDQogICAgJE9VID0gJEFEU0lTZWFyY2hlck9VLkZpbmRPbmUoKSANCg0KICAgIGlmKCRPVSl7JElzT1VFeGlzdCA9ICR0cnVlfQ0KDQogICAgIyBDYXNlIDogMSBVc2VyIG5hbWUgbm90IGZvdW5kIGFuZCBPVSBmb3VuZA0KICAgIGlmKC1ub3QgJElzVXNlckV4aXN0IC1hbmQgJElzT1VFeGlzdCl7DQogICAgICAgIA0KICAgICAgICAkRG9tYWluID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnkNCiAgICAgICAgJFNlYXJjaGVyID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5U2VhcmNoZXINCiAgICAgICAgJFNlYXJjaGVyLlNlYXJjaFJvb3QgPSAkRG9tYWluDQogICAgICAgICRTZWFyY2hlci5TZWFyY2hTY29wZSA9ICJzdWJ0cmVlIg0KDQogICAgICAgICRTZWFyY2hlci5Qcm9wZXJ0aWVzVG9Mb2FkLkFkZCgiZGlzdGluZ3Vpc2hlZE5hbWUiKSA+ICROdWxsDQogICAgICAgICRTZWFyY2hlci5Qcm9wZXJ0aWVzVG9Mb2FkLkFkZCgiTmFtZSIpID4gJE51bGwNCiAgICAgICAgJFNlYXJjaGVyLkZpbHRlciA9ICIob2JqZWN0Q2F0ZWdvcnk9b3JnYW5pemF0aW9uYWxVbml0KSINCiAgICAgICAgJE9VcyA9ICRTZWFyY2hlci5GaW5kQWxsKCkNCg0KICAgICAgICAgJFVzZXJBcnIgPSBAKCkNCiAgICAgICAgICRVc2VyQXJyU3RyID0gQCgpDQogICAgICAgICAkVXNlckFyckVyciA9IEAoKQ0KICAgICAgDQogICAgICAgIEZvckVhY2ggKCRPVSBJbiAkT1VzKXsNCiAgICAgICAgICAgICAgICAgICANCiAgICAgICAgaWYoJE9VLlByb3BlcnRpZXMuSXRlbSgiTmFtZSIpIC1lcSAkT1VuYW1lKXsNCg0KICAgICAgICAgICAgICAgICRPVUROID0gJE9VLlByb3BlcnRpZXMuSXRlbSgiZGlzdGluZ3Vpc2hlZE5hbWUiKQ0KICAgICAgICAgICAgICAgICRPVUJhc2UgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlFbnRyeSAiTERBUDovLyRPVUROIg0KICAgICAgICAgICAgICAgICRTZWFyY2hlci5TZWFyY2hSb290ID0gJE9VQmFzZQ0KDQogICAgICAgICAgICAgICAgJFNlYXJjaGVyLkZpbHRlciA9ICIoJihvYmplY3RDYXRlZ29yeT1wZXJzb24pKG9iamVjdENsYXNzPXVzZXIpKSINCiAgICAgICAgICAgICAgICAkVXNlcnMgPSAkU2VhcmNoZXIuRmluZEFsbCgpDQoNCiAgICAgICAgICAgICAgICBGb3JFYWNoICgkVXNlciBJbiAkVXNlcnMpDQogICAgICAgICAgICAgICAgeyAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICRPYmplY3QxID0gTmV3LU9iamVjdCBQU09iamVjdCAtUHJvcGVydHkgQHsJCSAgICAgICANCgkJICAgICAgICAgICAgICAgIFVzZXJOYW1lID0gW3N0cmluZ10kVXNlci5Qcm9wZXJ0aWVzLkl0ZW0oIk5hbWUiKTsgDQogICAgICAgICAgICAgICAgICAgICAgICBPVU5hbWUgPSBbc3RyaW5nXSRPVUROOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgJFVzZXJOYW1lID0gW3N0cmluZ10kVXNlci5Qcm9wZXJ0aWVzLkl0ZW0oIk5hbWUiKTsgDQogICAgICAgICAgICAgICAgICRPVU5hbWUgPSBbc3RyaW5nXSRPVUROOw0KDQogICAgICAgICAgICAgICAgICRVc2VyQXJyICs9ICRPYmplY3QxDQogICAgICAgICAgICAgICAgICRVc2VyQXJyU3RyICs9ICgiVXNlck5hbWUgOiAkVXNlck5hbWUsIE9VTmFtZSA6ICRPVU5hbWUiKQ0KICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgICRTdGRFcnIgPSBOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSBAewkJICAgICAgIA0KCQkgICAgICAgICAgICAgICAgICAgICAgICAgIGlkID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA9ICJVc2VyIG5hbWUgbm90IGZvdW5kICwgT1UgZm91bmQiDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsID0gIkxpc3Qgb2YgYWxsIHVzZXJzIGluIE9VIDokKCRPVW5hbWUpIg0KDQogICAgICAgICAgICAgICAgICAgICAgIH0NCg0KDQogICAgICAkVXNlckFyckVyciArPSAkU3RkRXJyDQogICAgICAgDQogICAgICAkQURPYmoxID0gIE5ldy1PYmplY3QgcHNvYmplY3QNCiAgICAgICRBRE9iajEgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBVc2VycyAtVmFsdWUgJFVzZXJBcnINCiAgICAgICAgICAgICAgDQogICAgICAkQURPYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBTdGF0dXMgLVZhbHVlICJmYWlsIiANCiAgICAgICRBRE9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIENvZGUgLVZhbHVlIDENCiAgICAgICRBRE9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIHN0ZGVyciAtVmFsdWUgJFVzZXJBcnJFcnINCiAgICAgICRBRE9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFJlc3VsdCAtVmFsdWUgIlVzZXIgbmFtZSBub3QgZm91bmQgLCBPVSBmb3VuZCINCiAgICAgICANCiAgICAgICRBRE9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIHN0ZG91dCAtVmFsdWUgICRVc2VyQXJyU3RyDQogICAgICAkQURPYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBkYXRhT2JqZWN0IC1WYWx1ZSAkQURPYmoxICANCiAgICAgICANCiAgICAgIHJldHVybiAkQURPYmplY3QNCiAgICB9DQoNCiAgICAjIENhc2UgOiAyIFVzZXIgbmFtZSBmb3VuZCBPVSBub3QgZm91bmQNCiAgICBpZigkSXNVc2VyRXhpc3QgLWFuZCAgLW5vdCAkSXNPVUV4aXN0KXsNCiAgICAgICAgDQogICAgICAgIFtpbnRdJGNvdW50ID0gMA0KICAgICAgICAkT1VuYW1lQ2hhckFyciA9ICRPVW5hbWUuVG9DaGFyQXJyYXkoKQ0KICAgICAgICAkT1VuYW1lRmlyc3RMZXR0ZXIgPSAkT1VuYW1lQ2hhckFyclswXSsnKicNCg0KICAgICAgICAkQURTSVNlYXJjaGVyT1UxID0gW0FEU0lTZWFyY2hlcl0nKG9iamVjdGNsYXNzPW9yZ2FuaXphdGlvbmFsVW5pdCknDQogICAgICAgICRPVXMgPSAkQURTSVNlYXJjaGVyT1UxLkZpbmRBbGwoKSANCiAgICAgICANCiAgICAgICAgICAgICAgIA0KICAgICAgICBmb3JlYWNoICgkT1UgaW4gJE9Vcyl7DQogICAgICAgICAgICAgICR4ID0gJE9VLlByb3BlcnRpZXMgfHNlbGVjdCBAe049Ik5hbWUiOyBFPXskXy5uYW1lfX0gfCBXaGVyZS1PYmplY3QgeyRfLm5hbWUgLWxpa2UgJE9VbmFtZUZpcnN0TGV0dGVyfSANCiAgICAgICAgICAgICAgaWYoJHgpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAkY291bnQrKyAgDQogICAgICAgICAgICB9ICAgICAgDQogICAgICAgICB9DQogICAgICAgDQogICAgICAgIGlmKCRjb3VudCAtZ3QgMCl7DQogICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICRPVUFyciA9IEAoKQ0KICAgICAgICAgICAgICAgJE9VQXJyU3RyID0gQCgpDQogICAgICAgICAgICAgICAkT1VBcnJFcnIgPSBAKCkNCg0KICAgICAgICAgICAgICAgZm9yZWFjaCAoJE9VIGluICRPVXMpew0KICAgICAgICAgICAgICAgICAgJHggPSAkT1UuUHJvcGVydGllcyB8c2VsZWN0IEB7Tj0iTmFtZSI7IEU9eyRfLm5hbWV9fSB8IFdoZXJlLU9iamVjdCB7JF8ubmFtZSAtbGlrZSAkT1VuYW1lRmlyc3RMZXR0ZXJ9IA0KICAgICAgICAgICAgICAgICAgaWYoJHgpew0KICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgJE9iamVjdDEgPSBOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSBAewkJICAgICAgIA0KCQkgICAgICAgICAgICAgICAgICAgIE9VID0gJHguTmFtZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAkT1UgPSAkeC5OYW1lOw0KDQogICAgICAgICAgICAgICAgICAgICRPVUFyciArPSAkT2JqZWN0MQ0KICAgICAgICAgICAgICAgICAgICAkT1VBcnJTdHIgKz0gKCJPVSA6JE9VIikNCiAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIH0gICAgICANCiAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICRTdGRFcnIgPSBOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSBAewkJICAgICAgIA0KCQkgICAgICAgICAgICAgICAgICBpZCA9IDA7DQogICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlID0gIlVzZXIgbmFtZSBmb3VuZCAsIE9VIG5vdCBmb3VuZCINCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsID0gIkxpc3Qgb2YgYWxsIE9VIFN0YXJ0aW5nIHdpdGg6JCgkT1VuYW1lRmlyc3RMZXR0ZXIpIg0KDQogICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAkT1VBcnJFcnIgKz0gJFN0ZEVycg0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAkQURPYmogPSAgTmV3LU9iamVjdCBwc29iamVjdA0KICAgICAgICAgICAgICAkQURPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBPVW5pdHMgLVZhbHVlICRPVUFycg0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAkQURPYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBTdGF0dXMgLVZhbHVlICJmYWlsIiANCiAgICAgICAgICAgICAgJEFET2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgQ29kZSAtVmFsdWUgMQ0KICAgICAgICAgICAgICAkQURPYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBzdGRlcnIgLVZhbHVlICRPVUFyckVycg0KICAgICAgICAgICAgICAkQURPYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBSZXN1bHQgLVZhbHVlICJVc2VyIG5hbWUgZm91bmQgLCBPVSBub3QgZm91bmQiDQogICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAkQURPYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBzdGRvdXQgLVZhbHVlICAkT1VBcnJTdHINCiAgICAgICAgICAgICAgJEFET2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgZGF0YU9iamVjdCAtVmFsdWUgJEFET2JqICANCg0KICAgICAgICB9DQoNCiAgICAgICAgaWYoJGNvdW50IC1lcSAwKXsNCiAgICAgICAgICANCiAgICAgICAgICRPVUFycjEgPSBAKCkNCiAgICAgICAgICRPVUFyclN0cjEgPSBAKCkNCiAgICAgICAgICRPVUFyckVycjEgPSBAKCkNCiAgICAgICAgICANCiAgICAgICAgICBmb3JlYWNoICgkT1UgaW4gJE9Vcyl7IA0KICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICRPYmplY3QyID0gTmV3LU9iamVjdCBQU09iamVjdCAtUHJvcGVydHkgQHsJCSAgICAgICANCgkJICAgICAgICAgICAgICAgIE9VID1bc3RyaW5nXSgkT1UuUHJvcGVydGllcykubmFtZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgJE9VID0gW3N0cmluZ10oJE9VLlByb3BlcnRpZXMpLm5hbWU7DQoNCiAgICAgICAgICAgICAkT1VBcnIxICs9ICRPYmplY3QyDQogICAgICAgICAgICAgJE9VQXJyU3RyMSArPSAoIk9VIDokT1UiKQ0KDQogICAgICAgICAgfQ0KDQogICAgICAgICAgICRTdGRFcnIxID0gTmV3LU9iamVjdCBQU09iamVjdCAtUHJvcGVydHkgQHsJCSAgICAgICANCgkJICAgICAgICAgICAgICAgICAgaWQgPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA9ICJMaXN0IG9mIGFsbCBPVSBpbiBkb21haW4iDQogICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbCA9ICJMaXN0IG9mIGFsbCBPVSBTdGFydGluZyB3aXRoOiQoJE9VbmFtZUZpcnN0TGV0dGVyKSBpcyBub3QgZm91bmQiDQoNCiAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICRPVUFyckVycjEgKz0gJFN0ZEVycjENCiAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAkQURPYmoxID0gIE5ldy1PYmplY3QgcHNvYmplY3QNCiAgICAgICAgICAgICAgJEFET2JqMSB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIE9Vbml0cyAtVmFsdWUgJE9VQXJyMQ0KICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgJEFET2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgU3RhdHVzIC1WYWx1ZSAiZmFpbCIgDQogICAgICAgICAgICAgICRBRE9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIENvZGUgLVZhbHVlIDENCiAgICAgICAgICAgICAgJEFET2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgc3RkZXJyIC1WYWx1ZSAkT1VBcnJFcnIxDQogICAgICAgICAgICAgICRBRE9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFJlc3VsdCAtVmFsdWUgIlVzZXIgbmFtZSBmb3VuZCAsIE9VIG5vdCBmb3VuZCINCiAgICAgICAgDQogICAgICAgICAgICAgICRBRE9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIHN0ZG91dCAtVmFsdWUgICRPVUFyclN0cjENCiAgICAgICAgICAgICAgJEFET2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgZGF0YU9iamVjdCAtVmFsdWUgJEFET2JqMSAgDQoNCiAgICAgICAgfQ0KDQogICAgICByZXR1cm4gJEFET2JqZWN0DQogICAgfQ0KDQogICAgIyBDYXNlIDM6IFVzZXIgbmFtZSBub3QgZm91bmQgT1Ugbm90IGZvdW5kDQogICAgaWYoLW5vdCAkSXNVc2VyRXhpc3QgLWFuZCAgLW5vdCAkSXNPVUV4aXN0KXsNCiAgICAgIA0KICAgICAgIyBMaXN0IG9mIGFsbCB1c2VycyBzdGFyaW5nIHdpdGggZmlyc3QgbGV0dGVyDQogICAgICAgICAgICAgDQogICAgICAgIFtpbnRdJFVzZXJDb3VudCA9IDANCiAgICAgICAgJFVzZXJOYW1lQ2hhckFyciA9ICRVc2VyTmFtZS5Ub0NoYXJBcnJheSgpDQogICAgICAgICRVc2VyTmFtZUZpcnN0TGV0dGVyID0gJFVzZXJOYW1lQ2hhckFyclswXSsnKicNCiAgICAgICAgICAgICAgIA0KICAgICAgICAkVXNlckFyciA9IEAoKQ0KICAgICAgICAkVXNlckFyclN0ciA9IEAoKQ0KICAgICAgICAkVXNlckFyckVyciA9IEAoKQ0KICAgICAgDQogICAgICAgICRBRFNJU2VhcmNoZXJVc2VyID0gW0FEU0lTZWFyY2hlcl0nKG9iamVjdGNsYXNzPXVzZXIpJw0KICAgICAgICAkVXNlcnMgPSAkQURTSVNlYXJjaGVyVXNlci5GaW5kQWxsKCkgDQogICAgICAgIA0KICAgICAgIA0KICAgICAgICBmb3JlYWNoICgkVXNlciBpbiAkVXNlcnMpew0KDQogICAgICAgICAgICAgICR1ID0gJFVzZXIuUHJvcGVydGllcyB8c2VsZWN0IEB7Tj0iTmFtZSI7IEU9eyRfLm5hbWV9fSB8IFdoZXJlLU9iamVjdCB7JF8ubmFtZSAtbGlrZSAkVXNlck5hbWVGaXJzdExldHRlcn0gDQogICAgICAgICAgICAgIGlmKCR1KXsgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICRVc2VyQ291bnQrKyAgDQogICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgIH0gICAgDQogICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBpZigkVXNlckNvdW50IC1ndCAwKXsNCg0KICAgICAgICAgICAgZm9yZWFjaCAoJFVzZXIgaW4gJFVzZXJzKXsNCg0KICAgICAgICAgICAgICAkdSA9ICRVc2VyLlByb3BlcnRpZXMgfHNlbGVjdCBAe049Ik5hbWUiOyBFPXskXy5uYW1lfX0gfCBXaGVyZS1PYmplY3QgeyRfLm5hbWUgLWxpa2UgJFVzZXJOYW1lRmlyc3RMZXR0ZXJ9IA0KICAgICAgICAgICAgICAgaWYoJHUpeyAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAkT2JqZWN0MSA9IE5ldy1PYmplY3QgUFNPYmplY3QgLVByb3BlcnR5IEB7CQkgICAgICAgDQoJCSAgICAgICAgICAgICAgICAgICAgVXNlck5hbWUgPVtzdHJpbmddJHUubmFtZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICRVc2VyTmFtZSA9W3N0cmluZ10kdS5uYW1lOw0KDQogICAgICAgICAgICAgICAgICAgJFVzZXJBcnIgKz0gJE9iamVjdDE7DQogICAgICAgICAgICAgICAgICAgJFVzZXJBcnJTdHIgKz0gICggIlVzZXJOYW1lIDogJFVzZXJOYW1lIikNCiAgICAgDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgICRTdGRFcnIgPSBOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSBAewkJICAgICAgIA0KCQkgICAgICAgICAgICAgICAgICBpZCA9IDA7DQogICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlID0gICJVc2VyIG5hbWUgbm90IGZvdW5kIg0KICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWwgPSAiTGlzdCBvZiBhbGwgdXNlcnMgU3RhcnRpbmcgd2l0aDokKCRVc2VyTmFtZUZpcnN0TGV0dGVyKSINCg0KICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgJFVzZXJBcnJFcnIgKz0gJFN0ZEVycg0KDQogICAgICAgIH0NCiAgICAgICANCiAgICAgICAgaWYoJFVzZXJDb3VudCAtZXEgMCl7DQogICAgICAgICANCiAgICAgICAgICBmb3JlYWNoICgkVXNlciBpbiAkVXNlcnMpeyANCg0KICAgICAgICAgICAgICAgJE9iamVjdDIgPSBOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSBAewkJICAgICAgIA0KCQkgICAgICAgICAgICAgICAgICAgIFVzZXJOYW1lID1bc3RyaW5nXSgkVXNlci5Qcm9wZXJ0aWVzKS5uYW1lOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAkVXNlck5hbWUgPVtzdHJpbmddKCRVc2VyLlByb3BlcnRpZXMpLm5hbWU7DQoNCiAgICAgICAgICAgICAgICAkVXNlckFyciArPSAkT2JqZWN0MjsNCiAgICAgICAgICAgICAgICAkVXNlckFyclN0ciArPSAgKCAiVXNlck5hbWUgOiAkVXNlck5hbWUiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgfQ0KDQogICAgICAgICAgJFN0ZEVyciA9IE5ldy1PYmplY3QgUFNPYmplY3QgLVByb3BlcnR5IEB7CQkgICAgICAgDQoJCSAgICAgICAgICAgICAgICAgIGlkID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSAgIkxpc3Qgb2YgYWxsIHVzZXIgU3RhcnRpbmcgd2l0aDokKCRVc2VyTmFtZUZpcnN0TGV0dGVyKSBpcyBub3QgZm91bmQiDQogICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbCA9ICJMaXN0IG9mIGFsbCB1c2VycyBpbiBkb21haW4iDQoNCiAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgDQogICAgICAgICAkVXNlckFyckVyciArPSAkU3RkRXJyDQoNCiAgICAgICAgfQ0KDQoNCiAgICAgICMgTGlzdCBvZiBhbGwgT1Ugc3RhcmluZyB3aXRoIGZpcnN0IGxldHRlcg0KICAgICAgDQogICAgICAgIFtpbnRdJGNvdW50ID0gMA0KICAgICAgICAkT1VuYW1lQ2hhckFyciA9ICRPVW5hbWUuVG9DaGFyQXJyYXkoKQ0KICAgICAgICAkT1VuYW1lRmlyc3RMZXR0ZXIgPSAkT1VuYW1lQ2hhckFyclswXSsnKicNCiAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgDQogICAgICAgICRBRFNJU2VhcmNoZXJPVTEgPSBbQURTSVNlYXJjaGVyXScob2JqZWN0Y2xhc3M9b3JnYW5pemF0aW9uYWxVbml0KScNCiAgICAgICAgJE9VcyA9ICRBRFNJU2VhcmNoZXJPVTEuRmluZEFsbCgpIA0KICAgICAgIA0KICAgICAgICBmb3JlYWNoICgkT1UgaW4gJE9Vcyl7DQogICAgICAgICAgICAgICR4ID0gJE9VLlByb3BlcnRpZXMgfHNlbGVjdCBAe049Ik5hbWUiOyBFPXskXy5uYW1lfX0gfCBXaGVyZS1PYmplY3QgeyRfLm5hbWUgLWxpa2UgJE9VbmFtZUZpcnN0TGV0dGVyfSANCiAgICAgICAgICAgICAgaWYoJHgpeyAgDQogICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgJGNvdW50KysgDQogICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgfSAgICANCiAgICAgICAgIH0NCg0KICAgICAgICAgaWYoJGNvdW50IC1ndCAwKXsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgIGZvcmVhY2ggKCRPVSBpbiAkT1VzKXsNCg0KICAgICAgICAgICAgICAkeCA9ICRPVS5Qcm9wZXJ0aWVzIHxzZWxlY3QgQHtOPSJOYW1lIjsgRT17JF8ubmFtZX19IHwgV2hlcmUtT2JqZWN0IHskXy5uYW1lIC1saWtlICRPVW5hbWVGaXJzdExldHRlcn0gDQogICAgICAgICAgICAgIGlmKCR4KXsgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAkT2JqZWN0MyA9IE5ldy1PYmplY3QgUFNPYmplY3QgLVByb3BlcnR5IEB7CQkgICAgICAgDQoJCSAgICAgICAgICAgICAgICBPVSA9ICR4Lk5hbWU7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAkT1UgPSAkeC5OYW1lOw0KDQogICAgICAgICAgICAgICAgICRVc2VyQXJyICs9ICRPYmplY3QzOw0KICAgICAgICAgICAgICAgICAkVXNlckFyclN0ciArPSAgKCAiT1UgOiAkT1UiKQ0KICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgfSAgICANCiAgICAgICAgICAgICAgfQ0KDQoNCiAgICAgICAgICAgICAgJFN0ZEVyciA9IE5ldy1PYmplY3QgUFNPYmplY3QgLVByb3BlcnR5IEB7CQkgICAgICAgDQoJCSAgICAgICAgICAgICAgICAgIGlkID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSAgIk9VIHdhcyBub3QgZm91bmQiDQogICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbCA9ICJMaXN0IG9mIGFsbCBPVSBTdGFydGluZyB3aXRoOiQoJE9VbmFtZUZpcnN0TGV0dGVyKSINCg0KICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAkVXNlckFyckVyciArPSAkU3RkRXJyDQogICAgICAgICAgIH0NCiAgICAgICANCiAgICAgICAgaWYoJGNvdW50IC1lcSAwKXsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgIGZvcmVhY2ggKCRPVSBpbiAkT1VzKXsNCg0KICAgICAgICAgICAgJE9iamVjdDQgPSBOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSBAewkJICAgICAgIA0KCQkgICAgICAgICAgICAgICAgT1UgPVtzdHJpbmddKCRPVS5Qcm9wZXJ0aWVzKS5uYW1lOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgDQogICAgICAgICAgICAgJE9VID0gW3N0cmluZ10oJE9VLlByb3BlcnRpZXMpLm5hbWU7DQoNCiAgICAgICAgICAgICAkVXNlckFyciArPSAkT2JqZWN0NDsNCiAgICAgICAgICAgICAkVXNlckFyclN0ciArPSAgKCAiT1UgOiAkT1UiKQ0KICAgICAgICAgIH0NCg0KICAgICAgICAgICRTdGRFcnIgPSBOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSBAewkJICAgICAgIA0KCQkgICAgICAgICAgICAgICAgICBpZCA9IDA7DQogICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlID0gICJMaXN0IG9mIGFsbCBPVSBTdGFydGluZyB3aXRoOiQoJE9VbmFtZUZpcnN0TGV0dGVyKSBpcyBub3QgZm91bmQiDQogICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbCA9ICJMaXN0IG9mIGFsbCBPVSBpbiBkb21haW4iDQoNCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgJFVzZXJBcnJFcnIgKz0gJFN0ZEVycg0KICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgJEFET2JqMSA9ICBOZXctT2JqZWN0IHBzb2JqZWN0DQogICAgICAgICRBRE9iajEgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBVc2Vyc0FuZE9VcyAtVmFsdWUgJFVzZXJBcnINCiAgICAgICAgICAgICAgDQogICAgICAgICRBRE9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFN0YXR1cyAtVmFsdWUgImZhaWwiIA0KICAgICAgICAkQURPYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBDb2RlIC1WYWx1ZSAxDQogICAgICAgICRBRE9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIHN0ZGVyciAtVmFsdWUgJFVzZXJBcnJFcnINCiAgICAgICAgJEFET2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgUmVzdWx0IC1WYWx1ZSAiVXNlciBuYW1lIG5vdCBmb3VuZCAsIE9VIG5vdCBmb3VuZCINCiAgICAgICAgDQogICAgICAgICRBRE9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIHN0ZG91dCAtVmFsdWUgICRVc2VyQXJyU3RyDQogICAgICAgICRBRE9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIGRhdGFPYmplY3QgLVZhbHVlICRBRE9iajEgIA0KDQoNCiAgICAgICByZXR1cm4gJEFET2JqZWN0DQogICAgfQ0KDQogICAgIyBVc2VyIG5hbWUgZm91bmQgYW5kIE9VIG5hbWUgZm91bmQNCiAgICAgaWYoJElzVXNlckV4aXN0IC1hbmQgJElzT1VFeGlzdCl7IA0KICAgICAgIA0KDQogICAgICAgICREb21haW4gPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlFbnRyeQ0KICAgICAgICAkU2VhcmNoZXIgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlTZWFyY2hlcg0KICAgICAgICAkU2VhcmNoZXIuU2VhcmNoUm9vdCA9ICREb21haW4NCiAgICAgICAgJFNlYXJjaGVyLlNlYXJjaFNjb3BlID0gInN1YnRyZWUiDQoNCiAgICAgICAgJFNlYXJjaGVyLlByb3BlcnRpZXNUb0xvYWQuQWRkKCJkaXN0aW5ndWlzaGVkTmFtZSIpID4gJE51bGwNCiAgICAgICAgJFNlYXJjaGVyLlByb3BlcnRpZXNUb0xvYWQuQWRkKCJOYW1lIikgPiAkTnVsbA0KICAgICAgICAkU2VhcmNoZXIuRmlsdGVyID0gIihvYmplY3RDYXRlZ29yeT1vcmdhbml6YXRpb25hbFVuaXQpIg0KICAgICAgICAkT1VzID0gJFNlYXJjaGVyLkZpbmRBbGwoKQ0KDQogICAgICAgICRVc2VyT1VBcnIgPSBAKCkNCiAgICAgICAgJFVzZXJPVUFyclN0ciA9IEAoKQ0KICAgICAgIA0KICAgICAgICBGb3JFYWNoICgkT1UgSW4gJE9Vcyl7DQogICANCiAgICAgICAgICAgaWYoJE9VLlByb3BlcnRpZXMuSXRlbSgiTmFtZSIpIC1lcSAkT1VuYW1lKXsNCiAgICANCiAgICAgICAgICAgICAgICAkT1VETiA9ICRPVS5Qcm9wZXJ0aWVzLkl0ZW0oImRpc3Rpbmd1aXNoZWROYW1lIikNCiAgICAgICAgICAgICAgICAkT1VCYXNlID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnkgIkxEQVA6Ly8kT1VETiINCiAgICAgICAgICAgICAgICAkU2VhcmNoZXIuU2VhcmNoUm9vdCA9ICRPVUJhc2UNCg0KICAgICAgICAgICAgICAgICRTZWFyY2hlci5GaWx0ZXIgPSAiKCYob2JqZWN0Q2F0ZWdvcnk9cGVyc29uKShvYmplY3RDbGFzcz11c2VyKSkiDQogICAgICAgICAgICAgICAgJFVzZXJzID0gJFNlYXJjaGVyLkZpbmRBbGwoKQ0KICAgICAgICAgICAgICAgIEZvckVhY2ggKCRVc2VyIEluICRVc2VycykNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgaWYoJFVzZXIuUHJvcGVydGllcy5JdGVtKCJOYW1lIikgLWVxICRVc2VyTmFtZSApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICRPYmplY3QxID0gTmV3LU9iamVjdCBQU09iamVjdCAtUHJvcGVydHkgQHsJDQogICAgICAgICAgICAgICAgICAgICAgCSAgICAgICANCgkJICAgICAgICAgICAgICAgIFVzZXJOYW1lID1bc3RyaW5nXSRVc2VyLlByb3BlcnRpZXMuSXRlbSgiTmFtZSIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgT1UgPSBbc3RyaW5nXSRPVUROOw0KICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICRVc2VyTmFtZSA9W3N0cmluZ10kVXNlci5Qcm9wZXJ0aWVzLkl0ZW0oIk5hbWUiKTsNCiAgICAgICAgICAgICAgICAgICAgICAkT1UgPSBbc3RyaW5nXSRPVUROOyAgDQogICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICRVc2VyT1VBcnIgKz0gJE9iamVjdDENCiAgICAgICAgICAgICAgICAgICAgICAkVXNlck9VQXJyU3RyICs9ICgiVXNlck5hbWUgOiAkVXNlck5hbWUsIE9VIDogJE9VIikNCg0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCg0KICAgICAgICAkQURPYmogPSAgTmV3LU9iamVjdCBwc29iamVjdA0KICAgICAgICAkQURPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBVc2VycyAtVmFsdWUgJFVzZXJPVUFycg0KICAgICAgICAgICAgICANCiAgICAgICAgJEFET2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgU3RhdHVzIC1WYWx1ZSAiU3VjY2VzcyIgDQogICAgICAgICRBRE9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIENvZGUgLVZhbHVlIDANCiAgICAgICAgJEFET2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgUmVzdWx0IC1WYWx1ZSAiU3VjY2VzcyA6IEJvdGggdXNlciBuYW1lIGFuZCBPVSBuYW1lIGFyZSBmb3VuZCINCiAgICAgICAgJEFET2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgc3Rkb3V0IC1WYWx1ZSAgJFVzZXJPVUFyclN0cg0KICAgICAgICAkQURPYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBkYXRhT2JqZWN0IC1WYWx1ZSAkQURPYmogDQogICAgICANCiAgICAgIHJldHVybiAkQURPYmplY3QNCiAgICAgDQogICAgIH0NCg0KDQp9DQoNCmZ1bmN0aW9uIExpc3RPckZpbmQtVXNlckluQWN0aXZlRGlyZWN0b3l7DQogICANCiAgIA0KICAgJEFET2JqZWN0ID0gTmV3LU9iamVjdCAtVHlwZU5hbWUgcHNvYmplY3QNCiAgICRBRE9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFRhc2tOYW1lIC1WYWx1ZSAiTGlzdCBvciBmaW5kIHVzZXIgaW4gYWN0aXZlIGRpcmVjdG95Ig0KDQogICAkaG9zdFZlclNpb25NYWpvciA9ICgkUFNWZXJzaW9uVGFibGUuUFNWZXJzaW9uLk1ham9yKS5Ub1N0cmluZygpDQogICAkaG9zdFZlclNpb25NaW5vciA9ICgkUFNWZXJzaW9uVGFibGUuUFNWZXJzaW9uLk1pbm9yKS5Ub1N0cmluZygpDQogICAkaG9zdFZlcnNpb24gPSAkaG9zdFZlclNpb25NYWpvciArJy4nKyAkaG9zdFZlclNpb25NaW5vciANCiANCiAgICRvc1ZlcnNpb25NYWpvciA9IChbU3lzdGVtLkVudmlyb25tZW50XTo6T1NWZXJzaW9uLlZlcnNpb24ubWFqb3IpLlRvU3RyaW5nKCkNCiAgICRvc1ZlcnNpb25NaW5vciA9IChbU3lzdGVtLkVudmlyb25tZW50XTo6T1NWZXJzaW9uLlZlcnNpb24ubWlub3IpLlRvU3RyaW5nKCkNCiAgICRvc1ZlcnNpb24gPSAkb3NWZXJzaW9uTWFqb3IgKycuJysgJG9zVmVyc2lvbk1pbm9yDQogDQogICBbYm9vbGVhbl0kaXNQc1ZlcnNpb25PayA9IChbdmVyc2lvbl0kaG9zdFZlcnNpb24gLWdlIFt2ZXJzaW9uXScyLjAnKQ0KICAgW2Jvb2xlYW5dJGlzT1NWZXJzaW9uT2sgPSAoW3ZlcnNpb25dJG9zVmVyc2lvbiAtZ2UgW3ZlcnNpb25dJzYuMCcpDQogICANCiAgICAgIy0tLS0tLS0tLS0gQ2hlY2sgZm9yIFBvd2Vyc2hlbGwgdmVyc2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0gICAgICAgICANCiAgIGlmKC1ub3QgJGlzUHNWZXJzaW9uT2spew0KICAgICAgICANCiAgICAgICRTdGRFcnJBcnIgPSBAKCkNCiAgICAgICRzdGRPdXRBcnIgPSBAKCkNCiAgICAgICRTdGRFcnIgPSBOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSBAewkJICAgICAgIA0KCQkgICAgICAgICAgICAgICAgICBpZCA9IDA7DQogICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlID0gICJQb3dlclNoZWxsIHZlcnNpb24gYmVsb3cgMi4wIGlzIG5vdCBzdXBwb3J0ZWQiOw0KICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWwgPSAiUG93ZXJTaGVsbCB2ZXJzaW9uIGJlbG93IDIuMCBpcyBub3Qgc3VwcG9ydGVkIjsNCg0KICAgICAgICAgICAgICAgfQ0KICAgICAgICAgDQogICAgICRTdGRFcnJBcnIgKz0gJFN0ZEVycg0KICAgICAkc3RkT3V0QXJyICs9ICgiUG93ZXJTaGVsbCB2ZXJzaW9uIGJlbG93IDIuMCBpcyBub3Qgc3VwcG9ydGVkIikNCiAgICANCiAgICAgJEFET2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgU3RhdHVzIC1WYWx1ZSAiZmFpbCIgDQogICAgICRBRE9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIENvZGUgLVZhbHVlIDENCiAgICAgJEFET2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgc3RkZXJyIC1WYWx1ZSAkU3RkRXJyQXJyDQogICAgICRBRE9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFJlc3VsdCAtVmFsdWUgIlBvd2VyU2hlbGwgdmVyc2lvbiBiZWxvdyAyLjAgaXMgbm90IHN1cHBvcnRlZCINCiAgICAgJEFET2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgc3Rkb3V0IC1WYWx1ZSAgJHN0ZE91dEFyciAgIA0KDQogICAgIHJldHVybiAkQURPYmplY3QNCiANCiAgICB9ICAgIA0KIA0KICAgIy0tLS0tLS0tLS0gQ2hlY2sgT1MgVmVyc2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0NCiAgIGlmKC1ub3QgJGlzT1NWZXJzaW9uT2spew0KICAgICAgIA0KICAgICAgJFN0ZEVyckFyciA9IEAoKQ0KICAgICAgJHN0ZE91dEFyciA9IEAoKQ0KICAgICAgJFN0ZEVyciA9IE5ldy1PYmplY3QgUFNPYmplY3QgLVByb3BlcnR5IEB7CQkgICAgICAgDQoJCSAgICAgICAgICAgICAgICAgIGlkID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSAgIlBvd2VyU2hlbGwgU2NyaXB0IHN1cHBvcnRzIFdpbmRvdyA3LCBXaW5kb3cgMjAwOFIyIGFuZCBoaWdoZXIgdmVyc2lvbiBvcGVyYXRpbmcgc3lzdGVtIjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsID0gIlBvd2VyU2hlbGwgU2NyaXB0IHN1cHBvcnRzIFdpbmRvdyA3LCBXaW5kb3cgMjAwOFIyIGFuZCBoaWdoZXIgdmVyc2lvbiBvcGVyYXRpbmcgc3lzdGVtIjsNCg0KICAgICAgICAgICAgICAgfQ0KICAgICAgICAgDQogICAgICRTdGRFcnJBcnIgKz0gJFN0ZEVycg0KICAgICAkc3RkT3V0QXJyICs9ICgiUG93ZXJTaGVsbCBTY3JpcHQgc3VwcG9ydHMgV2luZG93IDcsIFdpbmRvdyAyMDA4UjIgYW5kIGhpZ2hlciB2ZXJzaW9uIG9wZXJhdGluZyBzeXN0ZW0iKQ0KICAgIA0KICAgICAkQURPYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBTdGF0dXMgLVZhbHVlICJmYWlsIiANCiAgICAgJEFET2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgQ29kZSAtVmFsdWUgMQ0KICAgICAkQURPYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBzdGRlcnIgLVZhbHVlICRTdGRFcnJBcnINCiAgICAgJEFET2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgUmVzdWx0IC1WYWx1ZSAiUG93ZXJTaGVsbCBTY3JpcHQgc3VwcG9ydHMgV2luZG93IDcsIFdpbmRvdyAyMDA4UjIgYW5kIGhpZ2hlciB2ZXJzaW9uIG9wZXJhdGluZyBzeXN0ZW0iDQogICAgICRBRE9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIHN0ZG91dCAtVmFsdWUgICRzdGRPdXRBcnIgICANCg0KICAgIA0KICAgICByZXR1cm4gJEFET2JqZWN0DQoNCiAgIH0NCiAgICANCiAgIGlmKC1ub3QoVGVzdC1Eb21haW5OZXR3b3JrQ29ubmVjdGlvbikpew0KICAgDQogICAgICAkU3RkRXJyQXJyID0gQCgpDQogICAgICAkc3RkT3V0QXJyID0gQCgpDQogICAgICAkU3RkRXJyID0gTmV3LU9iamVjdCBQU09iamVjdCAtUHJvcGVydHkgQHsJCSAgICAgICANCgkJICAgICAgICAgICAgICAgICAgaWQgPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA9ICAiU3lzdGVtIGhhcyBub3Qgam9pbmVkIHRvIGEgZG9tYWluLiINCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsID0gIlN5c3RlbSBoYXMgbm90IGpvaW5lZCB0byBhIGRvbWFpbi4iDQoNCiAgICAgICAgICAgICAgIH0NCiAgICAgICAgIA0KICAgICAkU3RkRXJyQXJyICs9ICRTdGRFcnINCiAgICAgJHN0ZE91dEFyciArPSAoIlN5c3RlbSBoYXMgbm90IGpvaW5lZCB0byBhIGRvbWFpbi4iKQ0KICAgIA0KICAgICAkQURPYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBTdGF0dXMgLVZhbHVlICJmYWlsIiANCiAgICAgJEFET2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgQ29kZSAtVmFsdWUgMQ0KICAgICAkQURPYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBzdGRlcnIgLVZhbHVlICRTdGRFcnJBcnINCiAgICAgJEFET2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgUmVzdWx0IC1WYWx1ZSAiU3lzdGVtIGhhcyBub3Qgam9pbmVkIHRvIGEgZG9tYWluLiINCiAgICAgJEFET2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgc3Rkb3V0IC1WYWx1ZSAgJHN0ZE91dEFyciAgIA0KDQogICANCiAgICByZXR1cm4gJEFET2JqZWN0DQoNCiAgIH0NCg0KICAgdHJ5ew0KICAgICAgICAjIHVzZXIgbmFtZSBwcm92aWRlIE9VIG5vdCBwcm92aWRlZA0KICAgICAgIGlmKC1ub3QoW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJFVzZXJOYW1lKSkgLWFuZCBbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkT1VuYW1lKSl7DQogICAgICAgICAgICAgDQogICAgICAgICAgJFN0ZEVyckFyciA9IEAoKQ0KICAgICAgICAgICRzdGRPdXRBcnIgPSBAKCkNCiAgICAgICAgICAkU3RkRXJyID0gTmV3LU9iamVjdCBQU09iamVjdCAtUHJvcGVydHkgQHsJCSAgICAgICANCgkJICAgICAgICAgICAgICAgICAgICAgIGlkID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlID0gICJQbGVhc2UgcHJvdmlkZSBPVSBuYW1lIg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsID0gIlBsZWFzZSBwcm92aWRlIE9VIG5hbWUiDQoNCiAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICANCiAgICAgICAgICRTdGRFcnJBcnIgKz0gJFN0ZEVycg0KICAgICAgICAgJHN0ZE91dEFyciArPSAoIlBsZWFzZSBwcm92aWRlIE9VIG5hbWUiKQ0KICAgIA0KICAgICAgICAgJEFET2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgU3RhdHVzIC1WYWx1ZSAiZmFpbCIgDQogICAgICAgICAkQURPYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBDb2RlIC1WYWx1ZSAxDQogICAgICAgICAkQURPYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBzdGRlcnIgLVZhbHVlICRTdGRFcnJBcnINCiAgICAgICAgICRBRE9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFJlc3VsdCAtVmFsdWUgIlBsZWFzZSBwcm92aWRlIE9VIG5hbWUiDQogICAgICAgICAkQURPYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBzdGRvdXQgLVZhbHVlICAkc3RkT3V0QXJyICAgDQogICAgICAgIA0KICAgICAgICAgcmV0dXJuICRBRE9iamVjdA0KDQogICAgICAgfQ0KDQogICAgICAgIyB1c2VyIG5hbWUgbm90IHByb3ZpZGUgT1UgbmFtZSBwcm92aWRlZA0KICAgICAgIGlmKFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRVc2VyTmFtZSkgLWFuZCAtbm90KFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRPVW5hbWUpKSl7DQogICAgICAgICAgICAgICAgICANCiAgICAgICAgICAkU3RkRXJyQXJyID0gQCgpDQogICAgICAgICAgJHN0ZE91dEFyciA9IEAoKQ0KICAgICAgICAgICRTdGRFcnIgPSBOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSBAewkJICAgICAgIA0KCQkgICAgICAgICAgICAgICAgICAgICAgaWQgPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSAgIlBsZWFzZSBwcm92aWRlIHVzZXIgbmFtZSINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbCA9ICJQbGVhc2UgcHJvdmlkZSB1c2VyIG5hbWUiDQoNCiAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICANCiAgICAgICAgICRTdGRFcnJBcnIgKz0gJFN0ZEVycg0KICAgICAgICAgJHN0ZE91dEFyciArPSAoIlBsZWFzZSBwcm92aWRlIE9VIG5hbWUiKQ0KICAgIA0KICAgICAgICAgJEFET2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgU3RhdHVzIC1WYWx1ZSAiZmFpbCIgDQogICAgICAgICAkQURPYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBDb2RlIC1WYWx1ZSAxDQogICAgICAgICAkQURPYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBzdGRlcnIgLVZhbHVlICRTdGRFcnJBcnINCiAgICAgICAgICRBRE9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFJlc3VsdCAtVmFsdWUgIlBsZWFzZSBwcm92aWRlIHVzZXIgbmFtZSINCiAgICAgICAgICRBRE9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIHN0ZG91dCAtVmFsdWUgICRzdGRPdXRBcnIgICANCiAgICAgICAgDQoNCiAgICAgICAgIHJldHVybiAkQURPYmplY3QgICAgICAgDQoNCiAgICAgICB9DQoNCiAgICAgICAjIEJvdGggdXNlciBhbmQgb3UgaXMgbm90IHByb3ZpZGVkICwgbGlzdCBhbGwgdXNlciB3aXRoIGRvbWFpbg0KICAgICAgIGlmKFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRVc2VyTmFtZSkgLWFuZCBbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkT1VuYW1lKSl7DQogICAgICAgICANCiAgICAgICAgICAgTGlzdC1Vc2VySW5BY3RpdmVEaXJlY3RveQ0KICAgICAgIH0NCg0KICAgICAgICAjIEJvdGggdXNlciBhbmQgb3UgaXMgcHJvdmlkZWQNCiAgICAgICBpZigtbm90KFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRVc2VyTmFtZSkpIC1hbmQgLW5vdChbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkT1VuYW1lKSkpew0KICAgICAgICAgIA0KICAgICAgICAgICBGaW5kLVVzZXJJbkFjdGl2ZURpcmVjdG95DQogICAgICAgfQ0KDQogICB9Y2F0Y2h7DQogICAgICAgIA0KICAgICAgICAjIFdyaXRlLUhvc3QgIk1lc3NhZ2U6IFskKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSJdIC1Gb3JlZ3JvdW5kQ29sb3IgUmVkIC1CYWNrZ3JvdW5kQ29sb3IgV2hpdGUgDQogICAgICAgICRNZXNzYWdlID0gJF8uRXhjZXB0aW9uLk1lc3NhZ2UuU3BsaXQoJzonKVsxXQ0KICAgICAgICBXcml0ZS1XYXJuaW5nICJNZXNzYWdlOiAkKCRNZXNzYWdlKSIgDQogICAgICAgIHJldHVybg0KDQogICB9DQogICANCg0KfQ0KDQppZigkUFNWZXJzaW9uVGFibGUuUFNWZXJzaW9uLk1ham9yIC1lcSAyKXsNCg0KICAgIExpc3RPckZpbmQtVXNlckluQWN0aXZlRGlyZWN0b3kgfCAgQ29udmVydFRvLUpTT05QMg0KDQp9ZWxzZXsNCg0KICAgIExpc3RPckZpbmQtVXNlckluQWN0aXZlRGlyZWN0b3kgfCAgQ29udmVydFRvLUpzb24gLURlcHRoIDEwDQp9",
"jsonSchema":{
"type":"object",
"properties":{
	"HideBuiltInUser":{
      "type":"boolean",
      "title":"Select Hide BuiltIn User",
      "minLength":1
    },
	"UserName":{
      "type":"string",
      "title":"Enter User Name",
      "minLength":1
    },
	"OUname":{
      "type":"string",
      "title":"Enter OU name",
      "minLength":1
    }
 },
  "required":[
  ],
  "additionalProperties": false
},
"uiSchema":{
"HideBuiltInUser":{
    "ui:autofocus":true,
    "classNames":"col-sm-12"
  },
"UserName":{
    "ui:autofocus":true,
    "classNames":"col-sm-12"
  },
"OUname":{
    "ui:autofocus":true,
    "classNames":"col-sm-12"
  },
  "ui:order":["HideBuiltInUser","UserName","OUname"]
},
"isHDScript":true}
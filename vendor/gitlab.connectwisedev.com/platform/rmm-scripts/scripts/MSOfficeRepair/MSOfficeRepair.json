{"id":"229290c3-8833-11e9-8f95-00155d130b89","partnerId":"00000000-0000-0000-0000-000000000000","category":["HD Automation"],"description":"MS Office Repair","engine":"powershell","engineMaxVersion":5,"expectedExecutionTimeSec":300,"failureMessage":"Executed with errors","successMessage":"Executed Successfully","internal":false,"name":"MSOfficeRepair","tags":["Windows 7","Windows 10"],"sequence":true,"content":"DQpjbHMNCg0KPCMNCg0KQm9vbGVhbiA6IElzUXVpY2tSZXBhaXJTZWxlY3RlZCBbVHJ1ZSAsIERlZmF1bHRdIC8gSXNGdWxsUmVwYWlyU2VsZWN0ZWQgW0ZhbHNlXSANCltOb3RlOiAgQ2hlY2sgQm94IGlmIHNlbGVjdGVkLCBwb3dlcnNoZWxsIA0Kc2NyaXB0IHdpbGwgb3B0IHRoZSBxdWljayByZXBhaXIgb3B0aW9uICBvdGhlcndpc2Ugc2NyaXB0IHdpbGwgZ28gZm9yIGZ1bGwgcmVwYWlyIG9wdGlvbl0NCg0KIz4NCg0KPCMNCg0KI0R5bmFtaWMgdmFyaWFibGUNCltTdHJpbmddJFJlcGFpck1TT2ZmaWNlID0gIk1pY3Jvc29mdCBPZmZpY2UgUHJvZmVzc2lvbmFsIFBsdXMgMjAxOSAtIGVuLXVzIg0KW2Jvb2xdICRJc1F1aWNrUmVwYWlyU2VsZWN0ZWQgPSAkdHJ1ZQ0KDQpbc3RyaW5nXSRBZG1pbiA9ICJLdW1hcmdASW5maW5pdGVMb2NhbC5vbm1pY3Jvc29mdC5jb20iDQpbc3RyaW5nXSRBZG1pblBhc3MgPSAiSG9uZXlqYWluMTk4MiINCltzdHJpbmddJFVzZXIgPSAiamFuZXQzQEluZmluaXRlTG9jYWwub25taWNyb3NvZnQuY29tIg0KDQojb3B0aW9uYWwNCltib29sXSAkRGlzcGxheVJlcGFpck1vZGFsID0gJGZhbHNlDQpbYm9vbF0gJFN0YXJ0QW5kU3RvcFByaW50U3Bvb2xlciA9ICRmYWxzZQ0KDQojPg0KDQojU3RhdGljIHZhcmlhYmxlDQpbYm9vbF0gJFdhaXRGb3JJbnN0YWxsVG9GaW5pc2ggPSAkdHJ1ZQ0KDQpmdW5jdGlvbiBFc2NhcGUtSlNPTlN0cmluZygkc3RyKXsNCiAgICBpZiAoJHN0ciAtZXEgJG51bGwpIHtyZXR1cm4gIiJ9DQogICAgICAgICAkc3RyID0gJHN0ci5Ub1N0cmluZygpLlJlcGxhY2UoJyInLCdcIicpLlJlcGxhY2UoJ1wnLCdcXCcpLlJlcGxhY2UoImBuIiwnXG4nKS5SZXBsYWNlKCJgciIsJ1xyJykuUmVwbGFjZSgiYHQiLCdcdCcpDQogICAgcmV0dXJuICRzdHI7DQp9DQoNCg0KZnVuY3Rpb24gQ29udmVydFRvLUpTT05QMigkbWF4RGVwdGggPSAxMCwkZm9yY2VBcnJheSA9ICRmYWxzZSkgew0KYmVnaW4gew0KJGRhdGEgPSBAKCkNCn0NCnByb2Nlc3N7DQokZGF0YSArPSAkXw0KfQ0KZW5kew0KaWYgKCRkYXRhLmxlbmd0aCAtZXEgMSAtYW5kICRmb3JjZUFycmF5IC1lcSAkZmFsc2UpIHsNCiR2YWx1ZSA9ICRkYXRhWzBdDQp9IGVsc2UgeyANCiR2YWx1ZSA9ICRkYXRhDQp9DQoNCg0KaWYgKCR2YWx1ZSAtZXEgJG51bGwpIHsNCnJldHVybiAibnVsbCINCn0NCg0KDQoNCg0KJGRhdGFUeXBlID0gJHZhbHVlLkdldFR5cGUoKS5OYW1lDQpzd2l0Y2ggLXJlZ2V4ICgkZGF0YVR5cGUpIHsNCiAgICAgICAgICAgICdTdHJpbmcnICB7DQpyZXR1cm4gICJgInswfWAiIiAtZiAoRXNjYXBlLUpTT05TdHJpbmcgJHZhbHVlICkNCn0NCiAgICAgICAgICAgICcoU3lzdGVtXC4pP0RhdGVUaW1lJyAge3JldHVybiAgImAiezA6eXl5eS1NTS1kZH1UezA6SEg6bW06c3N9YCIiIC1mICR2YWx1ZX0NCiAgICAgICAgICAgICdJbnQzMnxEb3VibGUnIHtyZXR1cm4gICIkdmFsdWUifQ0KJ0Jvb2xlYW4nIHtyZXR1cm4gICIkdmFsdWUiLlRvTG93ZXIoKX0NCiAgICAgICAgICAgICcoU3lzdGVtXC4pP09iamVjdFxbXF0nIHsgIyBhcnJheQ0KaWYgKCRtYXhEZXB0aCAtbGUgMCl7cmV0dXJuICJgIiR2YWx1ZWAiIn0NCiRqc29uUmVzdWx0ID0gJycNCmZvcmVhY2goJGVsZW0gaW4gJHZhbHVlKXsNCiNpZiAoJGVsZW0gLWVxICRudWxsKSB7Y29udGludWV9DQppZiAoJGpzb25SZXN1bHQuTGVuZ3RoIC1ndCAwKSB7JGpzb25SZXN1bHQgKz0nLCAnfSANCiRqc29uUmVzdWx0ICs9ICgkZWxlbSB8IENvbnZlcnRUby1KU09OUDIgLW1heERlcHRoICgkbWF4RGVwdGggLTEpKQ0KfQ0KcmV0dXJuICJbIiArICRqc29uUmVzdWx0ICsgIl0iDQogICAgICAgICAgICB9DQonKFN5c3RlbVwuKT9IYXNodGFibGUnIHsgIyBoYXNodGFibGUNCiRqc29uUmVzdWx0ID0gJycNCmZvcmVhY2goJGtleSBpbiAkdmFsdWUuS2V5cyl7DQppZiAoJGpzb25SZXN1bHQuTGVuZ3RoIC1ndCAwKSB7JGpzb25SZXN1bHQgKz0nLCAnfQ0KJGpzb25SZXN1bHQgKz0gDQpAIg0KInswfSI6IHsxfQ0KIkAgLWYgJGtleSAsICgkdmFsdWVbJGtleV0gfCBDb252ZXJ0VG8tSlNPTlAyIC1tYXhEZXB0aCAoJG1heERlcHRoIC0xKSApDQp9DQpyZXR1cm4gInsiICsgJGpzb25SZXN1bHQgKyAifSINCn0NCiAgICAgICAgICAgIGRlZmF1bHQgeyAjb2JqZWN0DQppZiAoJG1heERlcHRoIC1sZSAwKXtyZXR1cm4gICJgInswfWAiIiAtZiAoRXNjYXBlLUpTT05TdHJpbmcgJHZhbHVlKX0NCnJldHVybiAieyIgKw0KKCgkdmFsdWUgfCBHZXQtTWVtYmVyIC1NZW1iZXJUeXBlICpwcm9wZXJ0eSB8ICUgeyANCkAiDQoiezB9IjogezF9DQoiQCAtZiAkXy5OYW1lICwgKCR2YWx1ZS4oJF8uTmFtZSkgfCBDb252ZXJ0VG8tSlNPTlAyIC1tYXhEZXB0aCAoJG1heERlcHRoIC0xKSApIA0KfSkgLWpvaW4gJywgJykgKyAifSINCiAgICB9DQp9DQp9DQp9DQoNCg0KRnVuY3Rpb24gUmVwYWlyTVNPZmZpY2VYbWwgew0KDQppZigkRGlzcGxheVJlcGFpck1vZGFsKXsNCkAiDQo8Q29uZmlndXJhdGlvbiBQcm9kdWN0PSJQcm9QbHVzIj4gIA0KDQogIDwhLS0gIDxEaXNwbGF5IExldmVsPSJub25lIiBDb21wbGV0aW9uTm90aWNlPSJubyIgU3VwcHJlc3NNb2RhbD0ieWVzIiBBY2NlcHRFdWxhPSJ5ZXMiIC8+IC0tPg0KICAgIDxEaXNwbGF5IExldmVsPSJmdWxsIiBDb21wbGV0aW9uTm90aWNlPSJ5ZXMiIFN1cHByZXNzTW9kYWw9Im5vIiBBY2NlcHRFdWxhPSJubyIgLz4NCiAgIDwvQ29uZmlndXJhdGlvbj4NCiJADQp9DQplbHNlew0KDQpAIg0KPENvbmZpZ3VyYXRpb24gUHJvZHVjdD0iUHJvUGx1cyI+ICANCg0KICAgIDxEaXNwbGF5IExldmVsPSJub25lIiBDb21wbGV0aW9uTm90aWNlPSJubyIgU3VwcHJlc3NNb2RhbD0ieWVzIiBBY2NlcHRFdWxhPSJ5ZXMiIC8+IA0KICAgPCEtLSA8RGlzcGxheSBMZXZlbD0iZnVsbCIgQ29tcGxldGlvbk5vdGljZT0ieWVzIiBTdXBwcmVzc01vZGFsPSJubyIgQWNjZXB0RXVsYT0ibm8iIC8+IC0tPg0KICAgPC9Db25maWd1cmF0aW9uPg0KIkANCg0KfQ0KDQp9DQoNCmZ1bmN0aW9uIFRvY2hlY2tSdW5uaW5nU3RhdHVzb2ZXT1JEIA0Kew0KDQokRXJyb3JBY3Rpb25QcmVmZXJlbmNlID0gJ3NpbGVudGx5Y29udGludWUnDQokREF0YVdpdGhvdXQgPSBbUnVudGltZS5JbnRlcm9wc2VydmljZXMuTWFyc2hhbF06OkdldEFjdGl2ZU9iamVjdCgnV29yZC5BcHBsaWNhdGlvbicpDQoNCiAgICBpZigkREF0YVdpdGhvdXQgLWVxICRudWxsKQ0KICAgIHsNCiAgICAgICAjV3JpdGUtSG9zdCAnTm8gYW55IHJ1bm5pbmcgaW5zdGFuY2UgZm91bmQnDQogICAgICAgcmV0dXJuICR0cnVlDQogICAgfQ0KICAgIGVsc2V7DQogICAgICAgICAgICMgV3JpdGUtSG9zdCAiU2F2aW5nIGFuZCBDbG9zaW5nIG9wZW5lZCBpbnN0YW5jZSINCiAgICAgICAgICAgJERBdGFXaXRob3V0LkRvY3VtZW50cyB8ICUgeyAkXy5TYXZlZCA9ICR0cnVlIDsgJF8uQ2xvc2UoKX0gLUVycm9yVmFyaWFibGUgQUJDDQogICAgICAgICAgIA0KICAgICAgICAgICBpZigkQUJDLmNvdW50IC1lcSAwKQ0KICAgICAgICAgICB7DQogICAgICAgICAgICAgIyB3cml0ZS1ob3N0ICdTdWNjZXNzZnVsbHkgU2F2ZWQgYW5kIGNsb3NlZCBpbnN0YW5jZScgLUZvcmVncm91bmRDb2xvciBHcmVlbg0KICAgICAgICAgICAgIHJldHVybiAkdHJ1ZQ0KICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAjIFdyaXRlLUhvc3QgIlVzZXIgZXJyb3IgOiBbJCgkQUJDKSJdIC1Gb3JlZ3JvdW5kQ29sb3IgUmVkIC1CYWNrZ3JvdW5kQ29sb3IgV2hpdGUgIA0KICAgICAgICAgICAgIHJldHVybiAkZmFsc2UgDQogICAgICAgICAgIH0NCiAgICB9DQoNCn0NCkZ1bmN0aW9uIFZlcmlmeUFuZFVwZGF0ZU1vZHVsZShbU3RyaW5nXSAkTW9kdWxlTmFtZSkNCnsNCiAgICAkSXNDb250aW51ZWQgPSAkZmFsc2UNCg0KICAgIFdyaXRlLUhvc3QgIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iDQogICAgV3JpdGUtSG9zdCAiVmVyaWZ5aW5nIE1vZHVsZSA6ICRNb2R1bGVOYW1lIg0KICAgIFdyaXRlLUhvc3QgIiAgICAiIA0KDQogICAgIyBJZiBtb2R1bGUgaXMgaW1wb3J0ZWQgc2F5IHRoYXQgYW5kIGRvIG5vdGhpbmcNCiAgICBpZiAoR2V0LU1vZHVsZSB8IFdoZXJlLU9iamVjdCB7JF8uTmFtZSAtZXEgJE1vZHVsZU5hbWV9KSANCiAgICB7DQogICAgICAgIHdyaXRlLWhvc3QgLUZvcmVncm91bmRDb2xvciA4ICJgdCAkTW9kdWxlTmFtZSBpcyBhbHJlYWR5IGluc3RhbGxlZCIgDQogICAgICAgICRJc0NvbnRpbnVlZCA9ICR0cnVlDQogICAgfSANCiAgICBlbHNlIA0KICAgIHsNCiAgICAgICAgIyBJZiBtb2R1bGUgaXMgbm90IGltcG9ydGVkLCBidXQgYXZhaWxhYmxlIG9uIGRpc2sgdGhlbiBpbXBvcnQNCiAgICAgICAgaWYgKEdldC1Nb2R1bGUgLUxpc3RBdmFpbGFibGUgfCBXaGVyZS1PYmplY3QgeyRfLk5hbWUgLWVxICRNb2R1bGVOYW1lfSkgDQogICAgICAgIHsNCiAgICAgICAgICAgIHRyeQ0KICAgICAgICAgIHsNCiAgICAgICAgICAgIEltcG9ydC1Nb2R1bGUgJE1vZHVsZU5hbWUgLVZlcmJvc2UgLUVycm9yQWN0aW9uwqBTdG9wDQogICAgICAgICAgICB3cml0ZS1ob3N0IC1Gb3JlZ3JvdW5kQ29sb3IgOCAiYHQgJE1vZHVsZU5hbWUgaXMgYWxyZWFkeSBpbnN0YWxsZWQiIA0KICAgICAgICAgICAgJElzQ29udGludWVkID0gJHRydWUNCg0KICAgICAgICAgIH1jYXRjaHsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgIFdyaXRlLUhvc3QgIk1lc3NhZ2U6IFskKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSJdIC1Gb3JlZ3JvdW5kQ29sb3IgUmVkIC1CYWNrZ3JvdW5kQ29sb3IgV2hpdGUgICAgICAgICANCiAgICAgICAgICAgICByZXR1cm4gJGZhbHNlDQoNCiAgICAgICAgICB9DQogICAgICAgIH0gDQogICAgICAgIGVsc2UgDQogICAgICAgIHsNCiAgICAgICAgICAgICMgSWYgbW9kdWxlIGlzIG5vdCBpbXBvcnRlZCwgbm90IGF2YWlsYWJsZSBvbiBkaXNrLCBidXQgaXMgaW4gb25saW5lIGdhbGxlcnkgdGhlbiBpbnN0YWxsIGFuZCBpbXBvcnQNCiAgICAgICAgICAgIGlmIChGaW5kLU1vZHVsZSAtTmFtZSAkTW9kdWxlTmFtZSB8IFdoZXJlLU9iamVjdCB7JF8uTmFtZSAtZXEgJE1vZHVsZU5hbWV9KSANCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgIHRyeXsNCg0KICAgICAgICAgICAgICAgICAgICB3cml0ZS1ob3N0ICJJbnN0YWxsaW5nOiAkTW9kdWxlTmFtZSAiDQoNCiAgICAgICAgICAgICAgICAgICAgSW5zdGFsbC1Nb2R1bGUgLU5hbWUgJE1vZHVsZU5hbWUgLUZvcmNlIC1WZXJib3NlIC1TY29wZSBDdXJyZW50VXNlciAtRXJyb3JBY3Rpb27CoFN0b3ANCiAgICAgICAgICAgICAgICAgICAgSW1wb3J0LU1vZHVsZSAkTW9kdWxlTmFtZSAtVmVyYm9zZSAtRXJyb3JBY3Rpb27CoFN0b3ANCg0KICAgICAgICAgICAgICAgICAgICB3cml0ZS1ob3N0IC1Gb3JlZ3JvdW5kQ29sb3IgOCAiYHQgJE1vZHVsZU5hbWUgaW5zdGFsbGVkIHN1Y2Vzc2Z1bGx5Ig0KICAgICAgICAgICAgICAgICAgICAkSXNDb250aW51ZWQgPSAkdHJ1ZQ0KDQogICAgICAgICAgICAgICAgfWNhdGNoIHsNCg0KICAgICAgICAgICAgICAgICAgICAgV3JpdGUtSG9zdCAiTWVzc2FnZTogWyQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIl0gLUZvcmVncm91bmRDb2xvciBSZWQgLUJhY2tncm91bmRDb2xvciBXaGl0ZSAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRmYWxzZQ0KDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSANCiAgICAgICAgICAgIGVsc2UgDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgIyBJZiBtb2R1bGUgaXMgbm90IGltcG9ydGVkLCBub3QgYXZhaWxhYmxlIGFuZCBub3QgaW4gb25saW5lIGdhbGxlcnkgdGhlbiBhYm9ydA0KICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJFcnJvciB3aGlsZSBJbnN0YWxsaW5nIE1vZHVsZSAkTW9kdWxlTmFtZSA6IG5vdCBpbXBvcnRlZCwgbm90IGF2YWlsYWJsZSBhbmQgbm90IGluIG9ubGluZSBnYWxsZXJ5LCBleGl0aW5nLiINCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHJldHVybiAkSXNDb250aW51ZWQNCn0NCg0KRnVuY3Rpb24gQ2hlY2stTzM2NVByZUNvbmRpdGlvbnsNCg0KICAgIGlmKChbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkQWRtaW4pKSAtYW5kIC1ub3QoW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJEFkbWluUGFzcykpKQ0KICAgIHsNCiAgICAgICAgcmV0dXJuICJFcnJvcjpQbGVhc2UgcHJvdmlkZSBhZG1pbiBsb2dpbiBpZCIgDQoNCiAgICB9ZWxzZWlmKC1ub3QoW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJEFkbWluKSkgLWFuZCAoW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJEFkbWluUGFzcykpKXsNCg0KICAgICAgICByZXR1cm4gIkVycm9yOlBsZWFzZSBwcm92aWRlIGFkbWluIGxvZ2luIHBhc3N3b3JkIiANCg0KICAgIH1lbHNlaWYoKFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRBZG1pbikpIC1hbmQgKFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRBZG1pblBhc3MpKSl7DQoNCiAgICAgICAgcmV0dXJuICJFcnJvcjpQbGVhc2UgcHJvdmlkZSBhZG1pbiBsb2dpbiBwYXNzd29yZCIgDQogIA0KICAgIH0NCg0KICAgICRBZG1pblBhc3MgPSAkQWRtaW5QYXNzIHwgQ29udmVydFRvLVNlY3VyZVN0cmluZyAtYXNQbGFpblRleHQgLUZvcmNlDQogICAgJEFkbWluQ3JlZGVudGlhbCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJEFkbWluLCRBZG1pblBhc3MpDQogICAgICAgIA0KICAgICMjIyMjIyBWZXJpZnkgd2hldGhlciBNU29ubGluZSBpcyBpbnN0YWxsZWQgIyMjIyMjIyMgICANCg0KICAgIGlmKFZlcmlmeUFuZFVwZGF0ZU1vZHVsZSAtTW9kdWxlTmFtZSAnTVNPbmxpbmUnKXsgICAgDQogICAgfWVsc2V7IHJldHVybiAiRXJyb3I6TVNPbmxpbmUgZG93bmxvYWQgZmFpbGVkICIgfSAgICAgIA0KICAgICANCiAgICAjIyMjIyMgVmVyaWZ5IHdoZXRoZXIgQXp1cmVBRCBpcyBpbnN0YWxsZWQgIyMjIyMjIyMjICAgIA0KDQogICAgaWYoVmVyaWZ5QW5kVXBkYXRlTW9kdWxlIC1Nb2R1bGVOYW1lICdBenVyZUFEJyl7ICAgIA0KICAgIH1lbHNleyByZXR1cm4gIkVycm9yOkF6dXJlQUQgZG93bmxvYWQgZmFpbGVkIiB9DQoNCiAgICAgIyMjIyMgQ2hlY2sgaWYgZG9tYWluIGV4aXN0ICMjIyMjIyMjDQoNCiAgICAkQWRtaW5Eb21haW4gPSAkQWRtaW4uU3BsaXQoJ0AnKVsxXSAgDQogICAgJFVzZXJEb21haW4gPSAkVXNlci5TcGxpdCgnQCcpWzFdDQoNCiAgICANCiAgICAjIyMjIyBDaGVjayBpZiBPMzY1IEFkbWluIGNyZWRlbnRpYWxzIHdvcmsgIyMjIyMjIyMNCiAgICAjIyMjIyBDaGVjayBpZiB1c2VyIGV4aXN0ICMjIyMjIyMjDQogICANCiAgICB0cnl7DQogICAgICAgIENvbm5lY3QtTXNvbFNlcnZpY2UgLUNyZWRlbnRpYWwgJEFkbWluQ3JlZGVudGlhbCAtRXJyb3JBY3Rpb27CoFN0b3ANCg0KICAgICAgICBpZigkPyl7DQogICAgDQogICAgICAgICAgICBpZihbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkVXNlcikpDQogICAgICAgICAgICB7ICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICByZXR1cm4gIkVycm9yOlBsZWFzZSBwcm92aWRlIHVzZXIgbmFtZSIgDQogICAgICAgICAgICB9IA0KDQogICAgICAgICAgICAgICAgIHRyeXsNCiAgICAgICAgICAgICAgICAgICAgICAgICRkID0gR2V0LU1zb2xEb21haW4gLURvbWFpbk5hbWUgJFVzZXJEb21haW4gLUVycm9yQWN0aW9uwqBTdG9wDQogICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCQ/KXsgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlew0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAiRXJyb3I6RG9tYWluIG5hbWUgJCgkVXNlckRvbWFpbikgaXMgbm90IGZvdW5kIg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIH1jYXRjaHsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICJFcnJvcjokKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSINCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIGlmKCEoJEFkbWluRG9tYWluIC1lcSAkVXNlckRvbWFpbikpew0KDQogICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAiRXJyb3I6QWRtaW4gRG9tYWluICQoJEFkbWluRG9tYWluKSBtaXNtYXRjaGVkIHdpdGggdXNlciBkb21haW4gJCgkVXNlckRvbWFpbikiDQoNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICANCiAgICAgICAgICAgdHJ5ew0KDQogICAgICAgICAgICAgR2V0LU1zb2xVc2VyIC1Vc2VyUHJpbmNpcGFsTmFtZSAkVXNlciAtRXJyb3JBY3Rpb27CoFN0b3ANCg0KICAgICAgICAgICAgICAgaWYoJD8peyAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICJFcnJvcjpVc2VyIG5vdCBmb3VuZCINCiAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICB9Y2F0Y2h7DQogICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICByZXR1cm4gIkVycm9yOlskKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKV0iIA0KICAgICAgICAgICB9ICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICByZXR1cm4gIkVycm9yOk1TIG9ubGluZSBzZXJ2aWNlIGlzIG5vdCBjb25uZWN0ZWQiDQogICAgICAgIH0NCg0KICAgIH1jYXRjaCB7DQogDQogICAgICByZXR1cm4gIkVycm9yOlskKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKV0iDQogICAgfQ0KDQogICByZXR1cm4gIlN1Y2Nlc3M6UHJlQ29uZGl0aW9uIGV4ZWN1dGVkIHN1Y2Nlc3NmdWxseSINCn0NCg0KRnVuY3Rpb24gUmVwYWlyLU1TT2ZmaWNlIHsNCg0KW0NtZGxldEJpbmRpbmcoKV0NClBhcmFtKA0KICAgIFtzdHJpbmddICRDb21wdXRlck5hbWUgPSAkZW52OkNPTVBVVEVSTkFNRSwNCg0KICAgIFtQYXJhbWV0ZXIoKV0NCiAgICBbYm9vbF0gJFdhaXRGb3JJbnN0YWxsVG9GaW5pc2ggPSAkVHJ1ZSwNCg0KICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSldDQogICAgW3N0cmluZ10gJFRhcmdldEZpbGVQYXRoID0gJE5VTEwNCiAgICAgICAgDQopDQoNCiAgICAgUHJvY2Vzc3sNCiAgICAgICAgDQogICAgICAgICRTdGRBcnIgPSBAKCkNCiAgICAgICAgJFN0ZE91dEFyciA9IEAoKQ0KICAgICAgICAkU3RkRXJyQXJyID0gQCgpDQogICAgICAgICRSZXN1bHQgPSAiIg0KDQogICAgICAgICRPZmZpY2VSZXBhaXJFcnJPYmplY3QgPSBOZXctT2JqZWN0IC1UeXBlTmFtZSBwc29iamVjdA0KICAgICAgICAkT2ZmaWNlUmVwYWlyRXJyT2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgVGFza05hbWUgLVZhbHVlICJNUyBvZmZpY2UgcmVwYWlyIg0KICAgICAgICAkT2ZmaWNlUmVwYWlyRXJyT2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgU3RhdHVzIC1WYWx1ZSAiZmFpbCIgDQogICAgICAgICRPZmZpY2VSZXBhaXJFcnJPYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBDb2RlIC1WYWx1ZSAxDQogICAgICAgICRPZmZpY2VSZXBhaXJFcnJPYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBzdGRlcnIgLVZhbHVlICRudWxsDQogICAgICAgICRPZmZpY2VSZXBhaXJFcnJPYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBSZXN1bHQgLVZhbHVlICRudWxsDQogICAgICAgICRPZmZpY2VSZXBhaXJFcnJPYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBzdGRvdXQgLVZhbHVlICRudWxsICANCiAgICAgICAgDQogICAgICAgIA0KICAgICAgICAkU3VjY2Vzc0FyciA9IEAoKQ0KICAgICAgICAkU3VjY2Vzc091dEFyciA9IEAoKSAgICAgICAgDQogICAgICAgICRTdWNjZXNzUmVzdWx0ID0gIiIgICANCg0KICAgICAgICAkT2ZmaWNlUmVwYWlyU3VjY09iamVjdCA9IE5ldy1PYmplY3QgLVR5cGVOYW1lIHBzb2JqZWN0DQogICAgICAgICRPZmZpY2VSZXBhaXJTdWNjT2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgVGFza05hbWUgLVZhbHVlICJNUyBvZmZpY2UgcmVwYWlyIg0KICAgICAgICAkT2ZmaWNlUmVwYWlyU3VjY09iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFN0YXR1cyAtVmFsdWUgIlN1Y2Nlc3MiIA0KICAgICAgICAkT2ZmaWNlUmVwYWlyU3VjY09iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIENvZGUgLVZhbHVlIDANCiAgICAgICAgJE9mZmljZVJlcGFpclN1Y2NPYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBSZXN1bHQgLVZhbHVlICRudWxsDQogICAgICAgICRPZmZpY2VSZXBhaXJTdWNjT2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgc3Rkb3V0IC1WYWx1ZSAkbnVsbCAgDQogICAgICAgICRPZmZpY2VSZXBhaXJTdWNjT2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgZGF0YU9iamVjdCAtVmFsdWUgJG51bGwgIA0KDQogICAgICAgICRjdXJyZW50RmlsZU5hbWUgPSBHZXQtQ3VycmVudEZpbGVOYW1lDQogICAgICAgIFNldC1BbGlhcyAtbmFtZSBMSU5FTlVNIC12YWx1ZSBHZXQtQ3VycmVudExpbmVOdW1iZXIgDQogICAgICAgICAgIA0KICAgICAgICBbYm9vbF0gJGlzSW5QaXBlID0gJHRydWUNCiAgICAgICAgaWYgKCgkUFNDbWRsZXQuTXlJbnZvY2F0aW9uLlBpcGVsaW5lTGVuZ3RoIC1lcSAxKSAtb3IgYA0KICAgICAgICAgICAgKCRQU0NtZGxldC5NeUludm9jYXRpb24uUGlwZWxpbmVMZW5ndGggLWVxICRQU0NtZGxldC5NeUludm9jYXRpb24uUGlwZWxpbmVQb3NpdGlvbikpIHsNCg0KICAgICAgICAgICAgJGlzSW5QaXBlID0gJGZhbHNlDQogICAgICAgIH0NCg0KICAgICAgICAjIyMjIyMjIyMjIyAgVmVyaWZ5IFBvd2Vyc2hlbGwgVmVyc2lvbiAjIyMjIyMjIyMjIyMjIw0KDQogICAgICAgICRHZXRQU1ZlcnNpb24gPSAkUFNWZXJzaW9uVGFibGUuUFNWZXJzaW9uIA0KICAgICAgICAkUFNNYWpvciA9ICRHZXRQU1ZlcnNpb24uTWFqb3IuVG9TdHJpbmcoKQ0KICAgICAgICAkUFNNaW5vciA9ICRHZXRQU1ZlcnNpb24uTWlub3IuVG9TdHJpbmcoKQ0KICAgICAgICAkUFNWZXJzaW9uID0gJFBTTWFqb3IgKyAnLicgKyAkUFNNaW5vcg0KDQogICAgICAgICBpZihbVmVyc2lvbl0kUFNWZXJzaW9uIC1ndCBbVmVyc2lvbl0iMi4wIiAtb3IgW1ZlcnNpb25dJFBTVmVyc2lvbiAtZXEgW1ZlcnNpb25dIjIuMCIpew0KICAgICAgICAgICAjIFdyaXRlLUhvc3QgIlBTIFZlcnNpb24gOiAkKFtWZXJzaW9uXSRQU1ZlcnNpb24pIiAgICANCiAgICAgICAgfWVsc2UgeyAgICAgICAgDQogICAgICAgICAgICMgV3JpdGUtSG9zdCAiSW5zdGFsbGVkIFBTIFZlcnNpb24gOiAkKFtWZXJzaW9uXSRQU1ZlcnNpb24pIGlzIG5vdCBzdXBwb3J0ZWQiDQoNCiAgICAgICAgICAgJFN0ZEVyciA9IE5ldy1PYmplY3QgUFNPYmplY3QgLVByb3BlcnR5IEB7CQkgICAgICAgDQoJCSAgICAgICAgICAgICAgICAgIGlkID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSAgIlBvd2VyU2hlbGwgdmVyc2lvbiBiZWxvdyAyLjAgaXMgbm90IHN1cHBvcnRlZCI7DQogICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbCA9ICJQb3dlclNoZWxsIHZlcnNpb24gYmVsb3cgMi4wIGlzIG5vdCBzdXBwb3J0ZWQiOw0KDQogICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgJFN0ZEVyckFyciArPSAkU3RkRXJyDQogICAgICAgICAgICRTdGRPdXRBcnIgKz0gKCJQb3dlclNoZWxsIHZlcnNpb24gYmVsb3cgMi4wIGlzIG5vdCBzdXBwb3J0ZWQiKQ0KICAgICAgICAgICAkUmVzdWx0ID0gIlBvd2VyU2hlbGwgdmVyc2lvbiBiZWxvdyAyLjAgaXMgbm90IHN1cHBvcnRlZCINCg0KICAgICAgICAgICAkT2ZmaWNlUmVwYWlyRXJyT2JqZWN0LnN0ZGVyciA9ICRTdGRFcnJBcnINCiAgICAgICAgICAgJE9mZmljZVJlcGFpckVyck9iamVjdC5SZXN1bHQgPSAkUmVzdWx0ICAgICAgICAgIA0KICAgICAgICAgICAkT2ZmaWNlUmVwYWlyRXJyT2JqZWN0LnN0ZG91dCA9ICRTdGRPdXRBcnINCg0KICAgICAgICAgICByZXR1cm4gJE9mZmljZVJlcGFpckVyck9iamVjdA0KICAgICAgICB9DQoNCiAgICAgICAgIyMjIyMjIyMjIyMgIFZlcmlmeSBPcGVyYXRpbmcgU3lzdGVtIFZlcnNpb24gIyMjIyMjIyMjIyMjIyMNCg0KICAgICAgICAkR2V0T1NWZXJzaW9uID0gW1ZlcnNpb25dKEdldC1JdGVtUHJvcGVydHkgLVBhdGggIiQoJEVudjpXaW5kaXIpXFN5c3RlbTMyXGhhbC5kbGwiIGANCiAgICAgICAgICAgICAgICAgICAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZSkuVmVyc2lvbkluZm8uRmlsZVZlcnNpb24uU3BsaXQoKVswXQ0KDQogICAgICAgICRPU01ham9yID0gJEdldE9TVmVyc2lvbi5NYWpvci5Ub1N0cmluZygpDQogICAgICAgICRPU01pbm9yID0gJEdldE9TVmVyc2lvbi5NaW5vci5Ub1N0cmluZygpDQogICAgICAgICRPU1ZlcnNpb24gPSAkT1NNYWpvciArICcuJyArICRPU01pbm9yDQoNCiAgICAgICAgaWYoW1ZlcnNpb25dJE9TVmVyc2lvbiAtZ3QgW1ZlcnNpb25dIjYuMCIgLW9yIFtWZXJzaW9uXSRPU1ZlcnNpb24gLWVxIFtWZXJzaW9uXSI2LjAiKXsgICAgICAgICANCiAgICAgICAgICAgDQogICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgIA0KICAgICAgICAgICAkU3RkRXJyID0gTmV3LU9iamVjdCBQU09iamVjdCAtUHJvcGVydHkgQHsJCSAgICAgICANCgkJICAgICAgICAgICAgICAgICAgaWQgPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA9ICAiUG93ZXJTaGVsbCBTY3JpcHQgc3VwcG9ydHMgV2luZG93IDcsIFdpbmRvdyAyMDA4UjIgYW5kIGhpZ2hlciB2ZXJzaW9uIG9wZXJhdGluZyBzeXN0ZW0iOw0KICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWwgPSAiUG93ZXJTaGVsbCBTY3JpcHQgc3VwcG9ydHMgV2luZG93IDcsIFdpbmRvdyAyMDA4UjIgYW5kIGhpZ2hlciB2ZXJzaW9uIG9wZXJhdGluZyBzeXN0ZW0iOw0KDQogICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgJFN0ZEVyckFyciArPSAkU3RkRXJyDQogICAgICAgICAgICRTdGRPdXRBcnIgKz0gKCJQb3dlclNoZWxsIFNjcmlwdCBzdXBwb3J0cyBXaW5kb3cgNywgV2luZG93IDIwMDhSMiBhbmQgaGlnaGVyIHZlcnNpb24gb3BlcmF0aW5nIHN5c3RlbSIpDQogICAgICAgICAgICRSZXN1bHQgPSAiUG93ZXJTaGVsbCBTY3JpcHQgc3VwcG9ydHMgV2luZG93IDcsIFdpbmRvdyAyMDA4UjIgYW5kIGhpZ2hlciB2ZXJzaW9uIG9wZXJhdGluZyBzeXN0ZW0iDQoNCiAgICAgICAgICAgJE9mZmljZVJlcGFpckVyck9iamVjdC5zdGRlcnIgPSAkU3RkRXJyQXJyDQogICAgICAgICAgICRPZmZpY2VSZXBhaXJFcnJPYmplY3QuUmVzdWx0ID0gJFJlc3VsdCAgICAgICAgICANCiAgICAgICAgICAgJE9mZmljZVJlcGFpckVyck9iamVjdC5zdGRvdXQgPSAkU3RkT3V0QXJyDQoNCiAgICAgICAgICAgcmV0dXJuICRPZmZpY2VSZXBhaXJFcnJPYmplY3QNCiAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgfQ0KDQogICAgICAgICMjIyMjIyMjIyMjICBHZXQgT3BlcmF0aW5nIFN5c3RlbSBBcmNoaXRlY3R1cmUgIyMjIyMjIyMjIyMjIyMNCg0KICAgICAgICAkT1NBcmNoaXRlY3R1cmUgPSAoR2V0LVdtaU9iamVjdCBXaW4zMl9PcGVyYXRpbmdTeXN0ZW0pLk9TQXJjaGl0ZWN0dXJlDQogICAgICAgICMgV3JpdGUtSG9zdCAgIk9TIEFyY2hpdGVjdHVyZSA6ICRPU0FyY2hpdGVjdHVyZSINCg0KICAgICAgICAkU3VjY2Vzc0FyciArPSAiT1MgQXJjaGl0ZWN0dXJlIDogJE9TQXJjaGl0ZWN0dXJlIg0KICAgICAgICAkU3VjY2Vzc091dEFyciArPSAiT1MgQXJjaGl0ZWN0dXJlIDogJE9TQXJjaGl0ZWN0dXJlIg0KDQogICAgICAgICMjIyMjIyMjIyMjICBHZXQgT2ZmaWNlIFZlcnNpb25zICMjIyMjIyMjIyMjIyMjDQoNCiAgICAgICAgJE1TT2ZmaWNlVmVyc2lvbiA9IEdldC1PZmZpY2VWZXJzaW9uICANCiAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgIGlmKCRNU09mZmljZVZlcnNpb24gLWVxICROVUxMKXsgICAgICAgICAgICANCiAgICAgICAgICAgICAjIFdyaXRlLUhvc3QgIk1TIE9mZmljZSBpcyBub3QgaW5zdGFsbGVkIG9uIHN5c3RlbSINCiAgICAgICAgICAgICAjIHJldHVybg0KDQogICAgICAgICAgICRTdGRFcnIgPSBOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSBAewkJICAgICAgIA0KCQkgICAgICAgICAgICAgICAgICBpZCA9IDA7DQogICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlID0gICJNUyBPZmZpY2UgaXMgbm90IGluc3RhbGxlZCBvbiBzeXN0ZW0iDQogICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbCA9ICJNUyBPZmZpY2UgaXMgbm90IGluc3RhbGxlZCBvbiBzeXN0ZW0iDQoNCiAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAkU3RkRXJyQXJyICs9ICRTdGRFcnINCiAgICAgICAgICAgJFN0ZE91dEFyciArPSAoIk1TIE9mZmljZSBpcyBub3QgaW5zdGFsbGVkIG9uIHN5c3RlbSIpDQogICAgICAgICAgICRSZXN1bHQgPSAiTVMgT2ZmaWNlIGlzIG5vdCBpbnN0YWxsZWQgb24gc3lzdGVtIg0KDQogICAgICAgICAgICRPZmZpY2VSZXBhaXJFcnJPYmplY3Quc3RkZXJyID0gJFN0ZEVyckFycg0KICAgICAgICAgICAkT2ZmaWNlUmVwYWlyRXJyT2JqZWN0LlJlc3VsdCA9ICRSZXN1bHQgICAgICAgICAgDQogICAgICAgICAgICRPZmZpY2VSZXBhaXJFcnJPYmplY3Quc3Rkb3V0ID0gJFN0ZE91dEFycg0KDQogICAgICAgICAgIHJldHVybiAkT2ZmaWNlUmVwYWlyRXJyT2JqZWN0DQogICAgICAgICB9IA0KICAgICAgICAgDQogICAgICAgICAgICAgICAgDQogICAgICAgICAkT2ZmaWNlVmVyc2lvbiA9ICRNU09mZmljZVZlcnNpb24uVmVyc2lvbi5TcGxpdCgnLicpDQogICAgICAgICAkT01ham9yID0gJE9mZmljZVZlcnNpb25bMF0NCiAgICAgICAgICRPTWlub3IgPSAkT2ZmaWNlVmVyc2lvblsxXQ0KICAgICAgICAgJE9WZXJzaW9uID0gJE9NYWpvciArICcuJyArICRPTWlub3INCg0KICAgICAgICAgICAgICAgDQogICAgICAgICBpZihbVmVyc2lvbl0kT1ZlcnNpb24gLWd0IFtWZXJzaW9uXSIxNC4wIiAtb3IgW1ZlcnNpb25dJE9WZXJzaW9uIC1lcSBbVmVyc2lvbl0iMTQuMCIpeyAgDQogICAgICAgICAgICAgICANCiAgICAgICAgICAgICMgV3JpdGUtSG9zdCAiTVMgT2ZmaWNlIFZlcnNpb24gOiAkKFtWZXJzaW9uXSRPVmVyc2lvbikiIA0KICAgICAgICAgICAgJFN1Y2Nlc3NBcnIgKz0gIk1TIE9mZmljZSBWZXJzaW9uIDogJChbVmVyc2lvbl0kT1ZlcnNpb24pIiANCiAgICAgICAgICAgICRTdWNjZXNzT3V0QXJyICs9ICJNUyBPZmZpY2UgVmVyc2lvbiA6ICQoW1ZlcnNpb25dJE9WZXJzaW9uKSINCiAgICAgICAgICAgICAgIA0KICAgICAgICAgfWVsc2Ugew0KDQogICAgICAgICAgICMgV3JpdGUtSG9zdCAiSW5zdGFsbGVkIE1TIG9mZmljZSBWZXJzaW9uIDogJCgkT2ZmaWNlVmVyc2lvbikgaXMgbm90IHN1cHBvcnRlZCINCiAgICAgICAgICAgIyByZXR1cm4NCg0KICAgICAgICAgICAkU3RkRXJyID0gTmV3LU9iamVjdCBQU09iamVjdCAtUHJvcGVydHkgQHsJCSAgICAgICANCgkJICAgICAgICAgICAgICAgICAgaWQgPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA9ICAiSW5zdGFsbGVkIE1TIG9mZmljZSBWZXJzaW9uIGlzc3VlIg0KICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWwgPSAiSW5zdGFsbGVkIE1TIG9mZmljZSBWZXJzaW9uIDogJCgkT2ZmaWNlVmVyc2lvbikgaXMgbm90IHN1cHBvcnRlZCINCg0KICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICRTdGRFcnJBcnIgKz0gJFN0ZEVycg0KICAgICAgICAgICAkU3RkT3V0QXJyICs9ICgiSW5zdGFsbGVkIE1TIG9mZmljZSBWZXJzaW9uIDogJCgkT2ZmaWNlVmVyc2lvbikgaXMgbm90IHN1cHBvcnRlZCIpDQogICAgICAgICAgICRSZXN1bHQgPSAiSW5zdGFsbGVkIE1TIG9mZmljZSBWZXJzaW9uIDogJCgkT2ZmaWNlVmVyc2lvbikgaXMgbm90IHN1cHBvcnRlZCINCg0KICAgICAgICAgICAkT2ZmaWNlUmVwYWlyRXJyT2JqZWN0LnN0ZGVyciA9ICRTdGRFcnJBcnINCiAgICAgICAgICAgJE9mZmljZVJlcGFpckVyck9iamVjdC5SZXN1bHQgPSAkUmVzdWx0ICAgICAgICAgIA0KICAgICAgICAgICAkT2ZmaWNlUmVwYWlyRXJyT2JqZWN0LnN0ZG91dCA9ICRTdGRPdXRBcnINCg0KICAgICAgICAgICByZXR1cm4gJE9mZmljZVJlcGFpckVyck9iamVjdA0KDQogICAgICAgICB9ICAgICAgDQoNCiAgICAgICAgIGlmKCRNU09mZmljZVZlcnNpb24uQ291bnQgLWd0IDEpIHsgICAgICAgICAgICANCiAgICAgICAgICAgIA0KICAgICAgICAgICAgPCMgV3JpdGUtSG9zdCAgIiAgICAiDQogICAgICAgICAgICAgV3JpdGUtSG9zdCAiTXVsdGlwbGUgdmVyc2lvbnMgb2YgTVMgT2ZmaWNlIGlzIGluc3RhbGxlZCBvbiB0aGUgc3lzdGVtLiBVbmluc3RhbGwgYG4gYWxsIHZlcnNpb25zIG9mIG9mZmljZSBhbmQgaW5zdGFsbGVkIGRlc2lyZWQgdmVyc2lvbiIgDQogICAgICAgICAgICAgV3JpdGUtSG9zdCAgIiAgICAiDQogICAgICAgICAgICAgV3JpdGUtSG9zdCAiTGlzdCBvZiBhbGwgaW5zdGFsbGVkIE1TIE9mZmljZSINCiAgICAgICAgICAgICBXcml0ZS1Ib3N0ICItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIg0KICAgICAgICAgICAgIFdyaXRlLUhvc3QgIiQoJE1TT2ZmaWNlVmVyc2lvbi5EaXNwbGF5TmFtZSkgICQoJE1TT2ZmaWNlVmVyc2lvbi5WZXJzaW9uKSINCiAgICAgICAgICAgICByZXR1cm4gICM+DQoNCiAgICAgICAgICAgICAkU3RkRXJyID0gTmV3LU9iamVjdCBQU09iamVjdCAtUHJvcGVydHkgQHsJCSAgICAgICANCgkJICAgICAgICAgICAgICAgICAgaWQgPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA9ICAiTXVsdGlwbGUgdmVyc2lvbnMgb2YgTVMgT2ZmaWNlIGlzIGluc3RhbGxlZCBvbiB0aGUgc3lzdGVtLiBVbmluc3RhbGwgYWxsIHZlcnNpb25zIG9mIG9mZmljZSBhbmQgaW5zdGFsbGVkIGRlc2lyZWQgdmVyc2lvbiIgDQogICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbCA9ICJMaXN0IG9mIGFsbCBpbnN0YWxsZWQgTVMgT2ZmaWNlIg0KDQogICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICRTdGRFcnJBcnIgKz0gJFN0ZEVycg0KICAgICAgICAgICAgICAgJFN0ZE91dEFyciArPSAkTVNPZmZpY2VWZXJzaW9uLkRpc3BsYXlOYW1lDQogICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICRSZXN1bHQgPSAiTXVsdGlwbGUgdmVyc2lvbnMgb2YgTVMgT2ZmaWNlIGlzIGluc3RhbGxlZCBvbiB0aGUgc3lzdGVtLiBVbmluc3RhbGwgYWxsIHZlcnNpb25zIG9mIG9mZmljZSBhbmQgaW5zdGFsbGVkIGRlc2lyZWQgdmVyc2lvbiIgDQoNCiAgICAgICAgICAgICAgICRPZmZpY2VSZXBhaXJFcnJPYmplY3Quc3RkZXJyID0gJFN0ZEVyckFycg0KICAgICAgICAgICAgICAgJE9mZmljZVJlcGFpckVyck9iamVjdC5SZXN1bHQgPSAkUmVzdWx0ICAgICAgICAgIA0KICAgICAgICAgICAgICAgJE9mZmljZVJlcGFpckVyck9iamVjdC5zdGRvdXQgPSAkU3RkT3V0QXJyDQoNCiAgICAgICAgICAgICAgICRPZmZpY2VSZXBhaXJFcnJPYmogPSAgTmV3LU9iamVjdCBwc29iamVjdA0KICAgICAgICAgICAgICAgJE9mZmljZVJlcGFpckVyck9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIEluc3RhbGxlZE9mZmljZXMgLVZhbHVlICRNU09mZmljZVZlcnNpb24uRGlzcGxheU5hbWUNCg0KICAgICAgICAgICAgICAgJE9mZmljZVJlcGFpckVyck9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIGRhdGFPYmplY3QgLVZhbHVlICRPZmZpY2VSZXBhaXJFcnJPYmoNCg0KICAgICAgICAgICAgICAgcmV0dXJuICRPZmZpY2VSZXBhaXJFcnJPYmplY3QNCg0KICAgICAgICAgIH0NCiAgICAgICAgICANCiAgICAgICAgICBpZighKCRSZXBhaXJNU09mZmljZSAtZXEgJE1TT2ZmaWNlVmVyc2lvbi5EaXNwbGF5TmFtZSkpew0KICAgICAgICAgICAgDQogICAgICAgICAgICA8Iw0KICAgICAgICAgICAgIA0KICAgICAgICAgICAgIFdyaXRlLUhvc3QgICIgICAgIg0KICAgICAgICAgICAgIFdyaXRlLUhvc3QgIlNlbGVjdGVkIE1TIG9mZmljZSBpcyBub3QgZm91bmQiDQogICAgICAgICAgICAgV3JpdGUtSG9zdCAiTGlzdCBvZiBhbGwgaW5zdGFsbGVkIE1TIE9mZmljZSINCiAgICAgICAgICAgICBXcml0ZS1Ib3N0ICItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIg0KICAgICAgICAgICAgIFdyaXRlLUhvc3QgIiQoJE1TT2ZmaWNlVmVyc2lvbi5EaXNwbGF5TmFtZSkiDQogICAgICAgICAgICAgDQogICAgICAgICAgICAgIz4NCg0KICAgICAgICAgICAgICRTdGRFcnIgPSBOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSBAewkJICAgICAgIA0KCQkgICAgICAgICAgICAgICAgICBpZCA9IDA7DQogICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlID0gICJTZWxlY3RlZCBNUyBvZmZpY2UgaXMgbm90IGZvdW5kIg0KICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWwgPSAiTGlzdCBvZiBhbGwgaW5zdGFsbGVkIE1TIE9mZmljZSINCg0KICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAkU3RkRXJyQXJyICs9ICRTdGRFcnINCiAgICAgICAgICAgICAgICRTdGRPdXRBcnIgKz0gJE1TT2ZmaWNlVmVyc2lvbi5EaXNwbGF5TmFtZQ0KICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAkUmVzdWx0ID0gIlNlbGVjdGVkIE1TIG9mZmljZSBpcyBub3QgZm91bmQiDQoNCiAgICAgICAgICAgICAgICRPZmZpY2VSZXBhaXJFcnJPYmplY3Quc3RkZXJyID0gJFN0ZEVyckFycg0KICAgICAgICAgICAgICAgJE9mZmljZVJlcGFpckVyck9iamVjdC5SZXN1bHQgPSAkUmVzdWx0ICAgICAgICAgIA0KICAgICAgICAgICAgICAgJE9mZmljZVJlcGFpckVyck9iamVjdC5zdGRvdXQgPSAkU3RkT3V0QXJyDQoNCiAgICAgICAgICAgICAgICRPZmZpY2VSZXBhaXJFcnJPYmogPSAgTmV3LU9iamVjdCBwc29iamVjdA0KICAgICAgICAgICAgICAgJE9mZmljZVJlcGFpckVyck9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIEluc3RhbGxlZE9mZmljZXMgLVZhbHVlICRNU09mZmljZVZlcnNpb24uRGlzcGxheU5hbWUNCg0KICAgICAgICAgICAgICAgJE9mZmljZVJlcGFpckVyck9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIGRhdGFPYmplY3QgLVZhbHVlICRPZmZpY2VSZXBhaXJFcnJPYmoNCg0KICAgICAgICAgICAgICAgcmV0dXJuICRPZmZpY2VSZXBhaXJFcnJPYmplY3QNCg0KICAgICAgICAgIH0NCg0KICAgICAgICAgaWYoJE1TT2ZmaWNlVmVyc2lvbi5Db3VudCAtZXEgMSAtYW5kICRSZXBhaXJNU09mZmljZSAtZXEgIk1pY3Jvc29mdCBPZmZpY2UgUHJvZmVzc2lvbmFsIFBsdXMgMjAxMCIpIHsgIA0KICAgICAgICAgICAgaWYoLW5vdChUb2NoZWNrUnVubmluZ1N0YXR1c29mV09SRCkpew0KICAgICAgICAgICAgICAgIHJldHVybg0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICANCiAgICAgaWYoJE1TT2ZmaWNlVmVyc2lvbi5EaXNwbGF5TmFtZS5Db250YWlucygiMzY1Iikpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgJE8zNjVQcmVDaGVjayA9IENoZWNrLU8zNjVQcmVDb25kaXRpb24gIA0KDQogICAgICAgICAgICAgJE8zNjVQcmVDaGVja0FyciA9ICRPMzY1UHJlQ2hlY2suU3BsaXQoJzonKQ0KDQogICAgICAgICAgICAgaWYoICRPMzY1UHJlQ2hlY2tBcnJbMF0gLWVxICJFcnJvciIpew0KDQogICAgICAgICAgICAgICAgJFN0ZEVyciA9IE5ldy1PYmplY3QgUFNPYmplY3QgLVByb3BlcnR5IEB7CQkgICAgICAgDQoJCSAgICAgICAgICAgICAgICAgIGlkID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSAgIkVycm9yIG9jY3VyZWQiIDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsID0gJE8zNjVQcmVDaGVja0FyclswXSA7DQoNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICRTdGRFcnJBcnIgKz0gJFN0ZEVycg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICRSZXN1bHQgPSAiRXJyb3Igb2NjdXJlZCINCg0KICAgICAgICAgICAgICAgJE9mZmljZVJlcGFpckVyck9iamVjdC5zdGRlcnIgPSAkU3RkRXJyQXJyDQogICAgICAgICAgICAgICAkT2ZmaWNlUmVwYWlyRXJyT2JqZWN0LlJlc3VsdCA9ICRSZXN1bHQgICAgICAgICAgDQogICAgICAgICAgICAgICAkT2ZmaWNlUmVwYWlyRXJyT2JqZWN0LnN0ZG91dCA9ICRTdGRPdXRBcnINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgcmV0dXJuICRPZmZpY2VSZXBhaXJFcnJPYmplY3QNCiAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICA8IyAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgaWYoISRPMzY1UHJlQ2hlY2spew0KICAgICAgICAgICAgICAgICAgIHJldHVybg0KICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAjPg0KICAgICAgICAgIH0NCiAgICAgICAgICANCiAgICAgICAgDQogICAgICAgICAgIyMjIyMjIyMjIyMjIyMjIyBSZXBhaXIgT2ZmaWNlICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgIGlmKCEkTVNPZmZpY2VWZXJzaW9uLkNsaWNrVG9SdW4pew0KICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgJEluc3RhbGxhdGlvblR5cGUgPSAiTVNJIg0KICAgICAgICAgICAgICAkUmVwYWlyVHlwZVN0cmluZyA9ICJSZXBhaXIiDQoNCiAgICAgICAgICAgICAgJFJlcGFpclhtbFBhdGggPSAiJGVudjpQVUJMSUNcRG9jdW1lbnRzXFJlcGFpck1TT2ZmaWNlWG1sLnhtbCINCiAgICAgICAgICAgICAgUmVwYWlyTVNPZmZpY2VYbWwgfCBPdXQtRmlsZSAkUmVwYWlyWG1sUGF0aA0KDQogICAgICAgICAgICAgICRSZXBhaXJTdHJpbmcgPSAkTVNPZmZpY2VWZXJzaW9uLlVuaW5zdGFsbFN0cmluZy5TcGxpdCgnLycpWzBdICANCiAgICAgICAgICAgICANCiAgICAgICAgICAgICAgJGNtZExpbmUgPSAkKCRSZXBhaXJTdHJpbmcpDQogICAgICAgICAgICAgICRjbWRTdWJBcmdzID0gIi9yZXBhaXIgUFJPUExVU1IgL2NvbmZpZyAkUmVwYWlyWG1sUGF0aCIgDQoNCiAgICAgICAgICAgfWVsc2V7ICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAkSW5zdGFsbGF0aW9uVHlwZSA9ICJDbGlja1RvUnVuIiAgDQogICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICRpbmRleCA9ICRNU09mZmljZVZlcnNpb24uTW9kaWZ5UGF0aC5MYXN0SW5kZXhPZignIicpDQogICAgICAgICAgICAgICAkUmVwYWlyU3RyaW5nID0gJE1TT2ZmaWNlVmVyc2lvbi5Nb2RpZnlQYXRoLlN1YnN0cmluZygwLCRpbmRleCArIDEpDQogICAgICAgICAgICAgICAkTGFuZ3VhZ2VTdHJpbmcgPSAkTVNPZmZpY2VWZXJzaW9uLk1vZGlmeVBhdGguU3Vic3RyaW5nKCRpbmRleCArIDEpLlNwbGl0KCIgIilbM10NCiAgICAgICAgICAgICAgICRQbGF0Zm9ybVN0cmluZyA9ICRNU09mZmljZVZlcnNpb24uTW9kaWZ5UGF0aC5TdWJzdHJpbmcoJGluZGV4ICsgMSkuU3BsaXQoIiAiKVsyXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICRjbWRMaW5lID0gJCgkUmVwYWlyU3RyaW5nKQ0KDQogICAgICAgICAgICAgICBpZighJElzUXVpY2tSZXBhaXJTZWxlY3RlZCl7DQogICAgICAgICAgICAgICAgICRSZXBhaXJUeXBlU3RyaW5nID0gIkZ1bGxSZXBhaXIiDQogICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgJFJlcGFpclR5cGVTdHJpbmcgPSAiUXVpY2tSZXBhaXIiDQogICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICRjbWRTdWJBcmdzID0gInNjZW5hcmlvPVJlcGFpciAkKCRQbGF0Zm9ybVN0cmluZykgJCgkTGFuZ3VhZ2VTdHJpbmcpIFJlcGFpclR5cGU9JCgkUmVwYWlyVHlwZVN0cmluZykgRGlzcGxheUxldmVsPSQoJERpc3BsYXlSZXBhaXJNb2RhbCkiIA0KICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgfSANCiAgICAgICANCiAgICAgICAgJE1TT2ZmaWNlVmVyc2lvbiA9ICAkTVNPZmZpY2VWZXJzaW9uWzBdDQogICAgICAgICRNU09mZmljZU5hbWUgPSAkTVNPZmZpY2VWZXJzaW9uLkRpc3BsYXlOYW1lICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgIA0KICAgICAgICBpZigkTVNPZmZpY2VWZXJzaW9uKSB7DQogICAgICAgICAgICBpZighKCRpc0luUGlwZSkpIHsgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgIDwjIFdyaXRlLUhvc3QgIiAgIiANCiAgICAgICAgICAgICAgICBXcml0ZS1Ib3N0ICJQbGVhc2Ugd2FpdCB3aGlsZSBNUyBPZmZpY2UgaXMgYmVpbmcgcmVwYWlyZWQuLi4iICANCiAgICAgICAgICAgICAgICBXcml0ZS1Ib3N0ICJNUyBPZmZpY2UgVmVyc2lvbiA6ICQoJE1TT2ZmaWNlTmFtZSkiDQogICAgICAgICAgICAgICAgV3JpdGUtSG9zdCAiSW5zdGFsbGF0aW9uIFR5cGUgOiAkKCRJbnN0YWxsYXRpb25UeXBlKSINCiAgICAgICAgICAgICAgICBXcml0ZS1Ib3N0ICJSZXBhaXIgVHlwZSA6ICQoJFJlcGFpclR5cGVTdHJpbmcpIiAjPg0KDQogICAgICAgICAgICAgICAjICRTdWNjZXNzUmVzdWx0ID0gIlBsZWFzZSB3YWl0IHdoaWxlIE1TIE9mZmljZSBpcyBiZWluZyByZXBhaXJlZC4uLiIgIA0KDQogICAgICAgICAgICAgICAgJFN1Y2Nlc3NBcnIgKz0gIk1TIE9mZmljZSBWZXJzaW9uIDogJCgkTVNPZmZpY2VOYW1lKSINCiAgICAgICAgICAgICAgICAkU3VjY2Vzc0FyciArPSAiSW5zdGFsbGF0aW9uIFR5cGUgOiAkKCRJbnN0YWxsYXRpb25UeXBlKSINCiAgICAgICAgICAgICAgICAkU3VjY2Vzc0FyciArPSAiUmVwYWlyIFR5cGUgOiAkKCRSZXBhaXJUeXBlU3RyaW5nKSIgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgJFN1Y2Nlc3NPdXRBcnIgKz0gIk1TIE9mZmljZSBWZXJzaW9uIDogJCgkTVNPZmZpY2VOYW1lKSINCiAgICAgICAgICAgICAgICAkU3VjY2Vzc091dEFyciArPSAiSW5zdGFsbGF0aW9uIFR5cGUgOiAkKCRJbnN0YWxsYXRpb25UeXBlKSINCiAgICAgICAgICAgICAgICAkU3VjY2Vzc091dEFyciArPSAiUmVwYWlyIFR5cGUgOiAkKCRSZXBhaXJUeXBlU3RyaW5nKSIgDQogICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIw0KICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIH0gICAgICAgICAgICANCiAgICAgICAgfQ0KICAgICAgIA0KICAgICAgICAgaWYoJFN0YXJ0QW5kU3RvcFByaW50U3Bvb2xlcil7ICMgc3RvcCBTcG9vbGVyICAgICAgICAgICAgDQogICAgICAgICAgIFN0b3AtU2VydmljZSAtTmFtZSBTcG9vbGVyIC1Gb3JjZQ0KICAgICAgICAgfQ0KICAgICAgICAgIA0KICAgICAgICAgU3RhcnRQcm9jZXNzIC1leGVjRmlsZVBhdGggJGNtZExpbmUgLWV4ZWNQYXJhbXMgJGNtZFN1YkFyZ3MgLVdhaXRGb3JFeGl0ICR0cnVlICANCiAgICAgICAgIA0KICAgICAgICAgaWYoJFN0YXJ0QW5kU3RvcFByaW50U3Bvb2xlcil7ICMgc3RhcnQgU3Bvb2xlcg0KICAgICAgICAgICBTdGFydC1TZXJ2aWNlIC1OYW1lIFNwb29sZXIgDQogICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICANCiAgICAgICAgaWYoJE1TT2ZmaWNlVmVyc2lvbil7ICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICBpZiAoISgkaXNJblBpcGUpKSB7IA0KICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgIGlmKCRSZXBhaXJUeXBlU3RyaW5nIC1lcSAiRnVsbFJlcGFpciIgKXsNCg0KICAgICAgICAgICAgICAgICMgV3JpdGUtSG9zdCAiUGxlYXNlIHN0YXkgb25saW5lIHdoaWxlIG9mZmljZSBkb3dubG9hZHMgYW5kIGluc3RhbGwgIg0KICAgICAgICAgICAgICAgICRTdWNjZXNzUmVzdWx0ID0gIlBsZWFzZSBzdGF5IG9ubGluZSB3aGlsZSBvZmZpY2UgZG93bmxvYWRzIGFuZCBpbnN0YWxsICINCg0KICAgICAgICAgICAgICAgfWVsc2V7DQoNCiAgICAgICAgICAgICAgICAjIFdyaXRlLUhvc3QgIk1TIE9mZmljZSBoYXMgYmVlbiByZXBhaXJlZCBzdWNjZXNzZnVsbHkiDQogICAgICAgICAgICAgICAgICRTdWNjZXNzUmVzdWx0ID0gIk1TIE9mZmljZSBoYXMgYmVlbiByZXBhaXJlZCBzdWNjZXNzZnVsbHkiDQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgDQogICAgICAgICAgICB9DQogICAgICAgICAgDQogICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICBpZiAoJGlzSW5QaXBlKSB7DQogICAgICAgICAgICAkcmVzdWx0cyA9IG5ldy1vYmplY3QgUFNPYmplY3RbXSAwOw0KICAgICAgICAgICAgJFJlc3VsdCA9IE5ldy1PYmplY3QgLVR5cGVOYW1lIFBTT2JqZWN0IA0KICAgICAgICAgICAgQWRkLU1lbWJlciAtSW5wdXRPYmplY3QgJFJlc3VsdCAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIlRhcmdldEZpbGVQYXRoIiAtVmFsdWUgJFRhcmdldEZpbGVQYXRoDQogICAgICAgICAgICAkUmVzdWx0DQogICAgICAgIH0NCg0KICAgICAgICAkU3VjY2Vzc0FyciA9IEAoKQ0KICAgICAgICAkU3VjY2Vzc091dEFyciA9IEAoKSAgICAgICAgDQogICAgICAgICRTdWNjZXNzUmVzdWx0ID0gIiIgICANCg0KICAgICAgICAkT2ZmaWNlUmVwYWlyU3VjY09iaiA9ICBOZXctT2JqZWN0IHBzb2JqZWN0DQogICAgICAgICRPZmZpY2VSZXBhaXJTdWNjT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgTXNPZmZpY2VSZXBhaXIgLVZhbHVlICRTdWNjZXNzQXJyDQogICAgICAgDQogICAgICAgICRPZmZpY2VSZXBhaXJTdWNjT2JqZWN0LlJlc3VsdCA9ICRTdWNjZXNzUmVzdWx0DQogICAgICAgICRPZmZpY2VSZXBhaXJTdWNjT2JqZWN0LnN0ZG91dCA9ICRTdWNjZXNzT3V0QXJyDQogICAgICAgICRPZmZpY2VSZXBhaXJTdWNjT2JqZWN0LmRhdGFPYmplY3QgPSAkT2ZmaWNlUmVwYWlyU3VjY09iaiAgDQoNCiAgICAgICAgcmV0dXJuICRPZmZpY2VSZXBhaXJTdWNjT2JqZWN0DQoNCiAgICB9DQp9DQoNCkZ1bmN0aW9uIEdldC1PZmZpY2VWZXJzaW9uICB7DQoNCiAgICAgIFtPdXRwdXRUeXBlKCdTeXN0ZW0uU29mdHdhcmUuSW52ZW50b3J5JyldDQogICAgICBbQ21kbGV0YmluZGluZygpXSANCg0KICBQYXJhbSggDQoNCiAgICApICAgICAgICAgDQoNCiAgQmVnaW4geyANCiAgICANCiAgICBbU3RyaW5nXSRDb21wdXRlcm5hbWU9JGVudjpDT01QVVRFUk5BTUUNCiAgICAgICAgICANCiAgICAkaW5zdGFsbEtleXMgPSAnU09GVFdBUkVcTWljcm9zb2Z0XFdpbmRvd3NcQ3VycmVudFZlcnNpb25cVW5pbnN0YWxsJywNCiAgICAgICAgICAgICAgICAgICAnU09GVFdBUkVcV293NjQzMk5vZGVcTWljcm9zb2Z0XFdpbmRvd3NcQ3VycmVudFZlcnNpb25cVW5pbnN0YWxsJw0KICAgICAgICAgICAgICAgICAgICAgICANCiAgICAkZGVmYXVsdERpc3BsYXlTZXQgPSAnRGlzcGxheU5hbWUnLCdWZXJzaW9uJywnQ29tcHV0ZXJOYW1lJywnQ2xpZW50Q3VsdHVyZScNCg0KICAgICRkZWZhdWx0RGlzcGxheVByb3BlcnR5U2V0ID0gTmV3LU9iamVjdCBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTUHJvcGVydHlTZXQoJ0RlZmF1bHREaXNwbGF5UHJvcGVydHlTZXQnLFtzdHJpbmdbXV0kZGVmYXVsdERpc3BsYXlTZXQpDQogICAgJFBTU3RhbmRhcmRNZW1iZXJzID0gW1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNNZW1iZXJJbmZvW11dQCgkZGVmYXVsdERpc3BsYXlQcm9wZXJ0eVNldCkNCiAgDQogIH0NCg0KICBQcm9jZXNzICB7ICAgDQogIA0KICAgICAkYXJyYXkgPSBAKCkNCiAgICAgJE1TZXhjZXB0aW9uTGlzdCA9ICJtdWkiLCJ2aXNpbyIsInByb2plY3QiLCJwcm9vZmluZyIsInZpc3VhbCIsIlNoYXJlZCIsIkFjY2VzcyIsIkV4Y2VsIiwiUG93ZXJQb2ludCIsIlB1Ymxpc2hlciJgDQogICAgICAgICAgICAgICAgICAgICAgICAsIk91dGxvb2siLCJQcm9vZiIsIkNvbXBvbmVudHMiOyAgDQogICAgICAgICAgIA0KICAgICAgIElmICAoVGVzdC1Db25uZWN0aW9uIC1Db21wdXRlck5hbWUgICRDb21wdXRlcm5hbWUgLUNvdW50ICAxIC1RdWlldCkgew0KICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICBGb3JFYWNoKCRQYXRoIGluICRpbnN0YWxsS2V5cykgeyANCg0KICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAgIkNoZWNraW5nIFBhdGg6ICRQYXRoIg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICBUcnkgIHsgJHJlZz1bbWljcm9zb2Z0LndpbjMyLnJlZ2lzdHJ5a2V5XTo6T3BlblJlbW90ZUJhc2VLZXkoJ0xvY2FsTWFjaGluZScsJENvbXB1dGVybmFtZSApfQ0KICAgICAgICAgICAgICAgICAgQ2F0Y2ggIHsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1FcnJvciAkXyAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICBDb250aW51ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgIH0gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgIFRyeSAgeyAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgJHJlZ2tleT0kcmVnLk9wZW5TdWJLZXkoJFBhdGgpICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgJHN1YmtleXM9JHJlZ2tleS5HZXRTdWJLZXlOYW1lcygpICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgIEZvckVhY2ggKCRrZXkgaW4gJHN1YmtleXMpeyAgIA0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiS2V5OiAkS2V5Ig0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzS2V5PSRQYXRoKyJcXCIrJGtleSANCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRyeSB7ICANCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXNTdWJLZXk9JHJlZy5PcGVuU3ViS2V5KCR0aGlzS2V5KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJERpc3BsYXlOYW1lID0gICR0aGlzU3ViS2V5LmdldFZhbHVlKCJEaXNwbGF5TmFtZSIpDQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmICgkRGlzcGxheU5hbWUgIC1BTkQgJERpc3BsYXlOYW1lICAtbm90bWF0Y2ggJ15VcGRhdGUgIGZvcnxyb2xsdXB8XlNlY3VyaXR5IFVwZGF0ZXxeU2VydmljZSBQYWNrfF5Ib3RGaXgnKSB7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRGF0ZSA9ICR0aGlzU3ViS2V5LkdldFZhbHVlKCdJbnN0YWxsRGF0ZScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFB1Ymxpc2hlciA9ICBUcnkgeyAkdGhpc1N1YktleS5HZXRWYWx1ZSgnUHVibGlzaGVyJykuVHJpbSgpfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2F0Y2ggeyAkdGhpc1N1YktleS5HZXRWYWx1ZSgnUHVibGlzaGVyJyl9IA0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFZlcnNpb24gPSBUcnkgeyAkdGhpc1N1YktleS5HZXRWYWx1ZSgnRGlzcGxheVZlcnNpb24nKS5UcmltRW5kKChbY2hhcltdXSgzMiwwKSkpfSANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhdGNoIHsgJHRoaXNTdWJLZXkuR2V0VmFsdWUoJ0Rpc3BsYXlWZXJzaW9uJyl9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVW5pbnN0YWxsU3RyaW5nID0gIFRyeSB7JHRoaXNTdWJLZXkuR2V0VmFsdWUoJ1VuaW5zdGFsbFN0cmluZycpLlRyaW0oKX0gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXRjaCB7JHRoaXNTdWJLZXkuR2V0VmFsdWUoJ1VuaW5zdGFsbFN0cmluZycpfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEluc3RhbGxMb2NhdGlvbiA9ICBUcnkgeyR0aGlzU3ViS2V5LkdldFZhbHVlKCdJbnN0YWxsTG9jYXRpb24nKS5UcmltKCl9IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2F0Y2ggeyR0aGlzU3ViS2V5LkdldFZhbHVlKCdJbnN0YWxsTG9jYXRpb24nKX0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJbnN0YWxsU291cmNlID0gIFRyeSB7JHRoaXNTdWJLZXkuR2V0VmFsdWUoJ0luc3RhbGxTb3VyY2UnKS5UcmltKCl9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2F0Y2ggeyR0aGlzU3ViS2V5LkdldFZhbHVlKCdJbnN0YWxsU291cmNlJyl9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTW9kaWZ5UGF0aCA9ICBUcnkgeyR0aGlzU3ViS2V5LkdldFZhbHVlKCdNb2RpZnlQYXRoJykuVHJpbSgpfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhdGNoIHskdGhpc1N1YktleS5HZXRWYWx1ZSgnTW9kaWZ5UGF0aCcpfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRWZXJzaW9uQ291bnQgPSAwICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighJERpc3BsYXlOYW1lLlRvVXBwZXIoKS5Db250YWlucygiTUlDUk9TT0ZUIE9GRklDRSIpKXtjb250aW51ZX0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJERpc3BsYXlOYW1lLlRvVXBwZXIoKS5Db250YWlucygiTUlDUk9TT0ZUIE9GRklDRSIpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGlzT2ZmaWNlUHJpbWFyeVByb2R1Y3QgPSAkVHJ1ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JlYWNoKCRleGNlcHRpb24gaW4gJE1TZXhjZXB0aW9uTGlzdCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCREaXNwbGF5TmFtZS5Ub0xvd2VyKCkuQ29udGFpbnMoJGV4Y2VwdGlvbi5Ub0xvd2VyKCkpKXsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaXNPZmZpY2VQcmltYXJ5UHJvZHVjdCA9ICRmYWxzZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighJGlzT2ZmaWNlUHJpbWFyeVByb2R1Y3Qpe2NvbnRpbnVlfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY2xpY2tUb1J1bkNvbXBvbmVudCA9ICRmYWxzZQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoISgkVW5pbnN0YWxsU3RyaW5nLkNvbnRhaW5zKCJPZmZpY2VDbGlja1RvUnVuIikgLW9yICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRVbmluc3RhbGxTdHJpbmcuQ29udGFpbnMoInNldHVwIikpKXtjb250aW51ZX0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjbGlja1RvUnVuQ29tcG9uZW50ID0gJGZhbHNlDQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJFVuaW5zdGFsbFN0cmluZy5Db250YWlucygiT2ZmaWNlQ2xpY2tUb1J1biIpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjbGlja1RvUnVuQ29tcG9uZW50ID0gJHRydWUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVmVyc2lvbkNvdW50ICs9IDENCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRPYmplY3QgPSBbcHNjdXN0b21vYmplY3RdQHsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21wdXRlcm5hbWUgPSAkQ29tcHV0ZXJuYW1lDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERpc3BsYXlOYW1lID0gJERpc3BsYXlOYW1lDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZlcnNpb24gID0gJFZlcnNpb24NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHVibGlzaGVyID0gJFB1Ymxpc2hlcg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVbmluc3RhbGxTdHJpbmcgPSAkVW5pbnN0YWxsU3RyaW5nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW5zdGFsbExvY2F0aW9uID0gJEluc3RhbGxMb2NhdGlvbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnN0YWxsU291cmNlICA9ICRJbnN0YWxsU291cmNlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENsaWNrVG9SdW4gPSAkY2xpY2tUb1J1bkNvbXBvbmVudA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb2RpZnlQYXRoID0gJE1vZGlmeVBhdGgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ291bnQgPSAkVmVyc2lvbkNvdW50DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE9iamVjdC5wc3R5cGVuYW1lcy5pbnNlcnQoMCwnU3lzdGVtLlNvZnR3YXJlLkludmVudG9yeScpICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkb2JqZWN0IHwgQWRkLU1lbWJlciBNZW1iZXJTZXQgUFNTdGFuZGFyZE1lbWJlcnMgJFBTU3RhbmRhcmRNZW1iZXJzDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRhcnJheSArPSAkT2JqZWN0IA0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IyBFbmQgRGlzcGxheSBpZg0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gIyBFbmQgRGlzcGxheSB0cnkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2F0Y2ggeyAgV3JpdGUtV2FybmluZyAiJEtleSA6ICRfIiB9ICAgDQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gI0VuZCBzdWJrZXkgZm9yZWFjaCANCg0KICAgICAgICAgICAgICAgICAgICAgICB9ICMgdHJ5IERyaWxsIGRvd24gaW50byB0aGUgVW5pbnN0YWxsIGtleSB1c2luZyB0aGUgT3BlblN1YktleSBNZXRob2QgDQogICAgICAgICAgICAgICAgICAgICAgIENhdGNoICB7fSAgIA0KDQogICAgICAgICAgICAgICAgJHJlZy5DbG9zZSgpIA0KDQogICAgICAgICAgICAgfSAjIEVuZCBwYXRocyBmb3JlYWNoICAgICAgICAgICAgICAgICANCg0KICAgICAgICAgfSAjIGVuZCB0ZXN0IGNvbm5lY3Rpb24gaWYgICAgICAgICANCiAgICAgICAgIEVsc2UgIHsgV3JpdGUtRXJyb3IgICIkKCRDb21wdXRlcm5hbWUpOiB1bmFibGUgdG8gcmVhY2ggcmVtb3RlIHN5c3RlbSEiIH0NCg0KICAgICByZXR1cm4gJGFycmF5IA0KDQogICB9ICMgZW5kIHByb2Nlc3MgDQoNCn0NCg0KRnVuY3Rpb24gU3RhcnRQcm9jZXNzIHsNCglQYXJhbQ0KCSgNCiAgICAgICAgW1BhcmFtZXRlcigpXQ0KCQlbU3RyaW5nXSRleGVjRmlsZVBhdGgsDQoNCiAgICAgICAgW1BhcmFtZXRlcigpXQ0KICAgICAgICBbU3RyaW5nXSRleGVjUGFyYW1zLA0KDQogICAgICAgIFtQYXJhbWV0ZXIoKV0NCiAgICAgICAgW2Jvb2xdJFdhaXRGb3JFeGl0ID0gJGZhbHNlLA0KDQogICAgICAgIFtQYXJhbWV0ZXIoKV0NCiAgICAgICAgW3N0cmluZ10kTG9nRmlsZVBhdGgNCgkpDQogICAgDQogICAgJGN1cnJlbnRGaWxlTmFtZSA9IEdldC1DdXJyZW50RmlsZU5hbWUNCiAgICBTZXQtQWxpYXMgLW5hbWUgTElORU5VTSAtdmFsdWUgR2V0LUN1cnJlbnRMaW5lTnVtYmVyIA0KICAgICR0aW1lb3V0U2Vjb25kcyA9IDI3MDAwMDANCiAgICBUcnkNCiAgICB7DQogICAgICAgICRzdGFydEV4ZSA9IG5ldy1vYmplY3QgU3lzdGVtLkRpYWdub3N0aWNzLlByb2Nlc3NTdGFydEluZm8NCiAgICAgICAgJHN0YXJ0RXhlLkZpbGVOYW1lID0gJGV4ZWNGaWxlUGF0aA0KICAgICAgICAkc3RhcnRFeGUuQXJndW1lbnRzID0gJGV4ZWNQYXJhbXMNCiAgICAgICAgJHN0YXJ0RXhlLkNyZWF0ZU5vV2luZG93ID0gJGZhbHNlDQogICAgICAgICRzdGFydEV4ZS5Vc2VTaGVsbEV4ZWN1dGUgPSAkZmFsc2UNCg0KICAgICAgICAkZXhlY1N0YXRlbWVudCA9IFtTeXN0ZW0uRGlhZ25vc3RpY3MuUHJvY2Vzc106OlN0YXJ0KCRzdGFydEV4ZSkgDQoNCiAgICAgICAgDQogICAgICAgIGlmICgkV2FpdEZvckV4aXQpIHsNCiAgICAgICAgICAkZXhlY1N0YXRlbWVudC5XYWl0Rm9yRXhpdCgkdGltZW91dFNlY29uZHMpDQogICAgICAgIH0NCiAgICAgICAgICAgICAgIA0KICAgIH0NCiAgICBDYXRjaA0KICAgIHsNCiAgICAgICAgV3JpdGUtSG9zdCAkXy5FeGNlcHRpb24uTWVzc2FnZSAgICAgICANCiAgICB9DQp9DQoNCkZ1bmN0aW9uIElzRG90U291cmNlZCgpIHsNCiAgW0NtZGxldEJpbmRpbmcoU3VwcG9ydHNTaG91bGRQcm9jZXNzPSR0cnVlKV0NCiAgcGFyYW0oDQogICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlKV0NCiAgICBbc3RyaW5nXSRJbnZvY2F0aW9uTGluZSA9ICIiDQogICkNCiAgJGNtZExpbmUgPSAkSW52b2NhdGlvbkxpbmUuVHJpbSgpDQogIERvIHsNCiAgICAkY21kTGluZSA9ICRjbWRMaW5lLlJlcGxhY2UoIiAiLCAiIikNCiAgfSB3aGlsZSgkY21kTGluZS5Db250YWlucygiICIpKQ0KDQogICRkb3RTb3VyY2VkID0gJGZhbHNlDQogIGlmICgkY21kTGluZSAtbWF0Y2ggJ15cLlxcJykgew0KICAgICAkZG90U291cmNlZCA9ICRmYWxzZQ0KICB9IGVsc2Ugew0KICAgICAkZG90U291cmNlZCA9ICgkY21kTGluZSAtbWF0Y2ggJ15cLicpDQogIH0NCg0KICByZXR1cm4gJGRvdFNvdXJjZWQNCn0NCg0KZnVuY3Rpb24gR2V0LUN1cnJlbnRMaW5lTnVtYmVyIHsNCiAgICAkTXlJbnZvY2F0aW9uLlNjcmlwdExpbmVOdW1iZXINCn0NCg0KZnVuY3Rpb24gR2V0LUN1cnJlbnRGaWxlTmFtZXsNCiAgICAkTXlJbnZvY2F0aW9uLlNjcmlwdE5hbWUuU3Vic3RyaW5nKCRNeUludm9jYXRpb24uU2NyaXB0TmFtZS5MYXN0SW5kZXhPZigiXCIpKzEpDQp9DQoNCiRkb3RTb3VyY2VkID0gSXNEb3RTb3VyY2VkIC1JbnZvY2F0aW9uTGluZSAkTXlJbnZvY2F0aW9uLkxpbmUNCg0KaWYgKCEoJGRvdFNvdXJjZWQpKSB7DQoNCiAgDQogIGlmKCRQU1ZlcnNpb25UYWJsZS5QU1ZlcnNpb24uTWFqb3IgLWVxIDIpew0KDQogICAgICAgICAkciA9IFJlcGFpci1NU09mZmljZSAtQ29tcHV0ZXJOYW1lICRDb21wdXRlck5hbWUgIC1XYWl0Rm9ySW5zdGFsbFRvRmluaXNoICRXYWl0Rm9ySW5zdGFsbFRvRmluaXNoIC1UYXJnZXRGaWxlUGF0aCAkVGFyZ2V0RmlsZVBhdGggDQogICAgICAgICAkciB8ICBDb252ZXJ0VG8tSlNPTlAyDQoNCiAgICB9ZWxzZXsNCg0KICAgICAgICRyID0gUmVwYWlyLU1TT2ZmaWNlIC1Db21wdXRlck5hbWUgJENvbXB1dGVyTmFtZSAgLVdhaXRGb3JJbnN0YWxsVG9GaW5pc2ggJFdhaXRGb3JJbnN0YWxsVG9GaW5pc2ggLVRhcmdldEZpbGVQYXRoICRUYXJnZXRGaWxlUGF0aCANCiAgICAgICAkciB8ICBDb252ZXJ0VG8tSnNvbiAtRGVwdGggMTANCg0KICAgIH0NCn0NCg0K",
"jsonSchema":{
"type":"object",
"properties":{
	"RepairMSOffice":{
      "type":"string",
      "title":"Enter MS Office to be repaired",
      "minLength":1
    },
	"IsQuickRepairSelected":{
      "type":"boolean",
      "title":"Select quick repair",
      "minLength":1
    },
	"Admin":{
      "type":"string",
      "title":"Enter admin ID",
      "minLength":1
    },
	"AdminPass":{
      "type":"string",
      "title":"Enter admin password",
      "minLength":1
    },
	"User":{
      "type":"string",
      "title":"Enter user ID",
      "minLength":1
    },
	"DisplayRepairModal":{
      "type":"boolean",
      "title":"Select display repair modal",
      "minLength":1
    },
	"StartAndStopPrintSpooler":{
      "type":"boolean",
      "title":"Select start and stop spooler service",
      "minLength":1
    }
 },
  "required":[
  "RepairMSOffice"
  ],
  "additionalProperties": false
},
"uiSchema":{
"RepairMSOffice":{
    "ui:autofocus":true,
    "classNames":"col-sm-12"
  },
"IsQuickRepairSelected":{
    "ui:autofocus":true,
    "classNames":"col-sm-12"
  },
"Admin":{
    "ui:autofocus":true,
    "classNames":"col-sm-12"
  },
"AdminPass":{
    "ui:autofocus":true,
    "classNames":"col-sm-12"
  },
"User":{
    "ui:autofocus":true,
    "classNames":"col-sm-12"
},
"DisplayRepairModal":{
    "ui:autofocus":true,
    "classNames":"col-sm-12"
},
"StartAndStopPrintSpooler":{
    "ui:autofocus":true,
    "classNames":"col-sm-12"
},
"ui:order":["RepairMSOffice", "IsQuickRepairSelected", "Admin", "AdminPass", "User", "DisplayRepairModal" ,"StartAndStopPrintSpooler" ]
},
"isHDScript":true}
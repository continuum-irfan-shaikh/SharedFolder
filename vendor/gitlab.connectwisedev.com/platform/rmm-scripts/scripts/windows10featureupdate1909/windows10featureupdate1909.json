{"id":"0a40041a-4cde-11ea-93e6-00155d130b01","partnerId":"00000000-0000-0000-0000-000000000000","category":["Setup"],"description":"Task will update earlier versions of Windows 10  to version 1909 feature update.","engine":"powershell","engineMaxVersion":5,"expectedExecutionTimeSec":28800,"failureMessage":"Executed with errors","successMessage":"Executed successfully","internal":false,"name":"Windows 10 1909 feature update","tags":["Windows 7","Windows 10"],"sequence":true,"content":"PCMKICAgTmFtZSA6ICAiV2luZG93cyAxMCAxOTA5IGZlYXR1cmUgdXBkYXRlIgogICBEZXNjcmlwdGlvbiI6ICJUYXNrIHdpbGwgdXBkYXRlIGVhcmxpZXIgdmVyc2lvbnMgb2YgV2luZG93cyAxMCAgdG8gdmVyc2lvbiAxOTA5IGZlYXR1cmUgdXBkYXRlLiIKICAKIz4KCmlmICgkZW52OlBST0NFU1NPUl9BUkNISVRFVzY0MzIgLWVxICJBTUQ2NCIpIHsKICAgIGlmICgkbXlJbnZvY2F0aW9uLkxpbmUpIHsKICAgICAgICAmIiRlbnY6c3lzdGVtcm9vdFxzeXNuYXRpdmVcd2luZG93c3Bvd2Vyc2hlbGxcdjEuMFxwb3dlcnNoZWxsLmV4ZSIgLU5vbkludGVyYWN0aXZlIC1Ob1Byb2ZpbGUgJG15SW52b2NhdGlvbi5MaW5lCiAgICB9CiAgICBlbHNlIHsKICAgICAgICAmIiRlbnY6c3lzdGVtcm9vdFxzeXNuYXRpdmVcd2luZG93c3Bvd2Vyc2hlbGxcdjEuMFxwb3dlcnNoZWxsLmV4ZSIgLU5vbkludGVyYWN0aXZlIC1Ob1Byb2ZpbGUgLWZpbGUgIiQoJG15SW52b2NhdGlvbi5JbnZvY2F0aW9uTmFtZSkiICRhcmdzCiAgICB9CiAgICBleGl0ICRsYXN0ZXhpdGNvZGUKfQoKJEVycm9yQWN0aW9uUHJlZmVyZW5jZSA9ICdTdG9wJwpUcnkgewogICAgJExvY2FsUGF0aCA9ICIkRW52OlRlbXBcV2luZG93czEwVXBncmFkZS5leGUiCiAgICAkVVJMID0gJ2h0dHA6Ly9zZHVwZHQuaXRzdXBwb3J0MjQ3Lm5ldC90cHVwZGF0ZS9XaW5kb3dzMTBVcGdyYWRlMTkwOS5leGUnCiAgICAkUGFyYW1ldGVycyA9ICIvSW5zdGFsbCAvQ2xpZW50SUQgV2luMTBVcGdyYWRlOlZOTDpOSFYxOTp7fSAvU2tpcEVVTEEgL0Vvc1VpIC9xdWlldCAvbm9yZXN0YXJ0IgoKICAgICMgZG93bmxvYWRzIGZpbGUsIGlmIGRvd25sb2FhIGZhaWxzIHlvdSBnZXQgYSBmYWlsdXJlIG1lc3NhZ2UKICAgIGZ1bmN0aW9uIERvd25sb2FkLUZyb21VUkwgKCRVUkwsICRMb2NhbEZpbGVQYXRoKSB7CiAgICAgICAgJFdlYkNsaWVudCA9IE5ldy1PYmplY3QgU3lzdGVtLk5ldC5XZWJDbGllbnQKICAgICAgICAkV2ViQ2xpZW50LkRvd25sb2FkRmlsZSgkVVJMLCAkTG9jYWxGaWxlUGF0aCkKICAgICAgICBpZiAoLW5vdChUZXN0LVBhdGggJExvY2FsRmlsZVBhdGgpKSB7IFdyaXRlLUVycm9yICJVbmFibGUgdG8gZG93bmxvYWQgdGhlIGZpbGUgZnJvbSBVUkw6ICRVUkwiIH0KICAgIH0KCiAgICBGdW5jdGlvbiBJc1VwZGF0ZVJ1bm5pbmcgewogICAgICAgIChHZXQtUHJvY2VzcyBXaW5kb3dzMTBVcGdyYWRlckFwcCAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZSkgLWFzIFtCb29sXQogICAgfQoKCiAgICAjIGNvbmRpdGlvbiAxIC0gY2hlY2tzIG9wZXJhdGluZyBzeXN0ZW0gdmVyc2lvbgogICAgJE9TID0gR2V0LVdtaU9iamVjdCB3aW4zMl9vcGVyYXRpbmdzeXN0ZW0KICAgICRJc1dpbmRvd3MxMCA9ICgkT1MgfCBXaGVyZS1PYmplY3QgeyAkXy5jYXB0aW9uIC1saWtlICIqV2luZG93cyAxMCoiIH0pIC1hcyBbYm9vbF0KICAgIGlmICghJElzV2luZG93czEwKSB7CiAgICAgICAgV3JpdGUtT3V0cHV0ICJOb3QgQXBwbGljYWJsZSA6IFRhc2sgYXBwbGllcyB0byBvbmx5IFdpbmRvd3MgMTAiCiAgICAgICAgQnJlYWs7CiAgICB9CgogICAgIyBjb25kaXRpb24gMiAtIGNoZWNrIHJlbGVhc2UgaWQKICAgIFtpbnRdJFJlbGVhc2VJRCA9IChHZXQtSXRlbVByb3BlcnR5ICJIS0xNOlxTT0ZUV0FSRVxNaWNyb3NvZnRcV2luZG93cyBOVFxDdXJyZW50VmVyc2lvbiIpLlJlbGVhc2VJZAogICAgaWYgKCRSZWxlYXNlSUQgLWdlIDE5MDkpIHsKICAgICAgICBXcml0ZS1PdXRwdXQgIk5vIEFjdGlvbiBOZWVkZWQgOiBMYXRlc3QgRmVhdHVyZSB1cGRhdGUgYWxyZWFkeSBpbnN0YWxsZWQiCiAgICAgICAgQnJlYWs7CiAgICB9CgogICAgIyBjb25kaXRpb24gMyAtIGNoZWNrIHN5c3RlbSBkcml2ZSBmcmVlIHNwYWNlCiAgICAkU3lzdGVtRHJpdmVMZXR0ZXIgPSBHZXQtUGFydGl0aW9uIHwgV2hlcmUtT2JqZWN0IHsgJF8uaXNib290IH0gfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBEcml2ZUxldHRlcgogICAgJFN5c3RlbURyaXZlRnJlZVNwYWNlID0gKEdldC1XbWlPYmplY3QgLUNsYXNzIFdpbjMyX2xvZ2ljYWxkaXNrIC1GaWx0ZXIgIkRyaXZlVHlwZSA9ICczJyBBTkQgRGV2aWNlSUQgPSAnJHtTeXN0ZW1Ecml2ZUxldHRlcn06JyIpLkZyZWVTcGFjZSAvIDFHQgogICAgaWYgKCRTeXN0ZW1Ecml2ZUZyZWVTcGFjZSAtbHQgMzIpIHsKICAgICAgICBXcml0ZS1FcnJvciAiUHJlcmVxdWlzaXRlIGNoZWNrIGZhaWxlZCA6IE1pbmltdW0gMzJHQiBmcmVlIHNwYWNlIGlzIG5lZWRlZCBvbiBzeXN0ZW0gZHJpdmUiCiAgICAgICAgQnJlYWs7CiAgICB9CgogICAgIyBjb25kaXRpb24gNCAtIGlmIGEgcHJvY2VzcyBpcyBhbHJlYWR5IHJ1bm5pbmcKICAgIGlmIChJc1VwZGF0ZVJ1bm5pbmcpIHsKICAgICAgICBXcml0ZS1FcnJvciAiRmFpbGVkIDogT25lIGluc3RhbmNlIG9mIHVwZGF0ZSBpcyBhbHJlYWR5IHJ1bm5pbmcuIE5vIGFjdGlvbiB3aWxsIGJlIHBlcmZvcm1lZC4iCiAgICAgICAgQnJlYWs7CiAgICB9CgoKICAgICRVcGdyYWRlRm9sZGVyID0gIiR7U3lzdGVtRHJpdmVMZXR0ZXJ9OlxXaW5kb3dzMTBVcGdyYWRlXCIKICAgICRMb2dGaWxlID0gSm9pbi1QYXRoICRVcGdyYWRlRm9sZGVyICd1cGdyYWRlcl9kZWZhdWx0LmxvZycKCiAgICAjIHJlbW92ZSBpZiBmb2xkZXIgZXhpc3RzCiAgICBSZW1vdmUtSXRlbSAkVXBncmFkZUZvbGRlciAtRm9yY2UgLUNvbmZpcm06JGZhbHNlIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlIC1SZWN1cnNlCgogICAgIyBkb3dubG9hZHMgdGhlIFVSTAogICAgRG93bmxvYWQtRnJvbVVSTCAtVVJMICRVUkwgLUxvY2FsRmlsZVBhdGggJExvY2FsUGF0aAogICAgJFByb2Nlc3MgPSBTdGFydC1Qcm9jZXNzICRMb2NhbFBhdGggLUFyZ3VtZW50TGlzdCAkUGFyYW1ldGVycyAtUGFzc1RocnUKCiAgICAjIGFsbG93IHVwZGF0ZSBmb2xkZXJzIGFuZCBkZXBlbmRlY2llcyB0byBiZSBkb3dubG9hZGVkCiAgICBXaGlsZSAoIShUZXN0LVBhdGggIiR7U3lzdGVtRHJpdmVMZXR0ZXJ9OlxXaW5kb3dzMTBVcGdyYWRlXFdpbmRvd3MxMFVwZ3JhZGVyQXBwLmV4ZSIpKSB7CiAgICAgICAgU3RhcnQtU2xlZXAgLVNlY29uZHMgMQogICAgfQogICAgU3RhcnQtU2xlZXAgLVNlY29uZHMgMjAgIyBhZGRpdGlvbmFsIGRlbGF5IHRvIHdhaXQgdXBkYXRlIGV4ZSB0byBsYXVuY2gKCiAgICAkRG93bmxvYWRmbGFnID0gJGZhbHNlCgogICAgIyB3YWl0IGZvciBkb253bG9hZCBzdGF0dXMgdG8gYXBwZWFyIGluIGxvZ3MKICAgIFdoaWxlICgxKSB7CiAgICAgICAgJERvd25sb2FkU3RyaW5nID0gKEdldC1Db250ZW50ICRMb2dGaWxlIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlIHwgV2hlcmUtT2JqZWN0IHsgJF8gLWxpa2UgIipEb3dubG9hZGVyIGhyZXN1bHQqIiB9KSAtYXMgW2Jvb2xdCiAgICAgICAgSWYgKCREb3dubG9hZFN0cmluZykgewogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgU3RhcnQtU2xlZXAgLVNlY29uZHMgKDYwKQogICAgfQoKICAgIFdoaWxlICgxKSB7CiAgICAgICAgIyBjaGVjayBkb253bG9hZCBzdGF0dXMKICAgICAgICAkU3VjY2Vzc2Z1bERvd25sb2FkID0gKEdldC1Db250ZW50ICRMb2dGaWxlIHwgV2hlcmUtT2JqZWN0IHsgJF8gLWxpa2UgIipEb3dubG9hZGVyIGhyZXN1bHQ6IDB4MCoiIH0pIC1hcyBbYm9vbF0KICAgICAgICBJZiAoJFN1Y2Nlc3NmdWxEb3dubG9hZCAtYW5kICEkRG93bmxvYWRmbGFnKSB7CiAgICAgICAgICAgIFdyaXRlLU91dHB1dCAiRG93bmxvYWQgY29tcGxldGVkIgogICAgICAgICAgICAkRG93bmxvYWRmbGFnID0gJFRydWUKICAgICAgICB9CiAgICAgICAgZWxzZWlmICghJERvd25sb2FkZmxhZykgewogICAgICAgICAgICBTdGFydC1TbGVlcCAxMAogICAgICAgICAgICBpZiAoJG51bGwgLW5lICQoR2V0LVByb2Nlc3MgLU5hbWUgV2luZG93czEwVXBncmFkZXJBcHAgLUVycm9yQWN0aW9uIElnbm9yZSkgKSB7CiAgICAgICAgICAgICAgICBTdG9wLVByb2Nlc3MgLU5hbWUgV2luZG93czEwVXBncmFkZXJBcHAgLUZvcmNlIC1Db25maXJtOiRmYWxzZSAtRXJyb3JBY3Rpb24gSWdub3JlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgUmVtb3ZlLUl0ZW0gJExvY2FsUGF0aCAtRXJyb3JBY3Rpb24gSWdub3JlCiAgICAgICAgICAgIFdyaXRlLUVycm9yICJGYWlsZWQgdG8gZG93bmxvYWQgdGhlIHVwZGF0ZSwgcGxlYXNlIGNoZWNrIHRoZSBsb2cgZmlsZSBmb3IgbW9yZSBkZXRhaWxzOmAiJExvZ0ZpbGVgIiAiCiAgICAgICAgICAgIEV4aXQ7CiAgICAgICAgfQoKICAgICAgICAjIGNoZWNrIGxvZyBzdGF0dXMKICAgICAgICAkVXBkYXRlU3VjY2VzZnVsID0gKEdldC1Db250ZW50ICRMb2dGaWxlIHwgV2hlcmUtT2JqZWN0IHsgJF8gLWxpa2UgIipXYWl0Rm9yUmVzdGFydFdpbmRvd3MqIiB9KSAtYXMgW0Jvb2xdCiAgICAgICAgaWYgKCRVcGRhdGVTdWNjZXNmdWwpIHsKICAgICAgICAgICAgaWYgKCRVcGRhdGVTdWNjZXNmdWwpIHsKICAgICAgICAgICAgICAgIFdyaXRlLU91dHB1dCAiSW5zdGFsbGF0aW9uIG9mIHZlcnNpb24gMTkwOSBmZWF0dXJlIHVwZGF0ZSBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5LiBgblBsZWFzZSByZWJvb3QgdGhlIHN5c3RlbSBmb3IgY2hhbmdlcyB0byB0YWtlIGFmZmVjdCwgb3Igc3lzdGVtIHdpbGwgcmVib290IGFmdGVyIDMwIG1pbnV0ZXMuIgogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgU3RhcnQtU2xlZXAgMTAKICAgICAgICAgICAgICAgIGlmICgkbnVsbCAtbmUgJChHZXQtUHJvY2VzcyAtTmFtZSBXaW5kb3dzMTBVcGdyYWRlckFwcCAtRXJyb3JBY3Rpb24gSWdub3JlKSkgewogICAgICAgICAgICAgICAgICAgIFN0b3AtUHJvY2VzcyAtTmFtZSBXaW5kb3dzMTBVcGdyYWRlckFwcCAtRm9yY2UgLUNvbmZpcm06JGZhbHNlIC1FcnJvckFjdGlvbiBJZ25vcmUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIFJlbW92ZS1JdGVtICRMb2NhbFBhdGggLUVycm9yQWN0aW9uIElnbm9yZQogICAgICAgICAgICAgICAgV3JpdGUtRXJyb3IgIkZlYXR1cmUgdXBkYXRlIGhhcyBmYWlsZWQuIFNlZSBsb2cgYCIkTG9nRmlsZWAiIGZvciBtb3JlIGRldGFpbHMuIgoJICAgIAogICAgICAgICAgICB9CiAgICAgICAgICAgIGV4aXQ7CiAgICAgICAgfQogICAgICAgIFN0YXJ0LVNsZWVwIC1TZWNvbmRzICg1ICogNjApCiAgICB9Cgp9CmNhdGNoIHsKICAgIFdyaXRlLU91dHB1dCAiRmFpbGVkLiIKICAgIFdyaXRlLUVycm9yICRfCn0KCg==","jsonSchema":"","uiSchema":"","isHDScript":false}

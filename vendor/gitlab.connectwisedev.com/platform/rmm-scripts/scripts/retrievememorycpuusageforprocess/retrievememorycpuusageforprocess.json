{"id":"c5a64f76-5494-11e9-a366-00155d130b01","partnerId":"00000000-0000-0000-0000-000000000000","category":["Data Collection"],"description":"Enter utilization in percentage to get the list of process names whose memory and CPU usage is greater than or equal to given value. If no value entered it will retrieve usage for all process.","engine":"powershell","engineMaxVersion":5,"expectedExecutionTimeSec":600,"failureMessage":"Executed with errors","successMessage":"","internal":false,"name":"Retrieve Memory  and CPU usage for process","tags":["Windows 7","Windows 10"],"sequence":true,"content":"IyMgJE1lbW9yeVV0aWxpemF0aW9uID0gMTAKIyAkQ1BVVXRpbGl6YXRpb24gPSA1CgppZiAoJGVudjpQUk9DRVNTT1JfQVJDSElURVc2NDMyIC1lcSAiQU1ENjQiKSB7CiAgICBpZiAoJG15SW52b2NhdGlvbi5MaW5lKSB7CiAgICAgICAgJiIkZW52OnN5c3RlbXJvb3Rcc3lzbmF0aXZlXHdpbmRvd3Nwb3dlcnNoZWxsXHYxLjBccG93ZXJzaGVsbC5leGUiIC1Ob25JbnRlcmFjdGl2ZSAtTm9Qcm9maWxlICRteUludm9jYXRpb24uTGluZQogICAgfQogICAgZWxzZSB7CiAgICAgICAgJiIkZW52OnN5c3RlbXJvb3Rcc3lzbmF0aXZlXHdpbmRvd3Nwb3dlcnNoZWxsXHYxLjBccG93ZXJzaGVsbC5leGUiIC1Ob25JbnRlcmFjdGl2ZSAtTm9Qcm9maWxlIC1maWxlICIkKCRteUludm9jYXRpb24uSW52b2NhdGlvbk5hbWUpIiAkYXJncwogICAgfQogICAgZXhpdCAkbGFzdGV4aXRjb2RlCn0KCnRyeSB7CiAgICAkRXJyb3JBY3Rpb25QcmVmZXJlbmNlID0gJ3N0b3AnCiAgICAkTnVtT2ZDb3JlcyA9IChHZXQtV21pT2JqZWN0IFdpbjMyX1Byb2Nlc3NvcikuTnVtYmVyT2ZMb2dpY2FsUHJvY2Vzc29ycwogICAgJFByb2Nlc3MgPSBHZXQtV21pT2JqZWN0IFdpbjMyX1BlcmZGb3JtYXR0ZWREYXRhX1BlcmZQcm9jX1Byb2Nlc3MgfAogICAgICAgICAgICAgICBTZWxlY3QtT2JqZWN0IC1wcm9wZXJ0eSBOYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAe05hbWUgPSAiQ1BVIjsgRXhwcmVzc2lvbiA9IHsgKCRfLlBlcmNlbnRQcm9jZXNzb3JUaW1lIC8gJE51bU9mQ29yZXMpIH0gfSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEB7TmFtZSA9ICJQSUQiOyBFeHByZXNzaW9uID0geyAkXy5JRFByb2Nlc3MgfSB9LCAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAeyJOYW1lIiA9ICJNZW1vcnkoTUIpIjsgRXhwcmVzc2lvbiA9IHsgW2ludF0oJF8uV29ya2luZ1NldFByaXZhdGUgLyAxbWIpIH0gfSB8ICAKICAgICAgICAgICAgICAgV2hlcmUtT2JqZWN0IHsgJF8uTmFtZSAtbm90bWF0Y2ggIl4oaWRsZXxfdG90YWx8c3lzdGVtKSQiIH0KCiAgICBpZiAoJE1lbW9yeVV0aWxpemF0aW9uIC1vciAkQ1BVVXRpbGl6YXRpb24pIHsKICAgICAgICAkUHJvY2VzcyA9ICRQcm9jZXNzIHwgV2hlcmUtT2JqZWN0IHsgJF8uJ01lbW9yeShNQiknIC1nZSAkTWVtb3J5VXRpbGl6YXRpb24gLWFuZCAkXy5DUFUgLWdlICRDUFVVdGlsaXphdGlvbiB9CiAgICAgICAgSWYoISRQcm9jZXNzKXtXcml0ZS1PdXRwdXQgImBuTm8gcHJvY2VzcyBmb3VuZCBtYXRjaGluZyB0aGUgc3BlY2lmaWVkIGNyaXRlcmlhIjtleGl0fQogICAgfQogICAgV3JpdGUtT3V0cHV0ICJgbkxpc3Qgb2YgcHJvY2Vzc2VzIG1hdGNoaW5nIHRoZSBzcGVjaWZpZWQgY3JpdGVyaWEiCiAgICBGb3JFYWNoICgkSXRlbSBpbiAkUHJvY2VzcykgewogICAgICAgIFdyaXRlLU91dHB1dCAiYG5Qcm9jZXNzSWQgICA6ICQoJEl0ZW0uUElEKSIKICAgICAgICBXcml0ZS1PdXRwdXQgIk5hbWUgICAgICAgIDogJCgkSXRlbS5OYW1lKSIKICAgICAgICBXcml0ZS1PdXRwdXQgIkNQVSAgICAgICAgIDogJChbTWF0aF06OlJvdW5kKCgkSXRlbS5DUFUpLDIpKSIKICAgICAgICBXcml0ZS1PdXRwdXQgIk1lbW9yeSAoTUIpIDogJChbTWF0aF06OlJvdW5kKCgkSXRlbS4nTWVtb3J5KE1CKScpLDIpKSIKICAgIH0KfQpjYXRjaCB7CiAgICBXcml0ZS1FcnJvciAkXwp9Cg==","jsonSchema":{"type":"object","properties":{"MemoryUtilization":{"title":"Memory Utilization in %","type":"integer"},"CPUUtilization":{"title":"CPU Utilization in %","type":"integer"}},"additionalproperties":false},"uiSchema":{"MemoryUtilization":{"classNames":"col-sm-4","ui:autofocus":true},"CPUUtilization":{"classNames":"col-sm-4","ui:autofocus":true},"ui:order":["CPUUtilization","MemoryUtilization"]},"isHDScript":false}

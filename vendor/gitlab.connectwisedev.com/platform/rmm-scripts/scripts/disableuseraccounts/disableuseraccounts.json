{"id":"0a9077bf-44fd-11e9-a5cd-00155d130b01","partnerId":"00000000-0000-0000-0000-000000000000","category":["Management"],"description":"Disables given user account","engine":"powershell","engineMaxVersion":5,"expectedExecutionTimeSec":300,"failureMessage":"Executed with errors","successMessage":"Excecution success","internal":false,"name":"Disable User accounts","tags":["Windows 7","Windows 10"],"sequence":true,"content":"PCMKICAgIC5TWU5PUFNJUwogICAgICAgICBEaXNhYmxlIFVzZXIgQWNjb3VudHMKICAgIC5ERVNDUklQVElPTgogICAgICAgICBJdCB3aWxsIGRpc2FibGUgdGhlIGxvY2FsIHVzZXIgYWNjb3VudHMuCiAgICAgICAgIE9uIG1lbWJlciBzZXJ2ZXIgbWFjaGluZSBhbmQgQUQgY29udHJvbGxlciwgaXQgd2lsbCBkaXNhYmxlIHRoZSBkb21haW4gdXNlciBhY2NvdW50LgogICAgLkhlbHAKICAgICAgICAgd29yayBzdGF0aW9uID0gMQogICAgICAgICAjRG9tYWluIENvbnRyb2xsZXIgPSAyCiAgICAgICAgICNzZXJ2ZXIgPSAzCiAgICAgICAgIFVzZSBuZXQgdXNlciBjb21tYW5kIGZvciB3b3Jrc3RhdGlvbi4gCiAgICAgICAgIFVzZSBBY3RpdmVEaXJlY3RvcnkgY21kbGV0cyBmb3IgREMgYW5kIE1lbWJlciBTZXJ2ZXIKICAgIC5BdXRob3IKICAgICAgICBEdXJnZXNoa3VtYXIgUGF0ZWwKICAgIC5WZXJzaW9uCiAgICAgICAgMS4wCiM+CgojRGVmaW5lICR1c2VycyBpbiBKU09OIFNjaGVtYQoKJHVzZXJzMSA9IEAoKQokdXNlcnMxID0gJHVzZXJzLnNwbGl0KCcsJykKCiRQcm9kdWN0VHlwZSA9IChHZXQtV21pT2JqZWN0IC1DbGFzcyBXaW4zMl9PcGVyYXRpbmdTeXN0ZW0pLnByb2R1Y3R0eXBlIAoKZnVuY3Rpb24gRGlzYWJsZUFkVXNlciB7CiAgIAogICAgZm9yZWFjaCAoJHVzZXIgaW4gJHVzZXJzMSkgewogICAgICAgIGlmIChbYm9vbF0gKEdldC1BRFVzZXIgLUZpbHRlciB7IFNhbUFjY291bnROYW1lIC1lcSAkdXNlciB9IC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlKSkgewogICAgICAgICAgICAgICAKICAgICAgICAgICAgRGlzYWJsZS1BREFjY291bnQgJHVzZXIgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUKICAgICAgICAgICAgJGVuYWJsZWQgPSAoR2V0LUFEVXNlciAkdXNlcikuRW5hYmxlZAogICAgICAgICAgICBpZiAoJGVuYWJsZWQgLWVxICRmYWxzZSkgewogICAgICAgICAgICAgICAgV3JpdGUtT3V0cHV0ICJVc2VyIGFjY291bnQgJyR1c2VyJyBkaXNhYmxlZCBzdWNjZXNzZnVsbHkuIgogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgV3JpdGUtT3V0cHV0ICJVc2VyIGFjY291bnQgJyR1c2VyJyBub3QgZGlzYWJsZWQiCiAgICAgICAgICAgIH0KICAgCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBXcml0ZS1PdXRwdXQgIlVzZXIgYWNjb3VudCAnJHVzZXInIGRvZXNuJ3QgZXhpc3QiCiAgICAgICAgfQogICAgCiAgICB9CiAgICByZXR1cm4KfQoKZnVuY3Rpb24gRGlzYWJsZUxvY2FsVXNlciB7CiAgICAKICAgIGZvcmVhY2ggKCR1c2VyIGluICR1c2VyczEpIHsKICAgICAgICAgICAgCiAgICAgICAgbmV0IHVzZXIgJHVzZXIgPiBudWxsIDI+JjEKICAgICAgICAKICAgICAgICBpZiAoJD8pIHsKICAgICAgICAgICAgbmV0IHVzZXIgJHVzZXIgL2FjdGl2ZTpubyA+IG51bGwgMj4mMQogICAKICAgICAgICAgICAgaWYgKCQ/KSB7CiAgICAgICAgICAgICAgICBXcml0ZS1PdXRwdXQgIlVzZXIgYWNjb3VudCAnJHVzZXInIGRpc2FibGVkIHN1Y2Nlc3NmdWxseS4iCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBXcml0ZS1PdXRwdXQgIlVzZXIgYWNjb3VudCAnJHVzZXInIG5vdCBkaXNhYmxlZCIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgV3JpdGUtT3V0cHV0ICJVc2VyIGFjY291bnQgJyR1c2VyJyBkb2Vzbid0IGV4aXN0IgogICAgICAgIH0KICAgIH0KICAgIHJldHVybgp9Cgp0cnkgewogICAgaWYgKCRQcm9kdWN0VHlwZSAtZXEgMSkgewogICAgICAgIAogICAgICAgIERpc2FibGVMb2NhbFVzZXIKICAgIH0KICAgIGVsc2UgewogICAgICAgIGlmIChHZXQtTW9kdWxlIGFjdGl2ZWRpcmVjdG9yeSkgewogICAgICAgICAgIAogICAgICAgICAgICBEaXNhYmxlQWRVc2VyCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBpZiAoSW1wb3J0LU1vZHVsZSBhY3RpdmVkaXJlY3RvcnkpIHsKICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBEaXNhYmxlQWRVc2VyCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBXcml0ZS1PdXRwdXQgImBuVXNlciBhY2NvdW50cyBub3QgZGlzYWJsZWQuIgogICAgICAgICAgICAgICAgV3JpdGUtRXJyb3IgImBuIiRfLkV4Y2VwdGlvbi5NZXNzYWdlCiAgICAgICAgICAgICAgICBFWElUCiAgICAgICAgICAgIH0KICAgICAgICAgIAogICAgICAgIH0KICAgIH0KfQpjYXRjaCB7CiAgICB3cml0ZS1lcnJvciAiYG4iJF8uRXhjZXB0aW9uLk1lc3NhZ2UKfQo=","jsonSchema":{"type":"object","properties":{"users":{"type":"string","title":"User name"}},"required":["users"],"additionalProperties":false},"uiSchema":{"users":{"classNames":"col-sm-12","ui:autofocus":true}},"isHDScript":false}

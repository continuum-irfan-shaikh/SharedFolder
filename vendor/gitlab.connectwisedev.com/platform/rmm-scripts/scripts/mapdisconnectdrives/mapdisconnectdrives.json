{"id":"6454df93-6069-11e9-8ceb-00155d130b01","partnerId":"00000000-0000-0000-0000-000000000000","category":["Setup"],"description":"Map or Disconnect drives.","engine":"powershell","engineMaxVersion":5,"expectedExecutionTimeSec":600,"failureMessage":"Executed with errors","successMessage":"Excecuted successfully","internal":false,"name":"Map or Disconnect Drive(s)","tags":["Windows 7","Windows 10"],"sequence":true,"content":"aWYgKCRlbnY6UFJPQ0VTU09SX0FSQ0hJVEVXNjQzMiAtZXEgIkFNRDY0IikgewogICAgaWYgKCRteUludm9jYXRpb24uTGluZSkgewogICAgICAgICYiJGVudjpzeXN0ZW1yb290XHN5c25hdGl2ZVx3aW5kb3dzcG93ZXJzaGVsbFx2MS4wXHBvd2Vyc2hlbGwuZXhlIiAtTm9uSW50ZXJhY3RpdmUgLU5vUHJvZmlsZSAkbXlJbnZvY2F0aW9uLkxpbmUKICAgIH0KICAgIGVsc2UgewogICAgICAgICYiJGVudjpzeXN0ZW1yb290XHN5c25hdGl2ZVx3aW5kb3dzcG93ZXJzaGVsbFx2MS4wXHBvd2Vyc2hlbGwuZXhlIiAtTm9uSW50ZXJhY3RpdmUgLU5vUHJvZmlsZSAtZmlsZSAiJCgkbXlJbnZvY2F0aW9uLkludm9jYXRpb25OYW1lKSIgJGFyZ3MKICAgIH0KICAgIGV4aXQgJGxhc3RleGl0Y29kZQp9CiMgaHR0cHM6Ly9zdXBwb3J0Lm1pY3Jvc29mdC5jb20vZW4tc2cvaGVscC85NjgyNjQvZXJyb3ItbWVzc2FnZS13aGVuLXlvdS10cnktdG8tbWFwLXRvLWEtbmV0d29yay1kcml2ZS1vZi1hLWRmcy1zaGFyZS1ieQpGdW5jdGlvbiBHZXQtUkRQU2Vzc2lvbnMgewogICAgdHJ5ewogICAgICAgICRFcnJvckFjdGlvblByZWZlcmVuY2UgPSAnU3RvcCcKICAgICAgICBpZiAoJGVudjpQUk9DRVNTT1JfQVJDSElURVc2NDMyIC1lcSAiQU1ENjQiIC1hbmQgJGVudjpQUk9DRVNTT1JfQVJDSElURUNUVVJFIC1lcSAneDg2JykgeyAkUXVlcnkgPSAnYzpcd2luZG93c1xzeXNuYXRpdmVccXVlcnkuZXhlJyB9ZWxzZSB7ICRRdWVyeSA9ICdjOlx3aW5kb3dzXFN5c3RlbTMyXHF1ZXJ5LmV4ZScgfQogICAgICAgICRMb2dnZWRPblVzZXJzID0gaWYgKCgkVXNlcnMgPSAoJiAkUXVlcnkgdXNlciAyPiYxKSkpIHsKICAgICAgICAgICAgJFVzZXJzIHwgRm9yRWFjaC1PYmplY3QgeyAoKCRfLnRyaW0oKSAtcmVwbGFjZSAiPiIgLXJlcGxhY2UgIig/bSleKFtBLVphLXowLTldezMsfSlccysoXGR7MSwyfVxzK1x3KykiLCAnJDEgIG5vbmUgICQyJyAtcmVwbGFjZSAiXHN7Mix9IiwgIiwiIC1yZXBsYWNlICJub25lIiwgJG51bGwpKSB9IHwKICAgICAgICAgICAgQ29udmVydEZyb20tQ3N2IHwKICAgICAgICAgICAgV2hlcmUtT2JqZWN0IHsgJF8uc3RhdGUgLWVxICdBY3RpdmUnfSAjLWFuZCAkXy5TRVNTSU9OTkFNRSAtbGlrZSAicmRwKiIgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gJExvZ2dlZE9uVXNlcnMKICAgIH0KICAgIGNhdGNoewogICAgICAgICMgbm8gYWN0aW9uCiAgICB9Cn0KCkZ1bmN0aW9uIFRlc3RSZWdpc3RyeSB7CiAgICAkdmFsdWUgPSBHZXQtSXRlbVByb3BlcnR5ICdIS0xNOlxTeXN0ZW1cQ3VycmVudENvbnRyb2xTZXRcQ29udHJvbFxMc2FcJyAtTmFtZSBEaXNhYmxlRG9tYWluQ3JlZHMgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBkaXNhYmxlZG9tYWluY3JlZHMKICAgIGlmICgkdmFsdWUgLWVxIDEpIHsKICAgICAgICByZXR1cm4gJHRydWUKICAgIH0KICAgIGVsc2UgeyAKICAgICAgICByZXR1cm4gJGZhbHNlCiAgICB9Cn0KCkZ1bmN0aW9uIEFwcGVuZFRvQ1NWICgkVHlwZSwgJE1lc3NhZ2UpIHsKICAgIE5ldy1PYmplY3QgLVR5cGVOYW1lIHBzb2JqZWN0IC1Qcm9wZXJ0eSBAe1R5cGUgPSAkVHlwZTsgTWVzc2FnZSA9ICRNZXNzYWdlIH0gfCBDb252ZXJ0VG8tQ3N2IC1Ob1R5cGVJbmZvcm1hdGlvbiB8IFNlbGVjdC1PYmplY3QgLVNraXAgMSB8IE91dC1GaWxlIEM6XHRlbXBcbG9nLmNzdiAtQXBwZW5kCn0KCiMgdmFsaWRhdGUgaW5wdXQgcGFyYW1ldGVycwppZigkRHJpdmVMZXR0ZXIgLWFuZCAhJERyaXZlTGV0dGVyLkVuZHNXaXRoKCc6JykpeyREcml2ZUxldHRlciA9ICREcml2ZUxldHRlciArICc6J30KaWYoJFBhdGggLWFuZCAkUGF0aC5FbmRzV2l0aCgnXCcpKXskUGF0aCA9ICRQYXRoLlRyaW1FbmQoJ1wnKX0KCiRTY3JpcHRibG9jayA9IHsKICAgICRFcnJvckFjdGlvblByZWZlcmVuY2UgPSAnU3RvcCcKICAgIHRyeSB7ICAgIAogICAgICAgIEZ1bmN0aW9uIE1hcE5ldHdvcmtEcml2ZSgkRHJpdmVMZXR0ZXIsICREaXJlY3RvcnksICRQZXJzaXN0ZW50LCAkVXNlcm5hbWUsICRQYXNzd29yZCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaWYgKFRlc3QtUGF0aCAkRHJpdmVMZXR0ZXIpIHsKICAgICAgICAgICAgICAgICAgICAjIFdyaXRlLU91dHB1dCAiYG5bTWFwIE5ldHdvcmsgRHJpdmVdIEZhaWxlZCB0byBNYXAgdGhlIG5ldHdvcmsgZHJpdmU6IGAnJERyaXZlTGV0dGVyYCcgYmVjYXVzZSBpdCBhbHJlYWR5IGV4aXN0cy4iCiAgICAgICAgICAgICAgICAgICAgQXBwZW5kVG9DU1YgJ091dHB1dCcgIltNYXAgTmV0d29yayBEcml2ZV0gRmFpbGVkIHRvIE1hcCB0aGUgbmV0d29yayBkcml2ZTogYCckRHJpdmVMZXR0ZXJgJyBiZWNhdXNlIGl0IGFscmVhZHkgZXhpc3RzLiIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICROZXR3b3JrID0gTmV3LU9iamVjdCAtQ29tT2JqZWN0IFdTY3JpcHQuTmV0d29yawogICAgICAgICAgICAgICAgICAgICROZXR3b3JrLk1hcE5ldHdvcmtEcml2ZSgkRHJpdmVMZXR0ZXIsICIkRGlyZWN0b3J5IiwgJFBlcnNpc3RlbnQsICRVc2VyTmFtZSwgJFBhc3N3b3JkKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgI1N0b3AtUHJvY2VzcyAtUHJvY2Vzc05hbWUgZXhwbG9yZXIgLUNvbmZpcm06JGZhbHNlIC1Gb3JjZQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICMgV3JpdGUtT3V0cHV0ICJgbltNYXAgTmV0d29yayBEcml2ZV0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgICAgICBBcHBlbmRUb0NTViAnT3V0cHV0JyAiW01hcCBOZXR3b3JrIERyaXZlXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIAogICAgICAgIEZ1bmN0aW9uIFJlbW92ZU5ldHdvcmtEcml2ZSgkRHJpdmVMZXR0ZXIpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGlmIChUZXN0LVBhdGggJERyaXZlTGV0dGVyKSB7CiAgICAgICAgICAgICAgICAgICAgJE5ldHdvcmsgPSBOZXctT2JqZWN0IC1Db21PYmplY3QgV1NjcmlwdC5OZXR3b3JrCiAgICAgICAgICAgICAgICAgICAgJE5ldHdvcmsuUmVtb3ZlTmV0d29ya0RyaXZlKCREcml2ZUxldHRlciwgJFRydWUpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBBcHBlbmRUb0NTViAnT3V0cHV0JyAiW1JlbW92ZSBOZXR3b3JrIERyaXZlXSBGYWlsZWQgdG8gUmVtb3ZlIHRoZSBuZXR3b3JrIGRyaXZlOiBgJyREcml2ZUxldHRlcmAnIGJlY2F1c2UgaXQgZG9lcyBub3QgZXhpc3RzLiIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAjIFdyaXRlLU91dHB1dCAiYG5bUmVtb3ZlIE5ldHdvcmsgRHJpdmVdICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICAgICAgQXBwZW5kVG9DU1YgJ091dHB1dCcgIltSZW1vdmUgTmV0d29yayBEcml2ZV0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAKICAgICAgICBGdW5jdGlvbiBDaGFuZ2VMYWJlbCgkRHJpdmVMZXR0ZXIsICROZXdMYWJlbCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaWYgKFRlc3QtUGF0aCAkRHJpdmVMZXR0ZXIpIHsKICAgICAgICAgICAgICAgICAgICAkQXBwbGljYXRpb24gPSBOZXctT2JqZWN0IC1Db21PYmplY3Qgc2hlbGwuYXBwbGljYXRpb24KICAgICAgICAgICAgICAgICAgICAkQXBwbGljYXRpb24uTmFtZVNwYWNlKCREcml2ZUxldHRlcikuc2VsZi5uYW1lID0gJE5ld0xhYmVsCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAjV3JpdGUtT3V0cHV0ICJgbltDaGFuZ2UgRHJpdmUgTGFiZWxdIEZhaWxlZCB0byBjaGFuZ2UgdGhlIGxhYmVsIG9mIGRyaXZlOiBgJyREcml2ZUxldHRlcmAnIGJlY2F1c2UgaXQgZG9lcyBub3QgZXhpc3RzLiIKICAgICAgICAgICAgICAgICAgICBBcHBlbmRUb0NTViAnT3V0cHV0JyAiW0NoYW5nZSBEcml2ZSBMYWJlbF0gRmFpbGVkIHRvIGNoYW5nZSB0aGUgbGFiZWwgb2YgZHJpdmU6IGAnJERyaXZlTGV0dGVyYCcgYmVjYXVzZSBpdCBkb2VzIG5vdCBleGlzdHMuIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICNXcml0ZS1PdXRwdXQgImBuW0NoYW5nZSBEcml2ZSBMYWJlbF0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgICAgICBBcHBlbmRUb0NTViAnT3V0cHV0JyAiW0NoYW5nZSBEcml2ZSBMYWJlbF0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAKICAgICAgICBGdW5jdGlvbiBIaWRlRHJpdmVGcm9tRXhwbG9yZXIoJERyaXZlTGV0dGVyKSB7IAogICAgICAgICAgICAjIGxvZ29mZiBzZXNzaW9uIHRvIHNlZSB0aGUgY2hhbmdlcwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJFJlZ2lzdHJ5ID0gIkhLQ1U6XFNvZnR3YXJlXE1pY3Jvc29mdFxXaW5kb3dzXEN1cnJlbnRWZXJzaW9uXFBvbGljaWVzXEV4cGxvcmVyIgogICAgICAgICAgICAgICAgJERyaXZlTnVtYmVyID0gW0ludF1bQ2hhcl0kKCREcml2ZUxldHRlciAtcmVwbGFjZSAnOicsICcnKS5Ub1VwcGVyKCkgLSA2NQogICAgICAgICAgICAgICAgJE1hc2sgKz0gW1N5c3RlbS5NYXRoXTo6UG93KDIsICREcml2ZU51bWJlcikKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoVGVzdC1QYXRoICRSZWdpc3RyeSkgewogICAgICAgICAgICAgICAgICAgIFNldC1JdGVtUHJvcGVydHkgLVBhdGggIkhLQ1U6XFNvZnR3YXJlXE1pY3Jvc29mdFxXaW5kb3dzXEN1cnJlbnRWZXJzaW9uXFBvbGljaWVzXEV4cGxvcmVyIi1OYW1lIE5vRHJpdmVzIC1WYWx1ZSAkTWFzayAtVHlwZSBEV09SRCAtRm9yY2UKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIE5ldy1JdGVtIC1QYXRoICJIS0NVOlxTb2Z0d2FyZVxNaWNyb3NvZnRcV2luZG93c1xDdXJyZW50VmVyc2lvblxQb2xpY2llc1wiIC1OYW1lICdFeHBsb3JlcicgLUZvcmNlIHwgT3V0LU51bGwKICAgICAgICAgICAgICAgICAgICBTZXQtSXRlbVByb3BlcnR5IC1QYXRoICJIS0NVOlxTb2Z0d2FyZVxNaWNyb3NvZnRcV2luZG93c1xDdXJyZW50VmVyc2lvblxQb2xpY2llc1xFeHBsb3JlciItTmFtZSBOb0RyaXZlcyAtVmFsdWUgJE1hc2sgLVR5cGUgRFdPUkQgLUZvcmNlCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgJE5vRHJpdmVzVmFsdWUgPSBHZXQtSXRlbVByb3BlcnR5ICJIS0NVOlxTb2Z0d2FyZVxNaWNyb3NvZnRcV2luZG93c1xDdXJyZW50VmVyc2lvblxQb2xpY2llc1xFeHBsb3JlciIgLU5hbWUgTm9Ecml2ZXMgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBOb0RyaXZlcwogICAgICAgICAgICAgICAgaWYgKCROb0RyaXZlc1ZhbHVlIC1lcSAkTWFzaykgewogICAgICAgICAgICAgICAgICAgIEFwcGVuZFRvQ1NWICdPdXRwdXQnICJEcml2ZSAkRHJpdmVMZXR0ZXIgaXMgbm93IGhpZGRlbiwgYnV0IGl0IGlzIHJlcXVpcmVkIHRvIGxvZy1vZmYgYW5kIGxvZy1pbiBhZ2FpbiB0byBzZWUgdGhlIGNoYW5nZXMuIgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAjV3JpdGUtT3V0cHV0ICJgbltIaWRlIERyaXZlIEZyb20gRXhwbG9yZXJdICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICAgICAgQXBwZW5kVG9DU1YgJ091dHB1dCcgIltIaWRlIERyaXZlIEZyb20gRXhwbG9yZXJdICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgCiAgICAgICAgRnVuY3Rpb24gU3VjY2Vzc2Z1bElmU2NyaXB0QmxvY2tSZXR1cm5zVHJ1ZSB7CiAgICAgICAgICAgIHBhcmFtKAogICAgICAgICAgICAgICAgW1NjcmlwdEJsb2NrXSAkU2NyaXB0QmxvY2sKICAgICAgICAgICAgKQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKCAmICRTY3JpcHRCbG9jayApIHsgCiAgICAgICAgICAgICAgICBBcHBlbmRUb0NTViAnT3V0cHV0JyAiT3ZlcmFsbCBUYXNrIGlzIFN1Y2Nlc3NmdWwiCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7IAogICAgICAgICAgICAgICAgQXBwZW5kVG9DU1YgJ091dHB1dCcgIk92ZXJhbGwgVGFzayBoYXMgZmFpbGVkIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgCiAgICAgICAgRnVuY3Rpb24gTGlzdE5ldHdvcmtEcml2ZXMgewogICAgICAgICAgICAkRGF0YSA9IChOZXctT2JqZWN0IC1Db21PYmplY3Qgd3NjcmlwdC5uZXR3b3JrKS5FbnVtTmV0d29ya0RyaXZlcygpIHwgV2hlcmUtT2JqZWN0IHsgJF8udHlwZW5hbWUgLW5vdGxpa2UgIipDb21vYmplY3QqIiB9CiAgICAgICAgICAgIGlmICgkRGF0YS5MZW5ndGggLWdlIDEpIHsKICAgICAgICAgICAgICAgICRvYmogPSBGb3IgKCRpID0gMDsgJGkgLWx0ICQoJERhdGEubGVuZ3RoIC0gMSk7ICRpID0gJGkgKyAyKSB7CiAgICAgICAgICAgICAgICAgICAgTmV3LU9iamVjdCBQU09CamVjdCAtUHJvcGVydHkgQHsgRHJpdmVMZXR0ZXIgPSAkZGF0YVskaV07IFBhdGggPSAkRGF0YVskaSArIDFdIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgCiAgICAgICAgICAgIHJldHVybiAkb2JqCiAgICAgICAgfQoKICAgICAgICBGdW5jdGlvbiBBcHBlbmRUb0NTViAoJFR5cGUsICRNZXNzYWdlKSB7CiAgICAgICAgICAgIE5ldy1PYmplY3QgLVR5cGVOYW1lIHBzb2JqZWN0IC1Qcm9wZXJ0eSBAe1R5cGUgPSAkVHlwZTsgTWVzc2FnZSA9ICRNZXNzYWdlIH0gfCBDb252ZXJ0VG8tQ3N2IC1Ob1R5cGVJbmZvcm1hdGlvbiB8IFNlbGVjdC1PYmplY3QgLVNraXAgMSB8IE91dC1GaWxlIEM6XHRlbXBcbG9nLmNzdiAtQXBwZW5kCiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmICgkTWFwUGVyc2lzdGVudCAtZXEgJ1RydWUnKSB7ICRNYXBQZXJzaXN0ZW50ID0gJHRydWUgfSBlbHNlIHsgJE1hcFBlcnNpc3RlbnQgPSAkZmFsc2UgfQogICAgCiAgICAgICAgU3dpdGNoICgkQWN0aW9uKSB7CiAgICAgICAgICAgICdNYXAgTmV0d29yayBEcml2ZScgewogICAgICAgICAgICAgICAgaWYgKCREaXNjb25uZWN0QmVmb3JlTWFwcGluZyAtZXEgJ1RydWUnKSB7IFJlbW92ZU5ldHdvcmtEcml2ZSAkRHJpdmVMZXR0ZXIgfQogICAgICAgICAgICAgICAgTWFwTmV0d29ya0RyaXZlICREcml2ZUxldHRlciAkUGF0aCAkTWFwUGVyc2lzdGVudCAkVXNlcm5hbWUgJFBhc3N3b3JkCiAgICAgICAgICAgICAgICBTdGFydC1TbGVlcCAtU2Vjb25kcyAyCiAgICAgICAgICAgICAgICBpZiAoJEV4cGxvcmVyTGFiZWwpIHsgQ2hhbmdlTGFiZWwgJERyaXZlTGV0dGVyICRFeHBsb3JlckxhYmVsIH0KICAgICAgICAgICAgICAgIGlmICgkSGlkZUZyb21XaW5kb3dzRXhwbG9yZXIgLWVxICdUcnVlJykgeyBIaWRlRHJpdmVGcm9tRXhwbG9yZXIgJERyaXZlTGV0dGVyIH0KICAgICAgICAgICAgICAgIFN1Y2Nlc3NmdWxJZlNjcmlwdEJsb2NrUmV0dXJuc1RydWUgeyBbYm9vbF0oTGlzdE5ldHdvcmtEcml2ZXMgfCBXaGVyZS1PYmplY3QgeyAkXy5Ecml2ZUxldHRlciAtZXEgJERyaXZlTGV0dGVyIC1hbmQgJF8uUGF0aCAtZXEgJFBhdGggfSkgfQogICAgICAgICAgICB9CiAgICAgICAgICAgICdNYXAgd2l0aCBXZWJEQVYnIHsKICAgICAgICAgICAgICAgIGlmICgkRGlzY29ubmVjdEJlZm9yZU1hcHBpbmcgLWVxICdUcnVlJykgeyBSZW1vdmVOZXR3b3JrRHJpdmUgJERyaXZlTGV0dGVyIH0KICAgICAgICAgICAgICAgIE1hcE5ldHdvcmtEcml2ZSAkRHJpdmVMZXR0ZXIgJFBhdGggJE1hcFBlcnNpc3RlbnQgJFVzZXJuYW1lICRQYXNzd29yZAogICAgICAgICAgICAgICAgaWYgKCRFeHBsb3JlckxhYmVsKSB7IENoYW5nZUxhYmVsICREcml2ZUxldHRlciAkRXhwbG9yZXJMYWJlbCB9CiAgICAgICAgICAgICAgICBpZiAoJEhpZGVGcm9tV2luZG93c0V4cGxvcmVyIC1lcSAnVHJ1ZScpIHsgSGlkZURyaXZlRnJvbUV4cGxvcmVyICREcml2ZUxldHRlciB9ICAgICAgICAKICAgICAgICAgICAgICAgIFN1Y2Nlc3NmdWxJZlNjcmlwdEJsb2NrUmV0dXJuc1RydWUgeyBbYm9vbF0oTGlzdE5ldHdvcmtEcml2ZXMgfCBXaGVyZS1PYmplY3QgeyAkXy5Ecml2ZUxldHRlciAtZXEgJERyaXZlTGV0dGVyIC1hbmQgJF8uUGF0aCAtZXEgJFBhdGggfSkgfQogICAgICAgICAgICB9CiAgICAgICAgICAgICdEaXNjb25uZWN0JyB7CiAgICAgICAgICAgICAgICBSZW1vdmVOZXR3b3JrRHJpdmUgJERyaXZlTGV0dGVyCiAgICAgICAgICAgICAgICBTdWNjZXNzZnVsSWZTY3JpcHRCbG9ja1JldHVybnNUcnVlIHsgLW5vdCAoTGlzdE5ldHdvcmtEcml2ZXMgfCBXaGVyZS1PYmplY3QgeyAkXy5Ecml2ZUxldHRlciAtZXEgJERyaXZlTGV0dGVyIH0pIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAnRGlzY29ubmVjdCBBbGwnIHsKICAgICAgICAgICAgICAgIEZvcmVhY2ggKCRpdGVtIGluICQoKChOZXctT2JqZWN0IC1Db21PYmplY3Qgd3NjcmlwdC5uZXR3b3JrKS5FbnVtTmV0d29ya0RyaXZlcygpIC1tYXRjaCAiXihbYS16XSk6IikpKSB7IFJlbW92ZU5ldHdvcmtEcml2ZSAkaXRlbSB9CiAgICAgICAgICAgICAgICBTdWNjZXNzZnVsSWZTY3JpcHRCbG9ja1JldHVybnNUcnVlIHsgLW5vdCgoTGlzdE5ldHdvcmtEcml2ZXMgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBEcml2ZUxldHRlcikgLW1hdGNoICJeKFthLXpdKToiKSB9IAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgY2F0Y2ggewogICAgICAgICRfCiAgICB9Cn0KCiRmaWxlID0gQCIKYCRBY3Rpb24gPSAiJEFjdGlvbiIKYCREcml2ZUxldHRlciA9ICIkRHJpdmVMZXR0ZXIiCmAkRGlzY29ubmVjdEJlZm9yZU1hcHBpbmcgPSBgJyREaXNjb25uZWN0QmVmb3JlTWFwcGluZ2AnCmAkTWFwUGVyc2lzdGVudCA9IGAnJE1hcFBlcnNpc3RlbnRgJwpgJEhpZGVGcm9tV2luZG93c0V4cGxvcmVyID0gYCckSGlkZUZyb21XaW5kb3dzRXhwbG9yZXJgJwpgJFBhdGggPSAiJFBhdGgiCmAkVXNlck5hbWUgPSAiJFVzZXJOYW1lIgpgJFBhc3N3b3JkID0gIiRQYXNzd29yZCIKYCRFeHBsb3JlckxhYmVsID0gIiRFeHBsb3JlckxhYmVsIgoiQCArICRTY3JpcHRibG9jay5Ub1N0cmluZygpCgokRXJyb3JBY3Rpb25QcmVmZXJlbmNlID0gJ1N0b3AnCiRMb2dEaXIgPSAnQzpcdGVtcFwnCiRMb2dGaWxlUGF0aCA9ICdDOlx0ZW1wXExvZy5jc3YnCiRNYWluRmlsZVBhdGggPSAnQzpcdGVtcFxNYXBOZXR3b3JrRHJpdmUucHMxJwoKaWYgKCFbSU8uRGlyZWN0b3J5XTo6RXhpc3RzKCRMb2dEaXIpKSB7IFtJTy5EaXJlY3RvcnldOjpDcmVhdGVEaXJlY3RvcnkoJExvZ0RpcikgfCBPdXQtTnVsbCB9ICMgY3JlYXRlIGZvbGRlciBpZiB0aGF0IGRvZXNuJ3QgZXhpc3RzCiRGaWxlIHwgT3V0LUZpbGUgJE1haW5GaWxlUGF0aCAtRW5jb2RpbmcgdXRmOCAjIGNvcHkgbWFpbiBzY3JpcHQgd2hpY2ggd2lsbCBiZSBsYXRlciBleGVjdXRlZCBmcm9tIHNjaGVkdWxlZCB0YXNrCgp0cnkgewogICAgaWYgKCgkU2Vzc2lvbiA9IEdldC1SRFBTZXNzaW9ucykpIHsKICAgICAgICAnIk1lc3NhZ2UiLCJUeXBlIicgfCBPdXQtRmlsZSAkTG9nRmlsZVBhdGggLUZvcmNlCiAgICAgICAgIyBpZighKFRlc3RSZWdpc3RyeSkpewogICAgICAgICMgICAgIEFwcGVuZFRvQ1NWICdPdXRwdXQnICJGb2xsb3dpbmcgcmVnaXN0cnkgc2V0dGluZyBpcyBtYW5kYXRvcnkuIFBsZWFzZSBjb25maWd1cmUgYW5kIHJlYm9vdCB0aGUgc3lzdGVtIGJlZm9yZSBydW5uaW5nIHRoaXMgc2NyaXB0IGFnYWluLgoKICAgICAgICAjIExvY2F0aW9uOiBIS0VZX0xPQ0FMX01BQ0hJTkVcU3lzdGVtXEN1cnJlbnRDb250cm9sU2V0XENvbnRyb2xcTHNhXAogICAgICAgICMgTmFtZTogRGlzYWJsZURvbWFpbkNyZWRzCiAgICAgICAgIyBWYWx1ZTogMSAoRFdPUkQpIgogICAgICAgICMgfQogICAgICAgICMgZWxzZXsKICAgICAgICAkVXNlciA9ICRTZXNzaW9uIHwgU2VsZWN0LU9iamVjdCAtRmlyc3QgMSAtRXhwYW5kUHJvcGVydHkgVXNlcm5hbWUgIyBzZWxlY3Qgb25lIHVzZXIgcHJvZmlsZSBmcm9tIGFjdGl2ZSBSRFAgc2Vzc2lvbnMKICAgICAgICBTdGFydC1TbGVlcCAtU2Vjb25kcyA1CiAgICAgICAgJFRhc2tOYW1lID0gIk1hcE5ldCIKICAgICAgICAkVGFzayA9ICJQb3dlclNoZWxsLmV4ZSAtZXhlY3V0aW9ucG9saWN5IGJ5cGFzcyAtTm9FeGl0IC1ub3Byb2ZpbGUgLVdpbmRvd1N0eWxlIEhpZGRlbiAtY29tbWFuZCAnLiAkTWFpbkZpbGVQYXRoICciCiAgICAgICAgJFN0YXJ0VGltZSA9IChHZXQtRGF0ZSkuQWRkTWludXRlcygyKS5Ub1N0cmluZygnSEg6bW0nKSAjIHRpbWUgaW4gMjRociBmb3JtYXQKCiAgICAgICAgc2NodGFza3MuZXhlIC9jcmVhdGUgL3MgJCgkZW52OkNPTVBVVEVSTkFNRSkgL3RuICRUYXNrTmFtZSAvc2Mgb25jZSAvdHIgJFRhc2sgL3N0ICRTdGFydFRpbWUgL3J1ICRVc2VyIC9GIHwgT3V0LU51bGwKICAgICAgICBzY2h0YXNrcy5leGUgL0VuZCAvVE4gJFRhc2tOYW1lIHwgT3V0LU51bGwKICAgICAgICBzY2h0YXNrcy5leGUgL1J1biAvVE4gJFRhc2tOYW1lIHwgT3V0LU51bGwKICAgICAgICBTdGFydC1TbGVlcCAtU2Vjb25kcyAoMTIwKQogICAgICAgICMgfQoKICAgICAgICAjIFNlbmRpbmcgbG9ncyB0byBQb3dlclNoZWxsIE91dHB1dFxFcnJvciBzdHJlYW1zIHNvIHRoYXQgYWdlbnQgY2FuIGNhcHR1cmUgaXQKICAgICAgICBpZiAoVGVzdC1QYXRoICRMb2dGaWxlUGF0aCkgewogICAgICAgICAgICAkTG9ncyA9IEltcG9ydC1Dc3YgJExvZ0ZpbGVQYXRoCiAgICAgICAgICAgIGlmKCRMb2dzIHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kUHJvcGVydHkgTWVzc2FnZSAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZSB8IEZvcmVhY2gtT2JqZWN0IHskXy50cmltKCl9KXsKICAgICAgICAgICAgICAgIGZvcmVhY2ggKCRpdGVtIGluICRMb2dzKSB7CiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICgkaXRlbS50eXBlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICdPdXRwdXQnIHsgV3JpdGUtT3V0cHV0ICJgbiQoJGl0ZW0ubWVzc2FnZSkiIH0KICAgICAgICAgICAgICAgICAgICAgICAgJ0Vycm9yJyB7IFdyaXRlLUVycm9yICJgbiQoJGl0ZW0ubWVzc2FnZSkiIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgIFdyaXRlLU91dHB1dCAiYG5ObyBhY3Rpb24gcGVyZm9ybWVkLCBiZWNhdXNlIHRoZSB0YXNrIGV4aXRlZCBkdWUgdG8gdGltZW91dC4gVGhpcyBtYXkgYmUgZHVlIHRvIHNsb3duZXNzIG9mIHRoZSBTeXN0ZW0uIgogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBzY2h0YXNrcy5leGUgL0RlbGV0ZSAvVE4gIk1hcG5ldCIgL0YgfCBPdXQtTnVsbCAjIHNjaGVkdWxlZCB0YXNrIGNsZWFudXAKICAgICAgICBSZW1vdmUtSXRlbSAtUGF0aCAkTWFpbkZpbGVQYXRoLCAkTG9nRmlsZVBhdGggLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUgIyBmaWxlIGNsZWFudXAKICAgIH0KICAgIGVsc2UgewogICAgICAgIFdyaXRlLU91dHB1dCAiVGhpcyBzY3JpcHQgcmVxdWlyZXMgbG9nb24gdXNlciBhbmQgY3VycmVudGx5IG5vIHVzZXIgaXMgbG9nZ2VkIGluLiBgbk5vIGFjdGlvbiB3aWxsIGJlIHBlcmZvcm1lZC4iOyBleGl0OwogICAgfQp9CmNhdGNoIHsKICAgIFdyaXRlLUVycm9yICRfCn0K","jsonSchema":{"addtionalproperties":false,"dependencies":{"Action":{"oneOf":[{"properties":{"Action":{"enum":["Map Network Drive"]},"DisconnectBeforeMapping":{"title":"Disconnect Before Mapping","type":"boolean"},"DriveLetter":{"enum":["D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],"title":"Drive Letter","type":"string"},"ExplorerLabel":{"title":"Explorer Label","type":"string"},"HideFromWindowsExplorer":{"title":"Hide from Windows Explorer","type":"boolean"},"MapPersistent":{"title":"Map Persistent","type":"boolean"},"Path":{"title":"Path","type":"string"},"password":{"title":"Password","type":"string"},"userName":{"title":"User Name","type":"string"}},"required":["DriveLetter","Path"]},{"properties":{"Action":{"enum":["Map with WebDAV"]},"DisconnectBeforeMapping":{"title":"Disconnect Before Mapping","type":"boolean"},"DriveLetter":{"enum":["D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],"title":"Drive Letter","type":"string"},"ExplorerLabel":{"title":"Explorer Label","type":"string"},"HideFromWindowsExplorer":{"title":"Hide from Windows Explorer","type":"boolean"},"MapPersistent":{"title":"Map Persistent","type":"boolean"},"Path":{"title":"Path","type":"string"},"password":{"title":"Password","type":"string"},"userName":{"title":"User Name","type":"string"}},"required":["DriveLetter","Path"]},{"properties":{"Action":{"enum":["Disconnect"]},"DriveLetter":{"enum":["D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],"title":"Drive Letter","type":"string"}},"required":["DriveLetter"]},{"properties":{"Action":{"enum":["Disconnect All"]}}}]}},"patternproperties$":{"^DisconnectBeforeMapping$":{},"^DriveLetter$":{},"^ExplorerLabel$":{},"^HideFromWindowsExplorer$":{},"^MapPersistent$":{},"^Path$":{},"^password$":{},"^userName$":{}},"properties":{"Action":{"enum":["Map Network Drive","Map with WebDAV","Disconnect","Disconnect All"],"enumNames":["Map Network Drive","Map with WebDAV","Disconnect","Disconnect All"],"title":"Action","type":"string"}},"required":["Action"],"type":"object"},"uiSchema":{"Action":{"classNames":"col-sm-4 col-sm-offset-right-8","ui:autofocus":true,"ui:placeholder":"Select"},"DisconnectBeforeMapping":{"classNames":"col-sm-12","ui:autofocus":true},"DriveLetter":{"classNames":"col-sm-3 col-sm-offset-right-9","ui:autofocus":true,"ui:placeholder":"Select"},"ExplorerLabel":{"classNames":"col-sm-12","ui:autofocus":true},"HideFromWindowsExplorer":{"classNames":"col-sm-12","ui:autofocus":true},"MapPersistent":{"classNames":"col-sm-12","ui:autofocus":true},"Path":{"classNames":"col-sm-12","ui:autofocus":true},"password":{"classNames":"col-sm-6","ui:widget":"password"},"ui:order":["Action","DriveLetter","DisconnectBeforeMapping","MapPersistent","HideFromWindowsExplorer","Path","ExplorerLabel","userName","password"],"userName":{"classNames":"col-sm-6","validationSchema":{"notEmpty":"userName","required":["password"],"type":"requiredFieldsIfNotEmpty"}}},"isHDScript":false}
{"id":"4dc47840-8916-11e9-a529-00155d130b01","partnerId":"00000000-0000-0000-0000-000000000000","category":["Maintenance"],"description":"The task will disable the windows update notification in system tray for windows 10 machines.","engine":"powershell","engineMaxVersion":5,"expectedExecutionTimeSec":300,"failureMessage":"Executed with errors","successMessage":"Excecuted successfully","internal":false,"name":"Disable windows update notification for Windows 10","tags":["Windows 7","Windows 10"],"sequence":true,"content":"PCMKICAgIC5TWU5PUFNJUwogICAgICAgIERpc2FibGUgdGhlIHdpbmRvd3MgdXBkYXRlIG5vdGlmaWNhdGlvbiBpbiBzeXN0ZW0gdHJheSBmb3Igd2luZG93cyAxMCBmb3IgY3VycmVudGx5IGxvZ2dlZCBvbiB1c2VycwogICAgLkRFU0NSSVBUSU9OCiAgICAgICAgRGlzYWJsZSB0aGUgd2luZG93cyB1cGRhdGUgbm90aWZpY2F0aW9uIGluIHN5c3RlbSB0cmF5IGZvciB3aW5kb3dzIDEwIGZvciBjdXJyZW50bHkgbG9nZ2VkIG9uIHVzZXJzCiAgICAuSGVscAogICAgICAgIFRvIGdldCBtb3JlIGRldGFpbHMgcmVmZXIgYmVsb3cgcmVnaXN0cnkuIAogICAgICAgIEhLQ1VcU09GVFdBUkVcTWljcm9zb2Z0XFdpbmRvd3NcQ3VycmVudFZlcnNpb25cTm90aWZpY2F0aW9uc1xTZXR0aW5nc1xXaW5kb3dzLlN5c3RlbVRvYXN0LlNlY3VyaXR5QW5kTWFpbnRlbmFuY2VcRW5hYmxlZCA9IDAgKERXT1JEKQogICAgLkF1dGhvcgogICAgICAgIER1cmdlc2hrdW1hciBQYXRlbAogICAgLlZlcnNpb24KICAgICAgICAxLjAKIz4KCiNDaGVjayB3aW4xMCBPUwppZiAoISgoKEdldC1XbWlPYmplY3QgLUNsYXNzIFdpbjMyX09wZXJhdGluZ1N5c3RlbSkuY2FwdGlvbikgLW1hdGNoICJNaWNyb3NvZnQgV2luZG93cyAxMCIpKSB7CiAgICBXcml0ZS1PdXRwdXQgIlRoaXMgdGFzayBpcyBzdXBwb3J0ZWQgb25seSBmb3Igd2luZG93cyAxMCBvcGVyYXRpbmcgc3lzdGVtcyIgIAogICAgRXhpdDsKfQoKRnVuY3Rpb24gQ3JlYXRlX3JlZ2lzdHJ5KCRwYXRoLCAkTmFtZSwgJFZhbHVlLCAkcHJvcGVydHl0eXBlKSB7CiAgICAjIEZ1bmN0aW9uIHdpbGwgc2V0IHJlZ2lzdHJ5IHZhbHVlIGFuZCBpZiBpdGVtIGlzIG5vdCBwcmVzZW50IHdpbGwgY3JlYXRlIHJlZ2lzdHJ5IGVudHJ5LgogICAgJERldGFpbHMgPSBHZXQtSXRlbVByb3BlcnR5IC1QYXRoICRwYXRoCiAgICBpZiAoJERldGFpbHMgLW5lICRudWxsKSB7CiAgICAgICAgJERldGFpbHMgPSBHZXQtSXRlbVByb3BlcnR5IC1QYXRoICRwYXRoIHwgZ20gfCBzZWxlY3QgLUV4cGFuZFByb3BlcnR5IE5hbWUKICAgICAgICBpZiAoJERldGFpbHMgLWNvbnRhaW5zICROYW1lKSB7CiAgICAgICAgICAgIFNldC1JdGVtUHJvcGVydHkgJHBhdGggLU5hbWUgJE5hbWUgLVZhbHVlICRWYWx1ZQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgTmV3LUl0ZW1Qcm9wZXJ0eSAtUGF0aCAkcGF0aCAtTmFtZSAkTmFtZSAtUHJvcGVydHlUeXBlICRwcm9wZXJ0eXR5cGUgLVZhbHVlICRWYWx1ZSB8IE91dC1OdWxsCiAgICAgICAgfQogICAgCiAgICB9ICNFbmQgaWYgc3RhdGVtZW50CiAgICBlbHNlIHsKICAgICAgICBOZXctSXRlbVByb3BlcnR5IC1QYXRoICRwYXRoIC1OYW1lICROYW1lIC1Qcm9wZXJ0eVR5cGUgJHByb3BlcnR5dHlwZSAtVmFsdWUgJFZhbHVlIHwgT3V0LU51bGwKICAgIH0gICMgRW5kIGVsc2Ugc3RhdGVtZW50CgogICAgaWYgKChHZXQtSXRlbVByb3BlcnR5ICRwYXRoIC1OYW1lICROYW1lIHwgc2VsZWN0IC1FeHBhbmRQcm9wZXJ0eSAkTmFtZSkgLWVxICRWYWx1ZSkgeyByZXR1cm4gJHRydWUgfSBlbHNlIHsgcmV0dXJuICRmYWxzZSB9Cn0KCiRwcm9maWxlbGlzdCA9IEdldC1JdGVtICJSRWdpc3RyeTo6SEtVXFMtMS01LTIxLSoiIHwgV2hlcmUtT2JqZWN0IHsgJF8uTmFtZSAtbm90bGlrZSAnKl9DbGFzc2VzJyB9IHwgc2VsZWN0IC1FeHBhbmRQcm9wZXJ0eSBuYW1lCiAKaWYgKCRwcm9maWxlbGlzdCkgewoKICAgIGZvcmVhY2ggKCR1c2VycHJvZmlsZSBpbiAkcHJvZmlsZWxpc3QpIHsKCiAgICAgICAgaWYgKFRlc3QtcGF0aCAiUmVnaXN0cnk6OiR1c2VycHJvZmlsZVxWb2xhdGlsZSBFbnZpcm9ubWVudCIpIHsKICAgICAgICAgICAgJHVzZXJuYW1lID0gR2V0LUl0ZW1Qcm9wZXJ0eSAtUGF0aCAiUmVnaXN0cnk6OiR1c2VycHJvZmlsZVxWb2xhdGlsZSBFbnZpcm9ubWVudCIgLU5hbWUgVXNlcm5hbWUgfCBTZWxlY3QgLUV4cGFuZFByb3BlcnR5IFVzZXJuYW1lCiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICRSZWdLZXkgPSAicmVnaXN0cnk6OiR1c2VycHJvZmlsZVxTT0ZUV0FSRVxNaWNyb3NvZnRcV2luZG93c1xDdXJyZW50VmVyc2lvblxOb3RpZmljYXRpb25zIgoKICAgICAgICAgICAgaWYgKCEoVGVzdC1QYXRoICRSZWdLZXkpKSB7CiAgICAgICAgICAgICAgICBOZXctSXRlbSAtUGF0aCAicmVnaXN0cnk6OiR1c2VycHJvZmlsZVxTT0ZUV0FSRVxNaWNyb3NvZnRcV2luZG93c1xDdXJyZW50VmVyc2lvbiIgLU5hbWUgIk5vdGlmaWNhdGlvbnMiIHwgT3V0LU51bGwKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIShUZXN0LVBhdGggIiRSZWdLZXlcU2V0dGluZ3MiKSkgewogICAgICAgICAgICAgICAgTmV3LUl0ZW0gLXBhdGggIiRSZWdLZXkiIC1uYW1lICJcU2V0dGluZ3MiIHwgT3V0LU51bGwKICAgICAgICAgICAgfQogCiAgICAgICAgICAgIGlmICghKFRlc3QtUGF0aCAiJFJlZ0tleVxTZXR0aW5nc1xXaW5kb3dzLlN5c3RlbVRvYXN0LlNlY3VyaXR5QW5kTWFpbnRlbmFuY2UiKSkgewogICAgICAgICAgICAgICAgTmV3LUl0ZW0gIiRSZWdLZXlcU2V0dGluZ3MiIC1uYW1lICJXaW5kb3dzLlN5c3RlbVRvYXN0LlNlY3VyaXR5QW5kTWFpbnRlbmFuY2UiIHwgT3V0LU51bGwKICAgICAgICAgICAgfQogICAKICAgICAgICAgICAgU3RhcnQtU2xlZXAgMQoKICAgICAgICAgICAgJFJlZ2lzdHJ5S2V5ID0gInJlZ2lzdHJ5OjokdXNlcnByb2ZpbGVcU09GVFdBUkVcTWljcm9zb2Z0XFdpbmRvd3NcQ3VycmVudFZlcnNpb25cTm90aWZpY2F0aW9uc1xTZXR0aW5nc1xXaW5kb3dzLlN5c3RlbVRvYXN0LlNlY3VyaXR5QW5kTWFpbnRlbmFuY2UiCiAgICAKICAgICAgICAgICAgI0NhbGwgY3JlYXRlX3JlZ2lzdHJ5IGZ1bmN0aW9uCiAgICAgICAgICAgIGlmIChDcmVhdGVfcmVnaXN0cnkgLXBhdGggIiRSZWdpc3RyeUtleSIgLU5hbWUgIkVuYWJsZWQiIC1WYWx1ZSAnMCcgLXByb3BlcnR5dHlwZSBEV09SRCkgewogICAgICAgICAgICAgICAgV3JpdGUtT3V0cHV0ICJXaW5kb3dzIHVwZGF0ZSBub3RpZmljYXRpb24gZGlzYWJsZWQgc3VjY2Vzc2Z1bGx5IGZvciB1c2VyICckdXNlcm5hbWUnIG9uIHN5c3RlbSAkRU5WOkNPTVBVVEVSTkFNRSIKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIFdyaXRlLU91dHB1dCAiRmFpbGVkIHRvIGRpc2FibGUgV2luZG93cyB1cGRhdGUgbm90aWZpY2F0aW9uIGZvciB1c2VyICckdXNlcm5hbWUnIG9uIHN5c3RlbSAkRU5WOkNPTVBVVEVSTkFNRSIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgQ29udGludWUKICAgICAgICB9CiAgICB9Cn0KCmVsc2UgewogICAgV3JpdGUtT3V0cHV0ICJDb3VsZCBub3QgZGlzYWJsZSB3aW5kb3dzIHVwZGF0ZSBub3RpZmljYXRpb24gYXMgY3VycmVudGx5IG5vIHVzZXIgd2FzIGxvZ2dlZCBvbiB0byBzeXN0ZW0gJEVOVjpDT01QVVRFUk5BTUUuIgp9Cg==","jsonSchema":"","uiSchema":"","isHDScript":false}

{"id":"7bd3e7c0-4a4a-11e9-a48c-00155d130b01","partnerId":"00000000-0000-0000-0000-000000000000","category":["Setup"],"description":"Add host entries to the hosts file","engine":"powershell","engineMaxVersion":5,"expectedExecutionTimeSec":300,"failureMessage":"Executed with errors","successMessage":"Added entries to the hosts file.","internal":false,"name":"Configure the Hosts File","tags":["Windows 7","Windows 10"],"sequence":true,"content":"IyAkRW50cmllcyA9IEAnCiMgMTI3LjAuMC4xIGxvY2FsaG9zdCAjIExvb3BiYWNrCiMgMTkyLjE2OC4wLjEgdGVzdC5jb20gIyBleHRlcm5hbCB3ZWJzaXRlcwojICdACiMgJE92ZXJ3cml0ZVRoZUhvc3RGaWxlID0gICR0cnVlICMgdXNlciBpbnB1dAoKaWYgKCRlbnY6UFJPQ0VTU09SX0FSQ0hJVEVXNjQzMiAtZXEgIkFNRDY0IikgewogICAgaWYgKCRteUludm9jYXRpb24uTGluZSkgewogICAgICAgICYiJGVudjpzeXN0ZW1yb290XHN5c25hdGl2ZVx3aW5kb3dzcG93ZXJzaGVsbFx2MS4wXHBvd2Vyc2hlbGwuZXhlIiAtTm9uSW50ZXJhY3RpdmUgLU5vUHJvZmlsZSAkbXlJbnZvY2F0aW9uLkxpbmUKICAgIH0KICAgIGVsc2UgewogICAgICAgICYiJGVudjpzeXN0ZW1yb290XHN5c25hdGl2ZVx3aW5kb3dzcG93ZXJzaGVsbFx2MS4wXHBvd2Vyc2hlbGwuZXhlIiAtTm9uSW50ZXJhY3RpdmUgLU5vUHJvZmlsZSAtZmlsZSAiJCgkbXlJbnZvY2F0aW9uLkludm9jYXRpb25OYW1lKSIgJGFyZ3MKICAgIH0KICAgIGV4aXQgJGxhc3RleGl0Y29kZQp9CiRob3N0ZW50cmllcyA9IEAoKQokZmFpbGVkZW50cmllcyA9IEAoKQokRW50cmllcyA9ICRFbnRyaWVzIC1zcGxpdCAiYG4iCmZvcmVhY2goJGVudHJ5IGluICRlbnRyaWVzKXsKICAgICAgICBpZigkZW50cnkgLW1hdGNoICJcZHsxLDN9XC5cZHsxLDN9XC5cZHsxLDN9XC5cZHsxLDN9WyBdezEsfVteI11bYS16Ll17Myx9Iil7CiAgICAgICAgJGhvc3RlbnRyaWVzICs9ICRlbnRyeQogICAgICAgIH0KICAgICAgICBlbHNleyRmYWlsZWRlbnRyaWVzICs9ICRlbnRyeX0KICAgIH0KCnRyeSB7CiAgICAgICAgJFBhdGggPSAkZW52OndpbmRpciArICJcU3lzdGVtMzJcRHJpdmVyc1xldGNcIgogICAgICAgICRGaWxlbmFtZSA9ICdob3N0cycKICAgICAgICAkRnVsbG5hbWUgPSBKb2luLVBhdGggJFBhdGggJEZpbGVuYW1lCiAgICAgICAgaWYgKFRlc3QtUGF0aCAkRnVsbG5hbWUpIHsKICAgICAgICAgICAgaWYgKCRPdmVyd3JpdGVUaGVIb3N0RmlsZSkgewogICAgICAgICAgICAgICAgJE5ld05hbWUgPSAkRmlsZW5hbWUgKyAnX29sZCcKICAgICAgICAgICAgICAgICRpID0gMQogICAgICAgICAgICAgICAgV2hpbGUgKFRlc3QtUGF0aCAkKEpvaW4tcGF0aCAkUGF0aCAkTmV3TmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICAkTmV3TmFtZSA9ICRGaWxlbmFtZSArICJfb2xkKCRpKSIKICAgICAgICAgICAgICAgICAgICAkaSsrCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBSZW5hbWUtSXRlbSAkRnVsbG5hbWUgLU5ld05hbWUgJE5ld05hbWUKICAgICAgICAgICAgICAgIE5ldy1JdGVtICRGdWxsbmFtZSAtSXRlbVR5cGUgRmlsZSB8IE91dC1OdWxsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJGhvc3RlbnRyaWVzIHwgT3V0LUZpbGUgJEZ1bGxuYW1lIC1BcHBlbmQgLUVuY29kaW5nIEFTQ0lJCiAgICAgICAgICAgIGlmICgoJD8pIC1hbmQgKCRob3N0ZW50cmllcyAtbmUgJG51bGwpKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1PdXRwdXQgIkZvbGxvd2luZyBob3N0IGVudHJpZXMgaGFzIGJlZW4gZG9uZSBzdWNjZXNzZnVsbHkuIGBuIjskaG9zdGVudHJpZXN9CiAgICAgICAgICAgIGVsc2UgeydGYWlsZWQgdG8gY3JlYXRlIGhvc3QgZW50cmllcyd9CiAgICAgICAgICAgIGlmKCRmYWlsZWRlbnRyaWVzIC1uZSAkbnVsbCl7CiAgICAgICAgICAgIFdyaXRlLU91dHB1dCAiYG5GYWlsZWQgdG8gZG8gaG9zdCBlbnRyeSBmb3IgZm9sbG93aW5nIGVudHJpZXMgZHVlIHRvIGltcHJvcGVyIGZvcm1hdC4gYG4iOyRmYWlsZWRlbnRyaWVzCiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBXcml0ZS1FcnJvciAiVW5hYmxlIHRvIGZpbmQgSG9zdCBmaWxlIGF0IHBhdGg6IGAnJEZ1bGxuYW1lYCciCiAgICAgICAgfQp9CmNhdGNoIHsKICAgIFdyaXRlLUVycm9yICRfCn0K","jsonSchema":{"additionalProperties":false,"properties":{"entries":{"title":"Host Entries","type":"string"},"overwritethehostfile":{"title":"Overwrite host file","type":"boolean"}},"required":["entries"],"type":"object"},"uiSchema":{"entries":{"classNames":"col-sm-12","ui:autofocus":true,"convertToCommaSeparated": true,"ui:help":"Input host file entries( Eg. 127.0.0.1 localhost #Loopback) separated by new line","ui:options":{"rows":15},"ui:widget":"textarea"},"overwritethehostfile":{"classNames":"col-sm-12"}},"isHDScript":false}

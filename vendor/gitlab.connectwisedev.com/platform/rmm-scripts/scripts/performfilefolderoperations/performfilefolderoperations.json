{"id":"d0c7f5f9-7568-11e9-9e95-00155d130b01","partnerId":"00000000-0000-0000-0000-000000000000","category":["Maintenance"],"description":"Perform actions on files and folders. Copy a File – copy source files to given destination file Copy File(s) to a Folder – copy source files to given destination folder Copy a Folder – copy source folder to destination folder Rename a File – Rename a given file name Move a File – Move a source file to destination file Rename a Folder – Rename a given folder Move a Folder – Move a source folder to destination folder Delete a File – Delete a given file Delete a Folder – Delete a given folder Delete Files – Delete a given file Create Folder - Create a folder on given path.","engine":"powershell","engineMaxVersion":5,"expectedExecutionTimeSec":7200,"failureMessage":"Executed with errors","successMessage":"Excecuted successfully","internal":false,"name":"Perform file and folder operations","tags":["Windows 7","Windows 10"],"sequence":true,"content":"CjwjCiAgICAgLlNjcmlwdG5hbWUgCiAgICAgUGVyZm9ybSBGaWxlIGZvbGRlciBvcGVyYXRpb24KICAgICAuQXV0aG9yCiAgICAgTmlyYXYgU2FjaG9yYQogICAgIC5EZXNjcmlwdGlvbgogICAgIFNjcmlwdCB3aWxsIHBlcmZvcm0gZmlsZSBmb2xkZXIgb3BlcmF0aW9uIGFzIG1lbnRpb25lZCBpbiBiZWxvdyBwYXJhbWV0ZXJzLgogICAgIFNjcmlwdCBjYW4gcGVyZm9ybSBmaWxlIGZvbGRlciBvcGVyYXRpb24gb3ZlciB0aGUgbmV0d29yayBhcyB3ZWxsLCB0byBwZXJmb3JtIG92ZXIgbmV0d29yayB1c2VyIGhhcyB0byBwcm92aWRlIHZhbGlkIHNoYXJlIG5hbWUgYW5kIHVzZXJuYW1lLHBhc3N3b3JkLgogICAgIC5SZXF1aXJlbWVudAogICAgIFNjcmlwdCBzaG91bGQgcnVuIHdpdGggaGlnaGVzdCBwcml2aWxlZ2VzLgojPgo8IwokZmlsZUFjdGlvbiA9ICJkZWxldGVmaWxlcyIKICAgICJjb3B5YWZpbGUKICAgIGNvcHlhZm9sZGVyCiAgICByZW5hbWVhZmlsZQogICAgbW92ZWFmaWxlCiAgICByZW5hbWVhZm9sZGVyCiAgICBtb3ZlZm9sZGVyCiAgICByZW5hbWVhZm9sZGVyCiAgICBkZWxldGVhZmlsZQogICAgZGVsZXRlZmlsZXMKICAgIGRlbGV0ZWFmb2xkZXIKICAgIGNyZWF0ZWZvbGRlciIKJHNvdXJjZXBhdGggPSAiTmV0d29yayIKJHNvdXJjZWZpbGUgPSAiXFwxMC4yLjE5LjEyN1xOaXJhdlxUZXN0XGFiYy50eHQsXFwxMC4yLjE5LjEyN1xOaXJhdlxUZXN0XHBxci50eHQsXFwxMC4yLjE5LjEyN1xOaXJhdlxUZXN0XHh5ei50eHQiI1xhYmMudHh0LEQ6XE5pcmF2XHBxci50eHQiCiRkZXN0aW5hdGlvbnBhdGggPSAiTG9jYWwiCiRkZXN0aW5hdGlvbmZpbGUgPSAiRTpcRGVzdGluYXRpb25cTW92ZSIjXFwxMC4yLjEzMC44MVxTaGFyZWQgRmlsZXNcUFNUb29scyIgI29yIFxcMTkyLjE2OC4yLjFcc2hhcmVuYW1lXGZvbGRlclxmaWxlLnR4dAokbmV3bmFtZSA9ICJwcXIudHh0IgokdXNlcm5hbWUgPSAiYWRtaW4iCiRwYXNzd29yZCA9ICJXZWxjb21lQDEyMyIKJGluY2x1ZGVzdWIgPSAiZmFsc2UiCiRpbmNsdWRlU3lzdGVtRmlsZSA9ICRmYWxzZQokaW5jbHVkZVJlYWRPbmx5RmlsZSA9ICRmYWxzZQokaW5jbHVkZUhpZGRlbkZpbGUgPSAkdHJ1ZQokT3ZlcndyaXRlID0gJHRydWUKJENyZWF0ZURlc3REaXJlY3RvcnkgPSAkdHJ1ZQogICAgCiRjb250aW51ZW9uZXJyb3IgPSAiZmFsc2UiCiRmaWxlTW9kaWZpY2F0aW9uID0gImxhc3RBY2Nlc3NlZGJlZm9yZSIKJG1vZGlmaWNhdGlvbkRhdGUgPSAiMDkvMjUvMjAxOSIKJG1vZGlmaWNhdGlvbkRheXMgPSAtMQokc3RhcnREYXRlID0gIjA4LzAxLzIwMTkiCiRlbmREYXRlID0gIjA4LzMxLzIwMTkiCjwjbW9kaWZpZWRCZWZvcmUgICAgICAgICAgICAgICAgIG1vZGlmaWNhdGlvbkRhdGUgICAgICAgICAKICAgIG1vZGlmaWVkQWZ0ZXIgICAgICAgICAgICAgICAgICBtb2RpZmljYXRpb25EYXRlICAKICAgIG1vZGlmaWVkT24gICAgICAgICAgICAgICAgICAgICBtb2RpZmljYXRpb25EYXRlICAKICAgIG1vZGlmaWVkQmV0d2VlbiAgICAgICAgICAgICAgICBzdGFydERhdGUgICAgZW5kRGF0ZQogICAgbW9kaWZpZWRPbGRlcnRoYW5YZGF5cyAgICAgICAgIG1vZGlmaWNhdGlvbkRheXMKICAgIGxhc3RBY2Nlc3NlZEJlZm9yZSAgICAgICAgICAgICBtb2RpZmljYXRpb25EYXRlCiAgICBsYXN0QWNjZXNzZWRBZnRlciAgICAgICAgICAgICAgbW9kaWZpY2F0aW9uRGF0ZSAKICAgIGxhc3RBY2Nlc3NlZE9uICAgICAgICAgICAgICAgICBtb2RpZmljYXRpb25EYXRlICAKICAgIGxhc3RBY2Nlc3NlZEJldHdlZW4gICAgICAgICAgICBzdGFydERhdGUgICAgZW5kRGF0ZQogICAgY3JlYXRlZE9sZGVydGhhblhkYXlzICAgICAgICAgIG1vZGlmaWNhdGlvbkRheXMKICAjPiAgCjwjICAgCiAgICBpZiAoJGVudjpQUk9DRVNTT1JfQVJDSElURVc2NDMyIC1lcSAiQU1ENjQiKSB7CiAgICAgICAgaWYgKCRteUludm9jYXRpb24uTGluZSkgewogICAgICAgICAgICAmIiRlbnY6c3lzdGVtcm9vdFxzeXNuYXRpdmVcd2luZG93c3Bvd2Vyc2hlbGxcdjEuMFxwb3dlcnNoZWxsLmV4ZSIgLU5vbkludGVyYWN0aXZlIC1Ob1Byb2ZpbGUgJG15SW52b2NhdGlvbi5MaW5lCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAmIiRlbnY6c3lzdGVtcm9vdFxzeXNuYXRpdmVcd2luZG93c3Bvd2Vyc2hlbGxcdjEuMFxwb3dlcnNoZWxsLmV4ZSIgLU5vbkludGVyYWN0aXZlIC1Ob1Byb2ZpbGUgLWZpbGUgIiQoJG15SW52b2NhdGlvbi5JbnZvY2F0aW9uTmFtZSkiICRhcmdzCiAgICAgICAgfQogICAgICAgIGV4aXQgJGxhc3RleGl0Y29kZQogICAgfQogIz4gIz4KaWYgKCRlbnY6UFJPQ0VTU09SX0FSQ0hJVEVXNjQzMiAtZXEgIkFNRDY0IikgewogICAgaWYgKCRteUludm9jYXRpb24uTGluZSkgewogICAgICAgICYiJGVudjpzeXN0ZW1yb290XHN5c25hdGl2ZVx3aW5kb3dzcG93ZXJzaGVsbFx2MS4wXHBvd2Vyc2hlbGwuZXhlIiAtTm9uSW50ZXJhY3RpdmUgLU5vUHJvZmlsZSAkbXlJbnZvY2F0aW9uLkxpbmUKICAgIH0KICAgIGVsc2UgewogICAgICAgICYiJGVudjpzeXN0ZW1yb290XHN5c25hdGl2ZVx3aW5kb3dzcG93ZXJzaGVsbFx2MS4wXHBvd2Vyc2hlbGwuZXhlIiAtTm9uSW50ZXJhY3RpdmUgLU5vUHJvZmlsZSAtZmlsZSAiJCgkbXlJbnZvY2F0aW9uLkludm9jYXRpb25OYW1lKSIgJGFyZ3MKICAgIH0KICAgIGV4aXQgJGxhc3RleGl0Y29kZQp9IAoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI0Z1bmN0aW9uIHRvIG1hcCBuZXR3b3JrIGRyaXZlIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiRnbG9iYWw6bmV3ZHJpdmUgfCBPdXQtTnVsbAokZ2xvYmFsOm9nZHJpdmVkZXRhaWxzIHwgb3V0LU51bGwKZnVuY3Rpb24gTWFwX25ldHdvcmtkcml2ZSgkYWN0aW9uLCAkRHJpdmUpIHsKICAgICROZXQgPSBOZXctT2JqZWN0IC1Db21PYmplY3QgV1NjcmlwdC5OZXR3b3JrCiAgICAkRHJpdmVMZXR0ZXIgPSBHZXQtQ2hpbGRJdGVtIGZ1bmN0aW9uOltnLXpdOiAtbiB8IFdoZXJlLU9iamVjdCB7ICEoVGVzdC1QYXRoICRfKSB9IHwgcmFuZG9tIAogICAgCiAgICBpZiAoJGFjdGlvbiAtZXEgIkNyZWF0ZSIpIHsKICAgICAgICBpZiAoKCRzb3VyY2VwYXRoIC1lcSAnTmV0d29yaycpIC1hbmQgKCgkZmlsZUFjdGlvbiAtZXEgImNvcHlmaWxlc3RvYWZvbGRlciIpIC1vciAoJGZpbGVBY3Rpb24gLWVxICJkZWxldGVmaWxlcyIpKSkgewogICAgICAgICAgICAkRHJpdmVEZXRhaWxzID0gKChbcmVnZXhdOjpNYXRjaCgkc291cmNlZmlsZVswXSwiXFxcXFtcU1xzXSo/XFxbXFNcc10qP1xcIikpLlZhbHVlKS5UcmltRW5kKCJcXCIpCiAgICAgICAgICAgICRFcnJvckFjdGlvbnByZWZlcmVuY2UgPSAiU2lsZW50bHlDb250aW51ZSIKICAgICAgICAgICAgJE5ldC5NYXBOZXR3b3JrRHJpdmUoJERyaXZlTGV0dGVyLCAiJERyaXZlRGV0YWlscyIsICRmYWxzZSwgJFVzZXJOYW1lLCAkUGFzc3dvcmQpCiAgICAgICAgICAgICRnbG9iYWw6b2dkcml2ZWRldGFpbHMgPSAkRHJpdmVEZXRhaWxzCiAgICAgICAgICAgICRFcnJvckFjdGlvbnByZWZlcmVuY2UgPSAiQ29udGludWUiCiAgICAgICAgICAgIGlmIChHZXQtV21pT2JqZWN0IC1DbGFzcyBXaW4zMl9NYXBwZWRMb2dpY2FsRGlzayB8IFdoZXJlLU9iamVjdCB7ICRfLm5hbWUgLWVxICIkRHJpdmVMZXR0ZXIiIH0pIHsKICAgICAgICAgICAgICAgICR1cGRhdGVkc291cmNlZmlsZSA9IGZvcmVhY2ggKCRmaWxlIGluICRzb3VyY2VmaWxlKSB7CiAgICAgICAgICAgICAgICAgICAgLWpvaW4gKCREcml2ZUxldHRlciwgIlwiLCAoJGZpbGUuUmVwbGFjZSgkRHJpdmVEZXRhaWxzLCIiKS5UcmltU3RhcnQoIlxcIikpKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJGdsb2JhbDpuZXdkcml2ZSA9ICREcml2ZUxldHRlcgogICAgICAgICAgICAgICAgcmV0dXJuICR1cGRhdGVkc291cmNlZmlsZQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICItIiAqIDMwICsgImBuRHJpdmUgbWFwcGluZyBmYWlsZWRgblVzZXJuYW1lIG9yIHBhc3N3b3JkIGlzIGluY29ycmVjdCBvciByZW1vdGUgc3lzdGVtIGlzIG5vdCBhY2Nlc3NpYmxlIG92ZXIgbmV0d29ya2BuIiArICItIiAqIDMwCiAgICAgICAgICAgIEV4aXQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgIH0KICAgICAgICBlbHNlaWYgKCRzb3VyY2VwYXRoIC1lcSAnTmV0d29yaycpIHsKICAgICAgICAgICAgJERyaXZlRGV0YWlscyA9ICgoW3JlZ2V4XTo6TWF0Y2goJHNvdXJjZWZpbGUsIlxcXFxbXFNcc10qP1xcW1xTXHNdKj9cXCIpKS5WYWx1ZSkuVHJpbUVuZCgiXFwiKQogICAgICAgICAgICAjJEVycm9yQWN0aW9ucHJlZmVyZW5jZSA9ICJTaWxlbnRseUNvbnRpbnVlIgogICAgICAgICAgICAkTmV0Lk1hcE5ldHdvcmtEcml2ZSgkRHJpdmVMZXR0ZXIsICIkRHJpdmVEZXRhaWxzIiwgJGZhbHNlLCAkVXNlck5hbWUsICRQYXNzd29yZCkKICAgICAgICAgICAgIyRFcnJvckFjdGlvbnByZWZlcmVuY2UgPSAiQ29udGludWUiCiAgICAgICAgICAgIGlmIChHZXQtV21pT2JqZWN0IC1DbGFzcyBXaW4zMl9NYXBwZWRMb2dpY2FsRGlzayB8IFdoZXJlLU9iamVjdCB7ICRfLm5hbWUgLWVxICIkRHJpdmVMZXR0ZXIiIH0pIHsKICAgICAgICAgICAgICAgICR1cGRhdGVkc291cmNlZmlsZSA9IC1qb2luICgkRHJpdmVMZXR0ZXIsICJcIiwgKCRzb3VyY2VmaWxlLlJlcGxhY2UoJERyaXZlRGV0YWlscywiIikuVHJpbVN0YXJ0KCJcXCIpKSkKICAgICAgICAgICAgICAgICRnbG9iYWw6b2dkcml2ZWRldGFpbHMgPSAkRHJpdmVEZXRhaWxzCiAgICAgICAgICAgICAgICAkZ2xvYmFsOm5ld2RyaXZlID0gJERyaXZlTGV0dGVyCiAgICAgICAgICAgICAgICByZXR1cm4gJHVwZGF0ZWRzb3VyY2VmaWxlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgIi0iICogMzAgKyAiYG5Ecml2ZSBtYXBwaW5nIGZhaWxlZGBuVXNlcm5hbWUgb3IgcGFzc3dvcmQgaXMgaW5jb3JyZWN0IG9yIHJlbW90ZSBzeXN0ZW0gaXMgbm90IGFjY2Vzc2libGUgb3ZlciBuZXR3b3JrYG4iICsgIi0iICogMzAKICAgICAgICAgICAgRXhpdDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICB9CiAgICAgICAgZWxzZWlmICgkZGVzdGluYXRpb25wYXRoIC1lcSAnTmV0d29yaycpIHsKICAgICAgICAgICAgCiAgICAgICAgICAgICREcml2ZURldGFpbHMgPSAoKFtyZWdleF06Ok1hdGNoKCRkZXN0aW5hdGlvbmZpbGUsIlxcXFxbXFNcc10qP1xcW1xTXHNdKj9cXCIpKS5WYWx1ZSkuVHJpbUVuZCgiXFwiKQogICAgICAgICAgICBpZighJERyaXZlRGV0YWlscyl7JERyaXZlRGV0YWlscyA9ICRkZXN0aW5hdGlvbmZpbGV9CiAgICAgICAgICAgICRFcnJvckFjdGlvbnByZWZlcmVuY2UgPSAiU2lsZW50bHlDb250aW51ZSIKICAgICAgICAgICAgJE5ldC5NYXBOZXR3b3JrRHJpdmUoJERyaXZlTGV0dGVyLCAiJERyaXZlRGV0YWlscyIsICRmYWxzZSwgJFVzZXJOYW1lLCAkUGFzc3dvcmQpCiAgICAgICAgICAgICRFcnJvckFjdGlvbnByZWZlcmVuY2UgPSAiQ29udGludWUiCiAgICAgICAgICAgIGlmIChHZXQtV21pT2JqZWN0IC1DbGFzcyBXaW4zMl9NYXBwZWRMb2dpY2FsRGlzayB8IFdoZXJlLU9iamVjdCB7ICRfLm5hbWUgLWVxICIkRHJpdmVMZXR0ZXIiIH0pIHsKICAgICAgICAgICAgICAgICR1cGRhdGVkZGVzdGluYXRpb25maWxlID0gLWpvaW4gKCREcml2ZUxldHRlciwiXCIsKCRkZXN0aW5hdGlvbmZpbGUuUmVwbGFjZSgkRHJpdmVEZXRhaWxzLCIiKS5UcmltU3RhcnQoIlxcIikpLCAiXCIpCiAgICAgICAgICAgICAgICAkZ2xvYmFsOm5ld2RyaXZlID0gJERyaXZlTGV0dGVyCiAgICAgICAgICAgICAgICByZXR1cm4gJHVwZGF0ZWRkZXN0aW5hdGlvbmZpbGUKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlewogICAgICAgICAgICAiLSIgKiAzMCArICJgbkRyaXZlIG1hcHBpbmcgZmFpbGVkYG5Vc2VybmFtZSBvciBwYXNzd29yZCBpcyBpbmNvcnJlY3Qgb3IgcmVtb3RlIHN5c3RlbSBpcyBub3QgYWNjZXNzaWJsZSBvdmVyIG5ldHdvcmtgbiIgKyAiLSIgKiAzMAogICAgICAgICAgICBFeGl0OwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgIH0KICAgCiAgICB9CiAgICBlbHNlaWYgKCRhY3Rpb24gLWVxICJSZW1vdmUiKSB7CiAgICAgICAgJEVycm9yQWN0aW9ucHJlZmVyZW5jZSA9ICJTdG9wIgogICAgICAgIGlmKCgkc291cmNlcGF0aCAtZXEgIkxvY2FsIikgLWFuZCAoJGRlc3RpbmF0aW9ucGF0aCAtZXEgIkxvY2FsIikpe3JldHVybn0KICAgICAgICBpZigoJHNvdXJjZXBhdGggLWVxICJMb2NhbCIpIC1hbmQgISgkZGVzdGluYXRpb25wYXRoKSl7cmV0dXJufQogICAgICAgIHRyeXsKICAgICAgICAkTmV0LlJlbW92ZU5ldHdvcmtEcml2ZSgkRHJpdmUpIAogICAgICAgIH0KICAgICAgICBjYXRjaHsKICAgICAgICAkXy5FeGNlcHRpb24uTWVzc2FnZQogICAgICAgIH0KICAgIH0KfQoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjRnVuY3Rpb24gdG8gY2hlY2sgYXR0cmlidXRlcyBiYXNlZCBvbiBpbnB1dCBwYXJhbWV0ZXJzIGdpdmVuIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgCiAgICAKZnVuY3Rpb24gdmVyaWZ5X0F0dHJpYnV0ZXMoJHNvdXJjZXBhdGgsICRyZWFkb25seSwgJGhpZGRlbnMsICRzeXN0ZW0pIHsKICAgICRmaWxlYXR0cmlidXRlcyA9ICgoR2V0LUl0ZW0gJHNvdXJjZXBhdGggLUZvcmNlKS5BdHRyaWJ1dGVzKSAtc3BsaXQgIiwgIgogICAgaWYgKCgkcmVhZG9ubHkgLWVxICRmYWxzZSkgLWFuZCAoJGhpZGRlbnMgLWVxICRmYWxzZSkgLWFuZCAoJHN5c3RlbSAtZXEgJGZhbHNlKSkgeyAkYXR0cmlidXRlcyA9ICIwMDAiIH0KICAgIGVsc2VpZiAoKCRyZWFkb25seSAtZXEgJHRydWUpIC1hbmQgKCRoaWRkZW5zIC1lcSAkZmFsc2UpIC1hbmQgKCRzeXN0ZW0gLWVxICRmYWxzZSkpIHsgJGF0dHJpYnV0ZXMgPSAiMTAwIiB9CiAgICBlbHNlaWYgKCgkcmVhZG9ubHkgLWVxICRmYWxzZSkgLWFuZCAoJGhpZGRlbnMgLWVxICR0cnVlKSAtYW5kICgkc3lzdGVtIC1lcSAkZmFsc2UpKSB7ICRhdHRyaWJ1dGVzID0gIjAxMCIgfQogICAgZWxzZWlmICgoJHJlYWRvbmx5IC1lcSAkZmFsc2UpIC1hbmQgKCRoaWRkZW5zIC1lcSAkZmFsc2UpIC1hbmQgKCRzeXN0ZW0gLWVxICR0cnVlKSkgeyAkYXR0cmlidXRlcyA9ICIwMDEiIH0KICAgIGVsc2VpZiAoKCRyZWFkb25seSAtZXEgJHRydWUpIC1hbmQgKCRoaWRkZW5zIC1lcSAkdHJ1ZSkgLWFuZCAoJHN5c3RlbSAtZXEgJGZhbHNlKSkgeyAkYXR0cmlidXRlcyA9ICIxMTAiIH0KICAgIGVsc2VpZiAoKCRyZWFkb25seSAtZXEgJGZhbHNlKSAtYW5kICgkaGlkZGVucyAtZXEgJHRydWUpIC1hbmQgKCRzeXN0ZW0gLWVxICR0cnVlKSkgeyAkYXR0cmlidXRlcyA9ICIwMTEiIH0KICAgIGVsc2VpZiAoKCRyZWFkb25seSAtZXEgJHRydWUpIC1hbmQgKCRoaWRkZW5zIC1lcSAkZmFsc2UpIC1hbmQgKCRzeXN0ZW0gLWVxICR0cnVlKSkgeyAkYXR0cmlidXRlcyA9ICIxMDEiIH0KICAgIGVsc2VpZiAoKCRyZWFkb25seSAtZXEgJHRydWUpIC1hbmQgKCRoaWRkZW5zIC1lcSAkdHJ1ZSkgLWFuZCAoJHN5c3RlbSAtZXEgJHRydWUpKSB7ICRhdHRyaWJ1dGVzID0gIjExMSIgfQogICAgICAgIAogICAgc3dpdGNoICgkYXR0cmlidXRlcykgewogICAgICAgICIwMDAiIHsKICAgICAgICAgICAgaWYgKCgkZmlsZWF0dHJpYnV0ZXMgLWNvbnRhaW5zICJSZWFkT25seSIpIC1vciAoJGZpbGVhdHRyaWJ1dGVzIC1jb250YWlucyAiSGlkZGVuIikgLW9yICgkZmlsZWF0dHJpYnV0ZXMgLWNvbnRhaW5zICJTeXN0ZW0iKSkgewogICAgICAgICAgICAgICAgcmV0dXJuICRmYWxzZQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgeyByZXR1cm4gJHRydWUgfQogICAgICAgIH0KICAgICAgICAiMTAwIiB7CiAgICAgICAgICAgIGlmICgoJGZpbGVhdHRyaWJ1dGVzIC1jb250YWlucyAiSGlkZGVuIikgLW9yICgkZmlsZWF0dHJpYnV0ZXMgLWNvbnRhaW5zICJTeXN0ZW0iKSkgewogICAgICAgICAgICAgICAgcmV0dXJuICRmYWxzZSAKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsgcmV0dXJuICR0cnVlIH0KICAgICAgICB9CiAgICAgICAgIjAxMCIgewogICAgICAgICAgICBpZiAoKCRmaWxlYXR0cmlidXRlcyAtY29udGFpbnMgIlJlYWRPbmx5IikgLW9yICgkZmlsZWF0dHJpYnV0ZXMgLWNvbnRhaW5zICJTeXN0ZW0iKSkgewogICAgICAgICAgICAgICAgcmV0dXJuICRmYWxzZSAgIAogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgeyByZXR1cm4gJHRydWUgfQogICAgICAgIH0KICAgICAgICAiMDAxIiB7CiAgICAgICAgICAgIGlmICgoJGZpbGVhdHRyaWJ1dGVzIC1jb250YWlucyAiUmVhZE9ubHkiKSAtb3IgKCRmaWxlYXR0cmlidXRlcyAtY29udGFpbnMgIkhpZGRlbiIpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJGZhbHNlIAogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgeyByZXR1cm4gJHRydWUgfQogICAgICAgIH0KICAgICAgICAiMTEwIiB7CiAgICAgICAgICAgIGlmICgkZmlsZWF0dHJpYnV0ZXMgLWNvbnRhaW5zICJTeXN0ZW0iKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJGZhbHNlIAogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgeyByZXR1cm4gJHRydWUgfQogICAgICAgIH0KICAgICAgICAiMDExIiB7CiAgICAgICAgICAgIGlmICgkZmlsZWF0dHJpYnV0ZXMgLWNvbnRhaW5zICJSZWFkT25seSIpIHsKICAgICAgICAgICAgICAgIHJldHVybiAkZmFsc2UgCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7IHJldHVybiAkdHJ1ZSB9CiAgICAgICAgfQogICAgICAgICIxMDEiIHsKICAgICAgICAgICAgaWYgKCRmaWxlYXR0cmlidXRlcyAtY29udGFpbnMgIkhpZGRlbiIpIHsKICAgICAgICAgICAgICAgIHJldHVybiAkZmFsc2UgCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7IHJldHVybiAkdHJ1ZSB9CiAgICAgICAgfQogICAgICAgICIxMTEiIHsKICAgICAgICAgICAgcmV0dXJuICRmYWxzZSAKICAgICAgICB9CiAgICAgICAgCiAgICB9Cn0KCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjRnVuY3Rpb24gdG8gY2hlY2sgbW9kaWZpY2F0aW9uIGJhc2VkIG9uIGNyaXRlcmlhIHByb3ZpZGVkIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwogICAgCmZ1bmN0aW9uIGZpbGVtb2RpZmljYXRpb25fY2hlY2soJGZmY19zb3VyY2VwYXRoLCAkZmZjX2NyaXRlcmlhLCAkZmZjX21vZGlmaWNhdGlvbmRhdGUsICRmZmNfbW9kaWZpY2F0aW9uZGF5cywgJGZmY19zdGFydGRhdGUsICRmZmNfZW5kZGF0ZSkgewogICAgICAgIAogICAgaWYgKCRmZmNfbW9kaWZpY2F0aW9uZGF0ZSAtbmUgJG51bGwpIHsgJG1vZGlmaWNhdGlvbmRhdGUgPSBnZXQtZGF0ZSAtZGF0ZSAkZmZjX21vZGlmaWNhdGlvbmRhdGUgfQogICAgaWYgKCRmZmNfc3RhcnRkYXRlIC1uZSAkbnVsbCkgeyAkc3RhcnRkYXRlID0gZ2V0LWRhdGUgLWRhdGUgJGZmY19zdGFydGRhdGUgfQogICAgaWYgKCRmZmNfZW5kZGF0ZSAtbmUgJG51bGwpIHsgJGVuZGRhdGUgPSBnZXQtZGF0ZSAtZGF0ZSAkZmZjX2VuZGRhdGUgfQogICAgCiAgICBzd2l0Y2ggKCRmZmNfY3JpdGVyaWEpIHsKICAgICAgICAibW9kaWZpZWRCZWZvcmUiIHsKICAgICAgICAgICAgaWYgKChnZXQtaXRlbSAkZmZjX3NvdXJjZXBhdGggLUZvcmNlKS5MYXN0V3JpdGVUaW1lIC1sdCAkbW9kaWZpY2F0aW9uZGF0ZSkgeyByZXR1cm4gJHRydWUgfWVsc2UgeyByZXR1cm4gJGZhbHNlIH0KICAgICAgICB9CiAgICAgICAgIm1vZGlmaWVkQWZ0ZXIiIHsKICAgICAgICAgICAgaWYgKChnZXQtaXRlbSAkZmZjX3NvdXJjZXBhdGggLUZvcmNlKS5MYXN0V3JpdGVUaW1lIC1ndCAkbW9kaWZpY2F0aW9uZGF0ZSkgeyByZXR1cm4gJHRydWUgfWVsc2UgeyByZXR1cm4gJGZhbHNlIH0KICAgICAgICB9CiAgICAgICAgIm1vZGlmaWVkT24iIHsKICAgICAgICAgICAgaWYgKCgoKGdldC1pdGVtICRmZmNfc291cmNlcGF0aCAtRm9yY2UpLkxhc3RXcml0ZVRpbWUgfCBHZXQtRGF0ZSkuRGF0ZSkgLWVxICgoJG1vZGlmaWNhdGlvbmRhdGUgfCBHZXQtRGF0ZSkuRGF0ZSkpIHsgcmV0dXJuICR0cnVlIH1lbHNlIHsgcmV0dXJuICRmYWxzZSB9CiAgICAgICAgfQogICAgICAgICJtb2RpZmllZEJldHdlZW4iIHsKICAgICAgICAgICAgaWYgKCgoZ2V0LWl0ZW0gJGZmY19zb3VyY2VwYXRoIC1Gb3JjZSkuTGFzdFdyaXRlVGltZSAtZ3QgJHN0YXJ0ZGF0ZSkgLWFuZCAoKGdldC1pdGVtICRmZmNfc291cmNlcGF0aCAtRm9yY2UpLkxhc3RXcml0ZVRpbWUgLWx0ICRlbmRkYXRlKSkgeyByZXR1cm4gJHRydWUgfWVsc2UgeyByZXR1cm4gJGZhbHNlIH0KICAgICAgICB9CiAgICAgICAgIm1vZGlmaWVkT2xkZXJ0aGFuWGRheXMiIHsKICAgICAgICAgICAgJGxhc3R3cml0ZXRpbWUgPSBnZXQtZGF0ZSAtZGF0ZSAoR2V0LUl0ZW0gJGZmY19zb3VyY2VwYXRoIC1Gb3JjZSkuTGFzdFdyaXRlVGltZQogICAgICAgICAgICAkY3VycmVudGRhdGUgPSBHZXQtRGF0ZQogICAgICAgICAgICAkZGF5cyA9ICRjdXJyZW50ZGF0ZSAtICRsYXN0d3JpdGV0aW1lCiAgICAgICAgICAgIGlmICgkZGF5cy5EYXlzIC1ndCAkZmZjX21vZGlmaWNhdGlvbmRheXMpIHsKICAgICAgICAgICAgICAgIHJldHVybiAkdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgeyByZXR1cm4gJGZhbHNlIH0KICAgICAgICB9CiAgICAgICAgImxhc3RBY2Nlc3NlZEJlZm9yZSIgewogICAgICAgICAgICBpZiAoKGdldC1pdGVtICRmZmNfc291cmNlcGF0aCAtRm9yY2UpLkxhc3RBY2Nlc3NUaW1lIC1sdCAkbW9kaWZpY2F0aW9uZGF0ZSkgeyByZXR1cm4gJHRydWUgfWVsc2UgeyByZXR1cm4gJGZhbHNlIH0KICAgICAgICB9CiAgICAgICAgImxhc3RBY2Nlc3NlZEFmdGVyIiB7CiAgICAgICAgICAgIGlmICgoZ2V0LWl0ZW0gJGZmY19zb3VyY2VwYXRoIC1Gb3JjZSkuTGFzdEFjY2Vzc1RpbWUgLWd0ICRtb2RpZmljYXRpb25kYXRlKSB7IHJldHVybiAkdHJ1ZSB9ZWxzZSB7IHJldHVybiAkZmFsc2UgfQogICAgICAgIH0KICAgICAgICAibGFzdEFjY2Vzc2VkT24iIHsKICAgICAgICAgICAgaWYgKCgoKGdldC1pdGVtICRmZmNfc291cmNlcGF0aCAtRm9yY2UpLkxhc3RBY2Nlc3NUaW1lIHwgR2V0LURhdGUpLkRhdGUpIC1lcSAoKCRtb2RpZmljYXRpb25kYXRlIHwgR2V0LURhdGUpLkRhdGUpKSB7IHJldHVybiAkdHJ1ZSB9ZWxzZSB7IHJldHVybiAkZmFsc2UgfQogICAgICAgIH0KICAgICAgICAibGFzdEFjY2Vzc2VkQmV0d2VlbiIgewogICAgICAgICAgICBpZiAoKChnZXQtaXRlbSAkZmZjX3NvdXJjZXBhdGggLUZvcmNlKS5MYXN0QWNjZXNzVGltZSAtZ3QgJHN0YXJ0ZGF0ZSkgLWFuZCAoKGdldC1pdGVtICRmZmNfc291cmNlcGF0aCAtRm9yY2UpLkxhc3RBY2Nlc3NUaW1lIC1sdCAkZW5kZGF0ZSkpIHsgcmV0dXJuICR0cnVlIH1lbHNlIHsgcmV0dXJuICRmYWxzZSB9CiAgICAgICAgfQogICAgICAgICJjcmVhdGVkT2xkZXJ0aGFuWGRheXMiIHsKICAgICAgICAgICAgJGxhc3RhY2Nlc3N0aW1lID0gZ2V0LWRhdGUgLWRhdGUgKEdldC1JdGVtICRmZmNfc291cmNlcGF0aCAtRm9yY2UpLkNyZWF0aW9uVGltZQogICAgICAgICAgICAkY3VycmVudGRhdGUgPSBHZXQtRGF0ZQogICAgICAgICAgICAkZGF5cyA9ICRjdXJyZW50ZGF0ZSAtICRsYXN0YWNjZXNzdGltZQogICAgICAgICAgICBpZiAoJGRheXMuRGF5cyAtZ3QgJGZmY19tb2RpZmljYXRpb25kYXlzKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJHRydWUKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsgcmV0dXJuICRmYWxzZSB9CiAgICAgICAgfQogICAgfQp9CiAKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIAoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyBQcmVjaGVjayAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKaWYgKCgkc291cmNlcGF0aCAtZXEgIk5ldHdvcmsiKSAtYW5kICgkZGVzdGluYXRpb25wYXRoIC1lcSAiTmV0d29yayIpKSB7CiAgICAiLSIgKiA2MCArICJgbklucHV0IEVycm9yOlNvdXJjZSBhbmQgZGVzdGluYXRpb24gcGF0aCBjYW4ndCBiZSBuZXR3b3JrYG4iICsgIi0iICogNjAKICAgIEV4aXQ7Cn0KCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgUHJlY2hlY2sgTXVsdGlwbGUgZmlsZXMgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCmlmICgoJGZpbGVBY3Rpb24gLWVxICJjb3B5ZmlsZXN0b2Fmb2xkZXIiKSAtb3IgKCRmaWxlQWN0aW9uIC1lcSAiZGVsZXRlZmlsZXMiKSkgewogICAgJHNvdXJjZWZpbGUgPSAkc291cmNlZmlsZSAtc3BsaXQgIiwiCgogICAgaWYgKC1ub3QoJHNvdXJjZWZpbGUuR2V0dHlwZSgpLk5hbWUgLWVxICJTdHJpbmdbXSIpKSB7CiAgICAgICAgIi0iICogNTAgKyAiYG5FcnJvcjogVW5rbm93biBFcnJvcmBuIiArICItIiAqIDUwCiAgICAgICAgRXhpdAogICAgfQoKICAgIGlmICgkc291cmNlcGF0aCAtZXEgIk5ldHdvcmsiKSB7CiAgICAkc291cmNlZmlsZSA9IE1hcF9uZXR3b3JrZHJpdmUgLUFjdGlvbiAiQ3JlYXRlIgp9CgppZiAoJGRlc3RpbmF0aW9ucGF0aCAtZXEgIk5ldHdvcmsiKSB7CiAgICAkZGVzdGluYXRpb25maWxlID0gTWFwX25ldHdvcmtkcml2ZSAtQWN0aW9uICJDcmVhdGUiCn0KCiAgICAjIyMjIyMjIyMjIyMjIyMjQ2hlY2sgd2hldGhlciBzb3VyY2VmaWxlcyBuYW1lIGlzIHN1Y2Nlc3NmdWxseSBjb252ZXJ0ZWQgdG8gYW4gYXJyYXkjIyMjIyMjIyMjIyMjCgogICAgJHZlcmlmaWVkcGF0aCA9IEAoKQogICAgJGRpc2NhcmRlZHdoaWxlc291cmNlY2hlY2sgPSBAKCkKICAgIGZvcmVhY2ggKCR2YWxpZGF0ZXBhdGggaW4gJHNvdXJjZWZpbGUpIHsKICAgICAgICAKICAgICAgICBpZiAoKChUZXN0LXBhdGggJHZhbGlkYXRlcGF0aCAtSXNWYWxpZCkgLWVxICR0cnVlKSAtQW5kICgoVGVzdC1wYXRoICR2YWxpZGF0ZXBhdGgpIC1lcSAkdHJ1ZSkpIHsgICAgCiAgICAgICAgICAgICR2ZXJpZmllZHBhdGggKz0gJHZhbGlkYXRlcGF0aAogICAgICAgIH0KICAgICAgICBlbHNlIHsgJGRpc2NhcmRlZHdoaWxlc291cmNlY2hlY2sgKz0gJHZhbGlkYXRlcGF0aCB9CiAgICB9CgogICAgJHNvdXJjZWZpbGUgPSAkdmVyaWZpZWRwYXRoCgogICAgCiAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNDb21wbGV0ZWQgU291cmNlZmlsZXMgY2hlY2sjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgogICAgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI0NoZWNrIHZhbGlkIGZpbGUjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKICAgICRpc3ZhbGlkZmlsZW5hbWUgPSBAKCkKICAgICRpc25vdHZhbGlkZmlsZW5hbWUgPSBAKCkKCiAgICBmb3JlYWNoICgkZmlsZSBpbiAkc291cmNlZmlsZSkgewoKICAgIGlmICgoKEdldC1JdGVtICRmaWxlKS5BdHRyaWJ1dGVzKSAtbmUgIkRpcmVjdG9yeSIpIHsKICAgIAogICAgJGlzdmFsaWRmaWxlbmFtZSArPSAkZmlsZQogICAgCiAgICB9ZWxzZXskaXNub3R2YWxpZGZpbGVuYW1lICs9ICRmaWxlfQoKICAgIH0KCiAgICAkc291cmNlZmlsZSA9ICRpc3ZhbGlkZmlsZW5hbWUKICAgICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgogICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCiAgICBpZigoJGZpbGVBY3Rpb24gLWVxICJjb3B5ZmlsZXN0b2Fmb2xkZXIiKSAtYW5kICghJE92ZXJ3cml0ZSkgLWFuZCAoLW5vdCghJHNvdXJjZWZpbGUpKSl7CiAgICAgICAgJGZpbGV0b2JlY29waWVkID0gQCgpCiAgICAgICAgJGZpbGVub3R0b2JlY29waWVkID0gQCgpCiAgICAgICAgZm9yZWFjaCgkZmlsZSBpbiAkc291cmNlZmlsZSl7CiAgICAgICAgJGZpbGVuYW1lID0gU3BsaXQtUGF0aCAkZmlsZSAtTGVhZgogICAgICAgICR0ZW1wcGF0aCA9ICIkZGVzdGluYXRpb25maWxlIisiXCIrIiRmaWxlbmFtZSIKICAgICAgICBpZighKFRlc3QtcGF0aCAkdGVtcHBhdGgpKXskZmlsZXRvYmVjb3BpZWQgKz0gJGZpbGV9ZWxzZXskZmlsZW5vdHRvYmVjb3BpZWQgKz0gJGZpbGV9CiAgICAgICAgfQogICAgJHNvdXJjZWZpbGUgPSAkZmlsZXRvYmVjb3BpZWQKICAgIH0KCiAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwogICAgCiAgICAjIyMjIyMjIyMjIyMjIyMjIyMjI0NoZWNraW5nIEF0dHJpYnV0ZSBjcml0ZXJpYSBmb3IgZWFjaCBmaWxlIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiAgICAKICAgIGlmICgoKCEkaW5jbHVkZVN5c3RlbUZpbGUpIC1vciAoISRpbmNsdWRlUmVhZE9ubHlGaWxlKSAtb3IgKCEkaW5jbHVkZUhpZGRlbkZpbGUpKSAtYW5kICgtbm90KCEkc291cmNlZmlsZSkpKSB7CiAgICAgICAgJGF0dHJpYnV0ZXZlcmlmaWVkZmlsZXMgPSBAKCkKICAgICAgICAkYXR0cmlidXRlbm90dmVyaWZpZWRmaWxlcyA9IEAoKQogICAgICAgIGZvcmVhY2ggKCR2ZXJpZnlmaWxlIGluICRzb3VyY2VmaWxlKSB7CiAgICAKICAgICAgICAgICAgaWYgKHZlcmlmeV9BdHRyaWJ1dGVzIC1zb3VyY2VwYXRoICR2ZXJpZnlmaWxlIC1yZWFkb25seSAkaW5jbHVkZVJlYWRPbmx5RmlsZSAtaGlkZGVucyAkaW5jbHVkZUhpZGRlbkZpbGUgLXN5c3RlbSAkaW5jbHVkZVN5c3RlbUZpbGUpIHsKICAgIAogICAgICAgICAgICAgICAgJGF0dHJpYnV0ZXZlcmlmaWVkZmlsZXMgKz0gJHZlcmlmeWZpbGUKICAgIAogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgeyAkYXR0cmlidXRlbm90dmVyaWZpZWRmaWxlcyArPSAkdmVyaWZ5ZmlsZSB9CiAgICAgICAgfQogICAgJHNvdXJjZWZpbGUgPSAkYXR0cmlidXRldmVyaWZpZWRmaWxlcwogICAgfQoKICAgICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgogICAgIyMjIyMjIyMjIyMjIyMjIyMjIyNDaGVja2luZyBNb2RpZmljYXRpb24gY3JpdGVyaWEgZm9yIGVhY2ggZmlsZSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCiAgICBpZiAoKCRmaWxlTW9kaWZpY2F0aW9uKSAtYW5kICgtbm90KCEkc291cmNlZmlsZSkpKSB7CiAgICAkZmlsZW1vZGlmaWNhdGlvbnZlcmlmaWVkZmlsZXMgPSBAKCkKICAgICRmaWxlbW9kaWZpY2F0aW9ubm90dmVyaWZpZWRmaWxlcyA9IEAoKQogICAgICAgIGZvcmVhY2ggKCR2ZXJpZnlmaWxlIGluICRzb3VyY2VmaWxlKSB7CiAgICAKICAgICAgICAgICAgaWYgKGZpbGVtb2RpZmljYXRpb25fY2hlY2sgLWZmY19zb3VyY2VwYXRoICR2ZXJpZnlmaWxlIC1mZmNfY3JpdGVyaWEgJGZpbGVNb2RpZmljYXRpb24gLWZmY19tb2RpZmljYXRpb25kYXRlICRtb2RpZmljYXRpb25EYXRlIC1mZmNfbW9kaWZpY2F0aW9uZGF5cyAkbW9kaWZpY2F0aW9uRGF5cyAtZmZjX3N0YXJ0ZGF0ZSAkc3RhcnREYXRlIC1mZmNfZW5kZGF0ZSAkZW5kRGF0ZSkgewogICAgCiAgICAgICAgICAgICAgICAkZmlsZW1vZGlmaWNhdGlvbnZlcmlmaWVkZmlsZXMgKz0gJHZlcmlmeWZpbGUKICAgIAogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgCiAgICAgICAgICAgICAgICAkZmlsZW1vZGlmaWNhdGlvbm5vdHZlcmlmaWVkZmlsZXMgKz0gJHZlcmlmeWZpbGUKCiAgICAgICAgICAgIH0KCiAgICAgICAgfQogICAgICAgICRzb3VyY2VmaWxlID0gJGZpbGVtb2RpZmljYXRpb252ZXJpZmllZGZpbGVzCiAgICB9CiAKCiBpZiAoISRzb3VyY2VmaWxlKSB7CgogICAgIi0iICogMjAgKyAiYG5Db25kaXRpb24gbWlzbWF0Y2hlZCBmb3IgYWxsIHRoZSBmaWxlc2BuIiArICItIiAqIDIwCiAgICBpZigkc291cmNlcGF0aCAtZXEgIk5ldHdvcmsiKXtNYXBfbmV0d29ya2RyaXZlIC1BY3Rpb24gIlJlbW92ZSIgLURyaXZlICRnbG9iYWw6bmV3ZHJpdmUgfQogICAgaWYoJGRlc3RpbmF0aW9ucGF0aCAtZXEgIk5ldHdvcmsiKXtNYXBfbmV0d29ya2RyaXZlIC1BY3Rpb24gIlJlbW92ZSIgLURyaXZlICRnbG9iYWw6bmV3ZHJpdmV9CiAgICBFeGl0OwogICAgCn0KZWxzZSB7CiAgICAKICAgIGZ1bmN0aW9uIHJvbGxiYWNrX3NvdXJjZSgkZmlsZXN0b3VwZGF0ZSkgewogICAgCiAgICAgICAgJHJvbGxiYWNrZWQgPSBmb3JlYWNoICgkZmlsZSBpbiAkZmlsZXN0b3VwZGF0ZSkgewogICAgICAgICAgICBKb2luLVBhdGggJGdsb2JhbDpvZ2RyaXZlZGV0YWlscyAoc3BsaXQtcGF0aCAkZmlsZSAtTm9RdWFsaWZpZXIpCiAgICAgICAgfQogICAgICAgIHJldHVybiAkcm9sbGJhY2tlZAoKICAgIH0KCiAgICBpZiAoJGRpc2NhcmRlZHdoaWxlc291cmNlY2hlY2spIHsKICAgICAgICBpZiAoJHNvdXJjZXBhdGggLWVxICJOZXR3b3JrIikgewogICAgICAgICAgICAkZGlzY2FyZGVkd2hpbGVzb3VyY2VjaGVjayA9IHJvbGxiYWNrX3NvdXJjZSAtZmlsZXN0b3VwZGF0ZSAkZGlzY2FyZGVkd2hpbGVzb3VyY2VjaGVjawogICAgICAgIH0KICAgICAgICAiYG5Tb3VyY2VmaWxlcyBub3QgZm91bmQ6IjsgIi0iICogMjAgOyAkZGlzY2FyZGVkd2hpbGVzb3VyY2VjaGVjazsgIi0iICogMjAgCiAgICB9CiAgICBpZiAoJGlzbm90dmFsaWRmaWxlbmFtZSkgewogICAgICAgIGlmICgkc291cmNlcGF0aCAtZXEgIk5ldHdvcmsiKSB7CiAgICAgICAgICAgICRpc25vdHZhbGlkZmlsZW5hbWUgPSByb2xsYmFja19zb3VyY2UgLWZpbGVzdG91cGRhdGUgJGlzbm90dmFsaWRmaWxlbmFtZQogICAgICAgIH0KICAgICAgICAiYG5JbnZhbGlkIEZpbGVzOiI7ICItIiAqIDIwIDsgJGlzbm90dmFsaWRmaWxlbmFtZTsgIi0iICogMjAgCiAgICB9CiAgICBpZiAoJGF0dHJpYnV0ZW5vdHZlcmlmaWVkZmlsZXMpIHsgCiAgICAgICAgaWYgKCRzb3VyY2VwYXRoIC1lcSAiTmV0d29yayIpIHsKICAgICAgICAgICAgJGF0dHJpYnV0ZW5vdHZlcmlmaWVkZmlsZXMgPSByb2xsYmFja19zb3VyY2UgLWZpbGVzdG91cGRhdGUgJGF0dHJpYnV0ZW5vdHZlcmlmaWVkZmlsZXMKICAgICAgICB9CiAgICAgICAgImBuQXR0cmlidXRlIENyaXRlcmlhIE1pc21hdGNoZWQ6IjsgIi0iICogMjA7ICRhdHRyaWJ1dGVub3R2ZXJpZmllZGZpbGVzOyAiLSIgKiAyMCAKICAgIH0KICAgIGlmICgkZmlsZW1vZGlmaWNhdGlvbm5vdHZlcmlmaWVkZmlsZXMpIHsgCiAgICAgICAgaWYgKCRzb3VyY2VwYXRoIC1lcSAiTmV0d29yayIpIHsKICAgICAgICAgICAgJGZpbGVtb2RpZmljYXRpb25ub3R2ZXJpZmllZGZpbGVzID0gcm9sbGJhY2tfc291cmNlIC1maWxlc3RvdXBkYXRlICRmaWxlbW9kaWZpY2F0aW9ubm90dmVyaWZpZWRmaWxlcwogICAgICAgIH0KICAgICAgICAiYG5GaWxlIG1vZGlmaWNhdGlvbiBjcml0ZXJpYSBtaXNtYXRjaGVkOiI7ICItIiAqIDIwIDsgJGZpbGVtb2RpZmljYXRpb25ub3R2ZXJpZmllZGZpbGVzOyAiLSIgKiAyMCAKICAgIH0KICAgIGlmICgkZmlsZW5vdHRvYmVjb3BpZWQgLWFuZCAhKCRmaWxlYWN0aW9uIC1lcSAiZGVsZXRlZmlsZXMiKSkgewogICAgICAgIGlmICgkc291cmNlcGF0aCAtZXEgIk5ldHdvcmsiKSB7CiAgICAgICAgICAgICRmaWxlbm90dG9iZWNvcGllZCA9IHJvbGxiYWNrX3NvdXJjZSAtZmlsZXN0b3VwZGF0ZSAkZmlsZW5vdHRvYmVjb3BpZWQKICAgICAgICB9CiAgICAgICAgImBuRmlsZXMgYWxyZWFkeSBwcmVzZW50IGF0IGRlc3RpbmF0aW9uOiI7ICItIiAqIDIwIDsgJGZpbGVub3R0b2JlY29waWVkOyAiLSIgKiAyMAogICAgfQp9IAoKfQplbHNlaWYgKCgkZmlsZUFjdGlvbiAtZXEgImNvcHlhZmlsZSIpIC1vciAoJGZpbGVBY3Rpb24gLWVxICJtb3ZlYWZpbGUiKSAtb3IgKCRmaWxlQWN0aW9uIC1lcSAiZGVsZXRlYWZpbGUiKSAtb3IgKCRmaWxlQWN0aW9uIC1lcSAicmVuYW1lYWZpbGUiKSkgewogICAgCiAgICBmdW5jdGlvbiByb2xsYmFja19zb3VyY2UxKCRmaWxldG91cGRhdGUpIHsgIAogICAgICAgICAgcmV0dXJuICAoSm9pbi1QYXRoICRnbG9iYWw6b2dkcml2ZWRldGFpbHMgKHNwbGl0LXBhdGggJGZpbGV0b3VwZGF0ZSAtTm9RdWFsaWZpZXIpKQogICAgfQoKICAgIGZ1bmN0aW9uIHJlbW92ZV9uZXRfZHJpdmV7CiAgICBpZigkc291cmNlcGF0aCAtZXEgIk5ldHdvcmsiKXskdGVtcGRyaXZlID0gU3BsaXQtcGF0aCAkc291cmNlZmlsZSAtUXVhbGlmaWVyOyBNYXBfbmV0d29ya2RyaXZlIC1BY3Rpb24gIlJlbW92ZSIgLURyaXZlICR0ZW1wZHJpdmUgfQogICAgaWYoJGRlc3RpbmF0aW9ucGF0aCAtZXEgIk5ldHdvcmsiKXskdGVtcGRyaXZlID0gU3BsaXQtcGF0aCAkZGVzdGluYXRpb25maWxlIC1RdWFsaWZpZXI7IE1hcF9uZXR3b3JrZHJpdmUgLUFjdGlvbiAiUmVtb3ZlIiAtRHJpdmUgJHRlbXBkcml2ZX0KICAgIH0KCiAgICBpZiAoJHNvdXJjZXBhdGggLWVxICJOZXR3b3JrIikgewogICAgICAgICRzb3VyY2VmaWxlID0gTWFwX25ldHdvcmtkcml2ZSAtQWN0aW9uICJDcmVhdGUiCiAgICB9CiAgICAKICAgIGlmICgkZGVzdGluYXRpb25wYXRoIC1lcSAiTmV0d29yayIpIHsKICAgICAgICAkZGVzdGluYXRpb25maWxlID0gTWFwX25ldHdvcmtkcml2ZSAtQWN0aW9uICJDcmVhdGUiCiAgICB9CiAgICBpZiAoISgoKFRlc3QtcGF0aCAkc291cmNlZmlsZSAtSXNWYWxpZCkgLWVxICR0cnVlKSAtQW5kICgoVGVzdC1wYXRoICRzb3VyY2VmaWxlKSAtZXEgJHRydWUpKSkgewogICAgICAgIHJlbW92ZV9uZXRfZHJpdmUKICAgICAgICBpZigkc291cmNlcGF0aCAtZXEgIk5ldHdvcmsiKXsKICAgICAgICAgICAgJHNvdXJjZWZpbGUgPSByb2xsYmFja19zb3VyY2UxIC1maWxldG91cGRhdGUgJHNvdXJjZWZpbGUKICAgICAgICB9ICAgIAogICAgICAgICJgblNvdXJjZWZpbGUgbm90IGZvdW5kOiI7ICItIiAqIDIwIDsgJHNvdXJjZWZpbGU7ICItIiAqIDIwIAogICAgICAgIEV4aXQKICAgIH0KICAgIAogICAgaWYgKCgoR2V0LUl0ZW0gJHNvdXJjZWZpbGUgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUpLkF0dHJpYnV0ZXMpIC1lcSAiRGlyZWN0b3J5IikgewogICAgICAgIHJlbW92ZV9uZXRfZHJpdmUKICAgICAgICBpZigkc291cmNlcGF0aCAtZXEgIk5ldHdvcmsiKXsKICAgICAgICAgICAgJHNvdXJjZWZpbGUgPSByb2xsYmFja19zb3VyY2UxIC1maWxldG91cGRhdGUgJHNvdXJjZWZpbGUKICAgICAgICB9CiAgICAgICAgImBuSW52YWxpZCBGaWxlOiI7ICItIiAqIDIwIDsgJHNvdXJjZWZpbGU7ICItIiAqIDIwOwogICAgICAgIEV4aXQ7CiAgICB9CiAgICAKICAgIGlmICgoKCRmaWxlQWN0aW9uIC1lcSAiY29weWFmaWxlIikgLW9yICgkZmlsZUFjdGlvbiAtZXEgIm1vdmVhZmlsZSIpKSAtQW5kICghJE92ZXJ3cml0ZSkpIHsKICAgICAgICAkZmlsZW5hbWUgPSBTcGxpdC1QYXRoICRzb3VyY2VmaWxlIC1MZWFmCiAgICAgICAgJHRlbXBwYXRoID0gIiRkZXN0aW5hdGlvbmZpbGUiICsgIlwiICsgIiRmaWxlbmFtZSIKICAgICAgICBpZiAoVGVzdC1wYXRoICR0ZW1wcGF0aCkgewogICAgICAgIHJlbW92ZV9uZXRfZHJpdmUgCiAgICAgICAgaWYoJHNvdXJjZXBhdGggLWVxICJOZXR3b3JrIil7CiAgICAgICAgICAgICRzb3VyY2VmaWxlID0gcm9sbGJhY2tfc291cmNlMSAtZmlsZXRvdXBkYXRlICRzb3VyY2VmaWxlCiAgICAgICAgfQogICAgICAgICJgbkZpbGUgYWxyZWFkeSBwcmVzZW50IGF0IGRlc3RpbmF0aW9uOiI7ICItIiAqIDIwIDsgJHNvdXJjZWZpbGU7ICItIiAqIDIwOyAKICAgICAgICBFeGl0OyAKICAgICAgICB9CiAgICB9CiAgICAKICAgIAogICAgCiAgICBpZiAoJGZpbGVNb2RpZmljYXRpb24pIHsKICAgICAgICBpZiAoIShmaWxlbW9kaWZpY2F0aW9uX2NoZWNrIC1mZmNfc291cmNlcGF0aCAkc291cmNlZmlsZSAtZmZjX2NyaXRlcmlhICRmaWxlTW9kaWZpY2F0aW9uIC1mZmNfbW9kaWZpY2F0aW9uZGF0ZSAkbW9kaWZpY2F0aW9uRGF0ZSAtZmZjX21vZGlmaWNhdGlvbmRheXMgJG1vZGlmaWNhdGlvbkRheXMgLWZmY19zdGFydGRhdGUgJHN0YXJ0RGF0ZSAtZmZjX2VuZGRhdGUgJGVuZERhdGUpKSB7CiAgICAgICAgICAgIHJlbW92ZV9uZXRfZHJpdmUKICAgICAgICAgICAgaWYoJHNvdXJjZXBhdGggLWVxICJOZXR3b3JrIil7CiAgICAgICAgICAgICRzb3VyY2VmaWxlID0gcm9sbGJhY2tfc291cmNlMSAtZmlsZXRvdXBkYXRlICRzb3VyY2VmaWxlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgImBuRmlsZSBtb2RpZmljYXRpb24gY3JpdGVyaWEgbWlzbWF0Y2hlZDoiOyAiLSIgKiAyMCA7ICRzb3VyY2VmaWxlOyItIiAqIDIwOwogICAgICAgICAgICBFeGl0OwogICAgICAgIH0KICAgIH0KICAgIAogICAgaWYgKCgoISRpbmNsdWRlU3lzdGVtRmlsZSkgLW9yICghJGluY2x1ZGVSZWFkT25seUZpbGUpIC1vciAoISRpbmNsdWRlSGlkZGVuRmlsZSkpIC1hbmQgKCRmaWxlQWN0aW9uIC1uZSAicmVuYW1lYWZpbGUiKSkgewogICAgICAgIGlmICghKHZlcmlmeV9BdHRyaWJ1dGVzIC1zb3VyY2VwYXRoICRzb3VyY2VmaWxlIC1yZWFkb25seSAkaW5jbHVkZVJlYWRPbmx5RmlsZSAtaGlkZGVucyAkaW5jbHVkZUhpZGRlbkZpbGUgLXN5c3RlbSAkaW5jbHVkZVN5c3RlbUZpbGUpKSB7IAogICAgICAgIHJlbW92ZV9uZXRfZHJpdmUKICAgICAgICBpZigkc291cmNlcGF0aCAtZXEgIk5ldHdvcmsiKXsKICAgICAgICAgICAgJHNvdXJjZWZpbGUgPSByb2xsYmFja19zb3VyY2UxIC1maWxldG91cGRhdGUgJHNvdXJjZWZpbGUKICAgICAgICB9CiAgICAgICAgImBuQXR0cmlidXRlIENyaXRlcmlhIE1pc21hdGNoZWQ6IjsgIi0iICogMjA7ICRzb3VyY2VmaWxlOyItIiAqIDIwIDsKICAgICAgICBFeGl0OyB9CiAgICB9CiAgICAKICAgIAp9CgplbHNlaWYoKCRmaWxlQWN0aW9uIC1lcSAiY29weWFmb2xkZXIiKSAtb3IgKCRmaWxlQWN0aW9uIC1lcSAibW92ZWZvbGRlciIpIC1vciAoJGZpbGVBY3Rpb24gLWVxICJyZW5hbWVhZm9sZGVyIikgLW9yICgkZmlsZUFjdGlvbiAtZXEgImRlbGV0ZWFmb2xkZXIiKSl7CiAgICAKICAgIGZ1bmN0aW9uIHJvbGxiYWNrX3NvdXJjZTIoJGZvbGRlcnRvdXBkYXRlKSB7ICAKICAgICAgICAgIHJldHVybiAgKEpvaW4tUGF0aCAkZ2xvYmFsOm9nZHJpdmVkZXRhaWxzIChzcGxpdC1wYXRoICRmb2xkZXJ0b3VwZGF0ZSAtTm9RdWFsaWZpZXIpKQogICAgfQoKICAgIGlmKCgkZmlsZUFjdGlvbiAtZXEgIm1vdmVmb2xkZXIiKSAtYW5kICgoJHNvdXJjZXBhdGggLWVxICJOZXR3b3JrIikgLW9yICgkZGVzdGluYXRpb25wYXRoIC1lcSAiTmV0d29yayIpKSl7CiAgICAgICAgIi0iICogMjAgOyJNb3ZlIEZvbGRlciBvcGVyYXRpb24gaXMgbm90IGFsbG93ZWQgb3ZlciB0aGUgbmV0d29yay4iOyAiLSIgKiAyMAogICAgICAgIEV4aXQ7CiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlX25ldF9kcml2ZXsKICAgIGlmKCRzb3VyY2VwYXRoIC1lcSAiTmV0d29yayIpeyR0ZW1wZHJpdmUgPSBTcGxpdC1wYXRoICRzb3VyY2VmaWxlIC1RdWFsaWZpZXI7IE1hcF9uZXR3b3JrZHJpdmUgLUFjdGlvbiAiUmVtb3ZlIiAtRHJpdmUgJHRlbXBkcml2ZSB9CiAgICBpZigkZGVzdGluYXRpb25wYXRoIC1lcSAiTmV0d29yayIpeyR0ZW1wZHJpdmUgPSBTcGxpdC1wYXRoICRkZXN0aW5hdGlvbmZpbGUgLVF1YWxpZmllcjsgTWFwX25ldHdvcmtkcml2ZSAtQWN0aW9uICJSZW1vdmUiIC1Ecml2ZSAkdGVtcGRyaXZlfQogICAgfQoKICAgIGlmICgkc291cmNlcGF0aCAtZXEgIk5ldHdvcmsiKSB7CiAgICAgICAgJHNvdXJjZWZpbGUgPSBNYXBfbmV0d29ya2RyaXZlIC1BY3Rpb24gIkNyZWF0ZSIKICAgIH0KICAgIAogICAgaWYgKCRkZXN0aW5hdGlvbnBhdGggLWVxICJOZXR3b3JrIikgewogICAgICAgICRkZXN0aW5hdGlvbmZpbGUgPSBNYXBfbmV0d29ya2RyaXZlIC1BY3Rpb24gIkNyZWF0ZSIKICAgIH0KCiAgICBpZiAoISgoKFRlc3QtcGF0aCAkc291cmNlZmlsZSAtSXNWYWxpZCkgLWVxICR0cnVlKSAtQW5kICgoVGVzdC1wYXRoICRzb3VyY2VmaWxlKSAtZXEgJHRydWUpKSkgeyAKICAgICAgICByZW1vdmVfbmV0X2RyaXZlCiAgICAgICAgaWYoJHNvdXJjZXBhdGggLWVxICJOZXR3b3JrIil7CiAgICAgICAgICAgICRzb3VyY2VmaWxlID0gcm9sbGJhY2tfc291cmNlMiAtZm9sZGVydG91cGRhdGUgJHNvdXJjZWZpbGUKICAgICAgICB9ICAgCiAgICAgICAgImBuU291cmNlZm9sZGVyIG5vdCBmb3VuZDoiOyAiLSIgKiAyMCA7ICRzb3VyY2VmaWxlOyAiLSIgKiAyMCAgICAgCiAgICAgICAgRXhpdAogICAgfQoKICAgICBpZiAoKChHZXQtSXRlbSAkc291cmNlZmlsZSkuQXR0cmlidXRlcykgLW5lICJEaXJlY3RvcnkiKSB7CiAgICAgICAgcmVtb3ZlX25ldF9kcml2ZQogICAgICAgIGlmKCRzb3VyY2VwYXRoIC1lcSAiTmV0d29yayIpewogICAgICAgICAgICAkc291cmNlZmlsZSA9IHJvbGxiYWNrX3NvdXJjZTIgLWZvbGRlcnRvdXBkYXRlICRzb3VyY2VmaWxlCiAgICAgICAgfSAKICAgICAgICAiYG5JbnZhbGlkIEZvbGRlcjoiOyAiLSIgKiAyMCA7ICRzb3VyY2VmaWxlOyAiLSIgKiAyMDsKICAgICAgICBFeGl0OwogICAgfQoKICAgIGlmICgoJGZpbGVBY3Rpb24gLWVxICJjb3B5YWZvbGRlciIpIC1vciAoJGZpbGVBY3Rpb24gLWVxICJtb3ZlZm9sZGVyIikpIHsKICAgICAgICAkZmlsZW5hbWUgPSBTcGxpdC1QYXRoICRzb3VyY2VmaWxlIC1MZWFmCiAgICAgICAgJHRlbXBwYXRoID0gIiRkZXN0aW5hdGlvbmZpbGUiICsgIlwiICsgIiRmaWxlbmFtZSIKICAgICAgICBpZiAoVGVzdC1wYXRoICR0ZW1wcGF0aCkgewogICAgICAgICAgICByZW1vdmVfbmV0X2RyaXZlCiAgICAgICAgaWYoJHNvdXJjZXBhdGggLWVxICJOZXR3b3JrIil7CiAgICAgICAgICAgICRzb3VyY2VmaWxlID0gcm9sbGJhY2tfc291cmNlMiAtZm9sZGVydG91cGRhdGUgJHNvdXJjZWZpbGUKICAgICAgICB9ICAKICAgICAgICAiYG5Gb2xkZXIgYWxyZWFkeSBwcmVzZW50IGF0IGRlc3RpbmF0aW9uIHBhdGg6IjsgIi0iICogMjAgOyAkc291cmNlZmlsZTsgIi0iICogMjA7ICAgCiAgICAgICAgRXhpdDsgCiAgICAgICAgfQogICAgfQoKICAgIGlmKCRmaWxlTW9kaWZpY2F0aW9uKXsKICAgICAgICBpZiAoIShmaWxlbW9kaWZpY2F0aW9uX2NoZWNrIC1mZmNfc291cmNlcGF0aCAkc291cmNlZmlsZSAtZmZjX2NyaXRlcmlhICRmaWxlTW9kaWZpY2F0aW9uIC1mZmNfbW9kaWZpY2F0aW9uZGF0ZSAkbW9kaWZpY2F0aW9uRGF0ZSAtZmZjX21vZGlmaWNhdGlvbmRheXMgJG1vZGlmaWNhdGlvbkRheXMgLWZmY19zdGFydGRhdGUgJHN0YXJ0RGF0ZSAtZmZjX2VuZGRhdGUgJGVuZERhdGUpKSB7CiAgICAgICAgICAgIHJlbW92ZV9uZXRfZHJpdmUKICAgICAgICAgICAgaWYoJHNvdXJjZXBhdGggLWVxICJOZXR3b3JrIil7CiAgICAgICAgICAgICRzb3VyY2VmaWxlID0gcm9sbGJhY2tfc291cmNlMiAtZm9sZGVydG91cGRhdGUgJHNvdXJjZWZpbGUKICAgICAgICAgICAgfSAKICAgICAgICAgICAgImBuRm9sZGVyIG1vZGlmaWNhdGlvbiBjcml0ZXJpYSBtaXNtYXRjaGVkOiI7ICItIiAqIDIwIDsgJHNvdXJjZWZpbGU7Ii0iICogMjA7CiAgICAgICAgICAgIEV4aXQ7CiAgICAgICAgfQogICAgfQp9CgoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1ByZWNoZWNrIGNvbXBsZXRlZCBtdWx0aXBsZSBmaWxlcyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCgoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1N0YW5kYXJkIEZ1bmN0aW9uIHRvIGNyZWF0ZSBkZXN0aW5hdGlvbiBwYXRoIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCmZ1bmN0aW9uIENyZWF0ZV9EZXN0aW5hdGlvbnBhdGgoJGRlc3RpbmF0aW9ucGF0aCkgewogICAgJEVycm9yQWN0aW9uUHJlZmVyZW5jZSA9ICJTaWxlbnRseUNvbnRpbnVlIgogICAgTmV3LUl0ZW0gJGRlc3RpbmF0aW9ucGF0aCAtSXRlbVR5cGUgRGlyZWN0b3J5IHwgT3V0LU51bGwKICAgICRFcnJvckFjdGlvblByZWZlcmVuY2UgPSAiQ29udGludWUiCiAgICBpZiAoVGVzdC1wYXRoICRkZXN0aW5hdGlvbnBhdGgpIHsKICAgICAgICByZXR1cm4gJHRydWUKICAgIH0KICAgIGVsc2UgewogICAgICAgIFdyaXRlLUVycm9yICJGYWlsZWQgdG8gY3JlYXRlIGRlc3RpbmF0aW9uIHBhdGg7IgogICAgICAgIEV4aXQ7CiAgICB9Cn0KCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNDb3B5IGZpbGVzIHRvIGZvbGRlciAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgo8IyAKICAgQ2FsbGluZyBhIGZ1bmN0aW9uIHJlcXVpcmVzIDQgcGFyYW1ldGVyCiAgIDEuICRzb3VyY2VmaWxlc3BhdGggOiAgICAgICAkc291cmNlZmlsZQogICAyLiAkZGVzdGluYXRpb25mb2xkZXJwYXRoIDogJGRlc3RpbmF0aW9uZmlsZQogICAzLiAkY2ZfY29udGludWVvbmVycm9yOiAgICAgJGNvbnRpbnVlb25lcnJvcgogICA0LiAkY2ZfZGVzdGluYXRpb25kaXJlY3Rvcnk6ICRDcmVhdGVEZXN0RGlyZWN0b3J5CgogIz4gICAgICAgCmZ1bmN0aW9uIGNvcHlmaWxlc3RvYWZvbGRlcigkc291cmNlZmlsZXNwYXRoLCAkZGVzdGluYXRpb25mb2xkZXJwYXRoLCAkY2ZfY29udGludWVvbmVycm9yLCAkY2ZfZGVzdGluYXRpb25kaXJlY3RvcnkpIHsKICAgICRjb3B5c3VjY2Vzc2Z1bCA9IEAoKQogICAgJGNvcHlmYWlsZWQgPSBAKCkgCiAgICBpZiAoKFRlc3QtcGF0aCAkZGVzdGluYXRpb25mb2xkZXJwYXRoKSAtZXEgJGZhbHNlKSB7CiAgICAgICAgI2l0IHdpbGwgY2hlY2sgZm9yIGRlc3RpbmF0aW9uIHBhdGggaWYgaXQgZG9lcyBub3QgZXhpc3QuCiAgICAgICAgaWYgKCgkY2ZfZGVzdGluYXRpb25kaXJlY3RvcnkgLWVxICRmYWxzZSkpIHsKICAgICAgICAgICAgIyBhbmQgY3JlYXRlIGRlc3RpbmF0aW9uIGRpcmVjdG9yeSBpcyB0cnVlIHRoYW4gbmV3IGRpcmVjdG9yeSB3aWxsIGJlIGNyZWF0ZWQuCiAgICAgICAgICAgICItIiAqIDMwICsgImBuRGVzdGluYXRpb24gcGF0aCBwcm92aWRlZCBkb2VzIG5vdCBleGlzdCAkZGVzdGluYXRpb25mb2xkZXJwYXRoLFNjcmlwdCB3aWxsIG5vdyBleGl0LmBuIiArICItIiAqIDMwCiAgICAgICAgICAgIEV4aXQ7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBDcmVhdGVfRGVzdGluYXRpb25wYXRoIC1kZXN0aW5hdGlvbnBhdGggJGRlc3RpbmF0aW9uZm9sZGVycGF0aCB8IE91dC1OdWxsCiAgICAgICAgfQogICAgfQogICAgICAgCiAgICBmb3JlYWNoICgkcGF0aCBpbiAkc291cmNlZmlsZXNwYXRoKSB7CiAgICAgICAgQ29weS1pdGVtICRwYXRoIC1EZXN0aW5hdGlvbiAkZGVzdGluYXRpb25mb2xkZXJwYXRoIHwgb3V0LW51bGwKICAgICAgICAkZGVzdGluYXRpb25wYXRoMSA9IEpvaW4tcGF0aCAkZGVzdGluYXRpb25mb2xkZXJwYXRoIChzcGxpdC1wYXRoICRwYXRoIC1MZWFmKQogICAgICAgIGlmIChUZXN0LXBhdGggJGRlc3RpbmF0aW9ucGF0aDEpIHsKICAgICAgICAgICAgJGNvcHlzdWNjZXNzZnVsICs9ICRwYXRoCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkY29weWZhaWxlZCArPSAkcGF0aAogICAgICAgIH0KICAgIH0KCiAgICBpZiAoJHNvdXJjZXBhdGggLWVxICJOZXR3b3JrIiAtYW5kICRjb3B5c3VjY2Vzc2Z1bC5sZW5ndGggLWd0IDApIHsKICAgICAgICAkb3Bfc3VjY2VzcyA9IEAoKQogICAgICAgIGZvcmVhY2ggKCRmaWxlIGluICRjb3B5c3VjY2Vzc2Z1bCkgewogICAgICAgICAgICAkb3Bfc3VjY2VzcyArPSBKb2luLVBhdGggJGdsb2JhbDpvZ2RyaXZlZGV0YWlscyAoc3BsaXQtcGF0aCAkZmlsZSAtTm9RdWFsaWZpZXIpCiAgICAgICAgfQogICAgICAgICJgbkNvcHkgU3VjY2Vzc2Z1bDoiOyAiLSIgKiAzMDsgJG9wX3N1Y2Nlc3M7ICItIiAqIDMwCiAgICB9CgogICAgaWYgKCRzb3VyY2VwYXRoIC1lcSAiTmV0d29yayIgLWFuZCAkY29weWZhaWxlZC5sZW5ndGggLWd0IDApIHsKICAgICAgICAkb3BfZmFpbGVkID0gQCgpCiAgICAgICAgZm9yZWFjaCAoJGZpbGUgaW4gJGNvcHlmYWlsZWQpIHsKICAgICAgICAgICAgJG9wX2ZhaWxlZCArPSBKb2luLVBhdGggJGdsb2JhbDpvZ2RyaXZlZGV0YWlscyAoc3BsaXQtcGF0aCAkZmlsZSAtTm9RdWFsaWZpZXIpCiAgICAgICAgfQogICAgICAgICJgbkNvcHkgRmFpbGVkOiI7ICItIiAqIDMwOyAkb3BfZmFpbGVkOyAiLSIgKiAzMAogICAgfQogICAgCiAgICBpZiAoJHNvdXJjZXBhdGggLWVxICJMb2NhbCIpIHsKICAgICAgICBpZiAoJGNvcHlzdWNjZXNzZnVsLmxlbmd0aCAtZ3QgMCkgewogICAgICAgICAgICAiYG5Db3B5IFN1Y2Nlc3NmdWw6IjsgIi0iICogMzA7ICRjb3B5c3VjY2Vzc2Z1bDsgIi0iICogMzAKICAgICAgICB9CiAgICAgICAgaWYgKCRjb3B5ZmFpbGVkLmxlbmd0aCAtZ3QgMCkgewogICAgICAgICAgICAiYG5Db3B5IEZhaWxlZDoiOyAiLSIgKiAzMDsgJGNvcHlmYWlsZWQ7ICItIiAqIDMwCiAgICAgICAgfQogICAgfQp9CgoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKZnVuY3Rpb24gY29weWZpbGV0b2Fmb2xkZXIoJHNvdXJjZWZpbGVzcGF0aCwgJGRlc3RpbmF0aW9uZm9sZGVycGF0aCwgJGNmX2Rlc3RpbmF0aW9uZGlyZWN0b3J5KSB7CiAgIAogICAgaWYgKChUZXN0LXBhdGggJGRlc3RpbmF0aW9uZm9sZGVycGF0aCkgLWVxICRmYWxzZSkgewogICAgICAgICNpdCB3aWxsIGNoZWNrIGZvciBkZXN0aW5hdGlvbiBwYXRoIGlmIGl0IGRvZXMgbm90IGV4aXN0LgogICAgICAgIGlmICgoJGNmX2Rlc3RpbmF0aW9uZGlyZWN0b3J5IC1lcSAkZmFsc2UpKSB7CiAgICAgICAgICAgICMgYW5kIGNyZWF0ZSBkZXN0aW5hdGlvbiBkaXJlY3RvcnkgaXMgdHJ1ZSB0aGFuIG5ldyBkaXJlY3Rvcnkgd2lsbCBiZSBjcmVhdGVkLgogICAgICAgICAgICAiLSIqMzArImBuRGVzdGluYXRpb24gcGF0aCBwcm92aWRlZCBkb2VzIG5vdCBleGlzdCAkZGVzdGluYXRpb25mb2xkZXJwYXRoLFNjcmlwdCB3aWxsIG5vdyBleGl0LmBuIisiLSIqMzAKICAgICAgICAgICAgRXhpdDsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIENyZWF0ZV9EZXN0aW5hdGlvbnBhdGggLWRlc3RpbmF0aW9ucGF0aCAkZGVzdGluYXRpb25mb2xkZXJwYXRoIHwgT3V0LU51bGwKICAgICAgICB9CiAgICB9CgogICAgICAgIENvcHktaXRlbSAkc291cmNlZmlsZXNwYXRoIC1EZXN0aW5hdGlvbiAkZGVzdGluYXRpb25mb2xkZXJwYXRoIHwgb3V0LW51bGwKICAgICAgICAkZGVzdGlfcGF0aCA9IEpvaW4tcGF0aCAkZGVzdGluYXRpb25mb2xkZXJwYXRoIChzcGxpdC1wYXRoICRzb3VyY2VmaWxlc3BhdGggLUxlYWYpCiAgICAgICAgaWYgKFRlc3QtcGF0aCAkZGVzdGlfcGF0aCkgewogICAgICAgICAgICBpZigkc291cmNlcGF0aCAtZXEgIk5ldHdvcmsiKXsKICAgICAgICAgICAgICAgICRzb3VyY2VmaWxlc3BhdGggPSBKb2luLVBhdGggJGdsb2JhbDpvZ2RyaXZlZGV0YWlscyAoc3BsaXQtcGF0aCAkc291cmNlZmlsZXNwYXRoIC1Ob1F1YWxpZmllcikgCiAgICAgICAgICAgIH0KICAgICAgICAgICAgImBuQ29weSBTdWNjZXNzZnVsOiI7Ii0iKjMwOyRzb3VyY2VmaWxlc3BhdGg7Ii0iKjMwCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBpZigkc291cmNlcGF0aCAtZXEgIk5ldHdvcmsiKXsKICAgICAgICAgICAgICAgICRzb3VyY2VmaWxlc3BhdGggPSBKb2luLVBhdGggJGdsb2JhbDpvZ2RyaXZlZGV0YWlscyAoc3BsaXQtcGF0aCAkc291cmNlZmlsZXNwYXRoIC1Ob1F1YWxpZmllcikgCiAgICAgICAgICAgIH0KICAgICAgICAgICAiYG5Db3B5IEZhaWxlZDoiOyItIiozMDskc291cmNlZmlsZXNwYXRoOyItIiozMAogICAgICAgIH0KfQoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKZnVuY3Rpb24gbW92ZWZpbGV0b2Fmb2xkZXIoJHNvdXJjZWZpbGVzcGF0aCwgJGRlc3RpbmF0aW9uZm9sZGVycGF0aCwgJGNmX2Rlc3RpbmF0aW9uZGlyZWN0b3J5KSB7CiAgIAogICAgaWYgKChUZXN0LXBhdGggJGRlc3RpbmF0aW9uZm9sZGVycGF0aCkgLWVxICRmYWxzZSkgewogICAgICAgICNpdCB3aWxsIGNoZWNrIGZvciBkZXN0aW5hdGlvbiBwYXRoIGlmIGl0IGRvZXMgbm90IGV4aXN0LgogICAgICAgIGlmICgoJGNmX2Rlc3RpbmF0aW9uZGlyZWN0b3J5IC1lcSAkZmFsc2UpKSB7CiAgICAgICAgICAgICMgYW5kIGNyZWF0ZSBkZXN0aW5hdGlvbiBkaXJlY3RvcnkgaXMgdHJ1ZSB0aGFuIG5ldyBkaXJlY3Rvcnkgd2lsbCBiZSBjcmVhdGVkLgogICAgICAgICAgICAiLSIqMzArImBuRGVzdGluYXRpb24gcGF0aCBwcm92aWRlZCBkb2VzIG5vdCBleGlzdCAkZGVzdGluYXRpb25mb2xkZXJwYXRoLFNjcmlwdCB3aWxsIG5vdyBleGl0LmBuIisiLSIqMzAKICAgICAgICAgICAgRXhpdDsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIENyZWF0ZV9EZXN0aW5hdGlvbnBhdGggLWRlc3RpbmF0aW9ucGF0aCAkZGVzdGluYXRpb25mb2xkZXJwYXRoIHwgT3V0LU51bGwKICAgICAgICB9CiAgICB9CgogICAgICAgIG1vdmUtaXRlbSAkc291cmNlZmlsZXNwYXRoIC1EZXN0aW5hdGlvbiAkZGVzdGluYXRpb25mb2xkZXJwYXRoIC1Gb3JjZSB8IG91dC1udWxsCiAgICAgICAgJGRlc3RpX3BhdGggPSBKb2luLXBhdGggJGRlc3RpbmF0aW9uZm9sZGVycGF0aCAoc3BsaXQtcGF0aCAkc291cmNlZmlsZXNwYXRoIC1MZWFmKQogICAgICAgIGlmIChUZXN0LXBhdGggJGRlc3RpX3BhdGgpIHsKICAgICAgICAgICAgaWYoJHNvdXJjZXBhdGggLWVxICJOZXR3b3JrIil7CiAgICAgICAgICAgICAgICAkc291cmNlZmlsZXNwYXRoID0gSm9pbi1QYXRoICRnbG9iYWw6b2dkcml2ZWRldGFpbHMgKHNwbGl0LXBhdGggJHNvdXJjZWZpbGVzcGF0aCAtTm9RdWFsaWZpZXIpIAogICAgICAgICAgICB9CiAgICAgICAgICAgICJgbk1vdmUgU3VjY2Vzc2Z1bDoiOyItIiozMDskc291cmNlZmlsZXNwYXRoOyItIiozMAogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgaWYoJHNvdXJjZXBhdGggLWVxICJOZXR3b3JrIil7CiAgICAgICAgICAgICAgICAkc291cmNlZmlsZXNwYXRoID0gSm9pbi1QYXRoICRnbG9iYWw6b2dkcml2ZWRldGFpbHMgKHNwbGl0LXBhdGggJHNvdXJjZWZpbGVzcGF0aCAtTm9RdWFsaWZpZXIpIAogICAgICAgICAgICB9CiAgICAgICAgICAgImBuTW92ZSBGYWlsZWQ6IjsiLSIqMzA7JHNvdXJjZWZpbGVzcGF0aDsiLSIqMzAKICAgICAgICB9Cn0gICAgCiAgICAKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAKICAgCkZ1bmN0aW9uIFJlbmFtZV9maWxlKCRyZW5hbWVwYXRoLCAkbmV3bmFtZSkgewogICAgaWYgKCgkbmV3bmFtZSAtbm90bGlrZSAiKi4qIikgLWFuZCAoJGZpbGVBY3Rpb24gLWVxICJyZW5hbWVhZmlsZSIpKSB7CiAgICAgICAgV3JpdGUtRXJyb3IgIlBsZWFzZSBwcm92aWRlIGZpbGUgZXh0ZW5zaW9uIHdpdGggZmlsZW5hbWUuIgogICAgICAgIEV4aXQ7CiAgICB9CiAgICAgCiAgICBSZW5hbWUtSXRlbSAtUGF0aCAkcmVuYW1lcGF0aCAtTmV3TmFtZSAkbmV3bmFtZQogICAgaWYgKCQ/KSB7CgogICAgICAgIGlmKCRzb3VyY2VwYXRoIC1lcSAiTmV0d29yayIpewogICAgICAgICAgICAkcmVuYW1lcGF0aCA9IEpvaW4tUGF0aCAkZ2xvYmFsOm9nZHJpdmVkZXRhaWxzIChzcGxpdC1wYXRoICRyZW5hbWVwYXRoIC1Ob1F1YWxpZmllcikKICAgICAgICB9CgogICAgICAgICJgblJlbmFtZSBTdWNjZXNzZnVsOiI7Ii0iKjMwOyRyZW5hbWVwYXRoOyItIiozMAogICAgfSAgICAgICAgIAp9CiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKICAgIApmdW5jdGlvbiBEZWxldGVfZmlsZXMoJHNvdXJjZWZpbGVwYXRoLCAkY29udF9lcnJvcikgewoKICAgICRmaWxlZGVsZXRlZCA9IEAoKQogICAgJGZhaWxlZHRvZGVsZXRlID0gQCgpCiAgICAkZGlzcGxheV9vcCA9IEAoKQogICAgJGRpc3BsYXlfb3BmYWlsID0gQCgpCgogICAgZm9yZWFjaCAoJGZpbGUgaW4gJHNvdXJjZWZpbGVwYXRoKSB7CgogICAgICAgIEdldC1pdGVtICRmaWxlIC1Gb3JjZSB8IFJlbW92ZS1JdGVtIC1Gb3JjZSAtRXJyb3JBY3Rpb24gU3RvcAogICAgICAgIAogICAgICAgIGlmICgoVGVzdC1wYXRoICRmaWxlKSAtZXEgJGZhbHNlKSB7CiAgICAgICAgICAgICRmaWxlZGVsZXRlZCArPSAkZmlsZSAgICAgICAgICAKICAgICAgICB9ICAgIAogICAgICAgIGVsc2UgewogICAgICAgICAgICAkZmFpbGVkdG9kZWxldGUgKz0gJGZpbGUgICAgICAgIAogICAgICAgIH0KICAgIH0KCiAgICBpZigkc291cmNlcGF0aCAtZXEgIk5ldHdvcmsiKXsKICAgICAgICBmb3JlYWNoKCRmaWxlIGluICRmaWxlZGVsZXRlZCl7ICAgICAKICAgICAgICAgICAgJGRpc3BsYXlfb3AgKz0gSm9pbi1QYXRoICRnbG9iYWw6b2dkcml2ZWRldGFpbHMgKHNwbGl0LXBhdGggJGZpbGUgLU5vUXVhbGlmaWVyKQogICAgICAgIH0KICAgICAgICBmb3JlYWNoKCRmaWxlIGluICRmYWlsZWR0b2RlbGV0ZSl7ICAgICAKICAgICAgICAgICAgJGRpc3BsYXlfb3BmYWlsICs9IEpvaW4tUGF0aCAkZ2xvYmFsOm9nZHJpdmVkZXRhaWxzIChzcGxpdC1wYXRoICRmaWxlIC1Ob1F1YWxpZmllcikKICAgICAgICB9CiAgICAgICAgaWYgKCRkaXNwbGF5X29wLmxlbmd0aCAtZ3QgMCkgewogICAgICAgICAgICAiYG5EZWxldGlvbiBTdWNjZXNzZnVsOiI7Ii0iKjMwOyRkaXNwbGF5X29wOyItIiozMAogICAgICAgIH0KICAgICAgICBpZiAoJGRpc3BsYXlfb3BmYWlsLmxlbmd0aCAtZ3QgMCkgewogICAgICAgICAgICAiYG5EZWxldGlvbiBGYWlsZWQ6IjsiLSIqMzA7JGRpc3BsYXlfb3BmYWlsOyItIiozMAogICAgICB9CgogICAgfQogICAgZWxzZXsKCiAgICBpZiAoJGZpbGVkZWxldGVkLmxlbmd0aCAtZ3QgMCkgewogICAgICAgImBuRGVsZXRpb24gU3VjY2Vzc2Z1bDoiOyItIiozMDskZmlsZWRlbGV0ZWQ7Ii0iKjMwCiAgICB9CiAgICBpZiAoJGZhaWxlZHRvZGVsZXRlLmxlbmd0aCAtZ3QgMCkgewogICAgICAgICJgbkRlbGV0aW9uIEZhaWxlZDoiOyItIiozMDskZmFpbGVkdG9kZWxldGU7Ii0iKjMwCiAgICB9CiAgfQp9CiAgCiBmdW5jdGlvbiBEZWxldGVfZmlsZSgkc291cmNlZmlsZXBhdGgpIHsKCiAgICAgICAgR2V0LWl0ZW0gJHNvdXJjZWZpbGVwYXRoIC1Gb3JjZSB8IFJlbW92ZS1JdGVtIC1Gb3JjZSAtRXJyb3JBY3Rpb24gU3RvcAoKICAgICAgICBpZigkc291cmNlcGF0aCAtZXEgIk5ldHdvcmsiKXsKICAgICAgICAgICAgJHNvdXJjZWZpbGVwYXRoID0gSm9pbi1QYXRoICRnbG9iYWw6b2dkcml2ZWRldGFpbHMgKHNwbGl0LXBhdGggJHNvdXJjZWZpbGVwYXRoIC1Ob1F1YWxpZmllcikKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYgKChUZXN0LXBhdGggJHNvdXJjZWZpbGVwYXRoKSAtZXEgJGZhbHNlKSB7CiAgICAgICAgICAgICItIiozMCsiYG5GaWxlIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5IDogJHNvdXJjZWZpbGVwYXRoYG4iKyItIiozMAogICAgICAgICAgICAKICAgICAgICB9IAogICAgCiAgICBlbHNlewogICAgICAgIFdyaXRlLUVycm9yICJFcnJvciB3aGlsZSBkZWxldGluZyBmaWxlICRzb3VyY2VmaWxlcGF0aC4iCiAgICAgICAgCiAgICB9Cn0gICAKZnVuY3Rpb24gRGVsZXRlX2ZvbGRlcigkc291cmNlZm9sZGVycGF0aCkgewogICAgICAgIAogICAgdHJ5IHsKICAgICAgICBHZXQtaXRlbSAkc291cmNlZm9sZGVycGF0aCAtRm9yY2UgfCBSZW1vdmUtSXRlbSAtZm9yY2UgLVJlY3Vyc2UgLUVycm9yQWN0aW9uIFN0b3AKCiAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgIGlmICgoVGVzdC1wYXRoICRzb3VyY2Vmb2xkZXJwYXRoKSAtZXEgJGZhbHNlKSB7CiAgICAgICAgICAgIGlmKCRzb3VyY2VwYXRoIC1lcSAiTmV0d29yayIpewogICAgICAgICAgICAkc291cmNlZm9sZGVycGF0aCA9IEpvaW4tUGF0aCAkZ2xvYmFsOm9nZHJpdmVkZXRhaWxzIChzcGxpdC1wYXRoICRzb3VyY2Vmb2xkZXJwYXRoIC1Ob1F1YWxpZmllcikKICAgICAgICAgICAgfQogICAgICAgICAgICAiYG5Gb2xkZXIgRGVsZXRlZDoiOyItIiozMDskc291cmNlZm9sZGVycGF0aDsiLSIqMzAKICAgICAgICB9IAogICAgfQogICAgY2F0Y2ggewogICAgICAgICJgbkZhaWxlZCB0byBkZWxldGUgZm9sZGVyOiI7Ii0iKjMwOyRzb3VyY2Vmb2xkZXJwYXRoOyItIiozMAogICAgfQp9CiAgICAgICAgCmZ1bmN0aW9uIENvcHlfZm9sZGVydG9mb2xkZXIoJHNvdXJjZWZvbGRlcnBhdGgsICRkZXN0aW5hdGlvbmZvbGRlcnBhdGgsJGNyZWF0ZWRlc3QpIHsKICAgICRmb2xkZXJuYW1lID0gc3BsaXQtcGF0aCAkc291cmNlZm9sZGVycGF0aCAtbGVhZgogICAgJHRlbXBwYXRoID0gIiRkZXN0aW5hdGlvbmZvbGRlcnBhdGgiICsgIlwiICsgIiRmb2xkZXJuYW1lIgoKICAgICBpZiAoKFRlc3QtcGF0aCAkZGVzdGluYXRpb25mb2xkZXJwYXRoKSAtZXEgJGZhbHNlKSB7CiAgICAgICAgI2l0IHdpbGwgY2hlY2sgZm9yIGRlc3RpbmF0aW9uIHBhdGggaWYgaXQgZG9lcyBub3QgZXhpc3QuCiAgICAgICAgaWYgKCgkY3JlYXRlZGVzdCAtZXEgJGZhbHNlKSkgewogICAgICAgICAgICAjIGFuZCBjcmVhdGUgZGVzdGluYXRpb24gZGlyZWN0b3J5IGlzIHRydWUgdGhhbiBuZXcgZGlyZWN0b3J5IHdpbGwgYmUgY3JlYXRlZC4KICAgICAgICAgICAgIi0iKjMwKyJgbkRlc3RpbmF0aW9uIHBhdGggcHJvdmlkZWQgZG9lcyBub3QgZXhpc3QgJGRlc3RpbmF0aW9uZm9sZGVycGF0aCxTY3JpcHQgd2lsbCBub3cgZXhpdC5gbiIrIi0iKjMwCiAgICAgICAgICAgIEV4aXQ7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBDcmVhdGVfRGVzdGluYXRpb25wYXRoIC1kZXN0aW5hdGlvbnBhdGggJGRlc3RpbmF0aW9uZm9sZGVycGF0aCB8IE91dC1OdWxsCiAgICAgICAgfQogICAgfQogICAgICAgIENvcHktaXRlbSAkc291cmNlZm9sZGVycGF0aCAtRGVzdGluYXRpb24gJGRlc3RpbmF0aW9uZm9sZGVycGF0aCAtUmVjdXJzZQoKICAgIGlmKCRzb3VyY2VwYXRoIC1lcSAiTmV0d29yayIpewogICAgICAgICRzb3VyY2Vmb2xkZXJwYXRoID0gSm9pbi1QYXRoICRnbG9iYWw6b2dkcml2ZWRldGFpbHMgKHNwbGl0LXBhdGggJHNvdXJjZWZvbGRlcnBhdGggLU5vUXVhbGlmaWVyKQogICAgfQogICAgCiAgICBpZiAoVGVzdC1wYXRoICR0ZW1wcGF0aCkgewogICAgICAgICJgbkNvcHkgU3VjY2Vzc2Z1bDoiOyItIiozMDskc291cmNlZm9sZGVycGF0aDsiLSIqMzAKICAgIH0gCiAgICBlbHNlewogICAgICAgICJgbkNvcHkgRmFpbGVkOiI7Ii0iKjMwOyRzb3VyY2Vmb2xkZXJwYXRoOyItIiozMAogICAgfSAKfQogICAgCmZ1bmN0aW9uIE1vdmVfZm9sZGVydG9mb2xkZXIoJHNvdXJjZWZvbGRlcnBhdGgsICRkZXN0aW5hdGlvbmZvbGRlcnBhdGgsJGNyZWF0ZWRlc3QpIHsKICAgICRmb2xkZXJuYW1lID0gc3BsaXQtcGF0aCAkc291cmNlZm9sZGVycGF0aCAtbGVhZgogICAgJHRlbXBwYXRoID0gIiRkZXN0aW5hdGlvbmZvbGRlcnBhdGgiICsgIlwiICsgIiRmb2xkZXJuYW1lIgoKICAgICBpZiAoKFRlc3QtcGF0aCAkZGVzdGluYXRpb25mb2xkZXJwYXRoKSAtZXEgJGZhbHNlKSB7CiAgICAgICAgI2l0IHdpbGwgY2hlY2sgZm9yIGRlc3RpbmF0aW9uIHBhdGggaWYgaXQgZG9lcyBub3QgZXhpc3QuCiAgICAgICAgaWYgKCgkY3JlYXRlZGVzdCAtZXEgJGZhbHNlKSkgewogICAgICAgICAgICAjIGFuZCBjcmVhdGUgZGVzdGluYXRpb24gZGlyZWN0b3J5IGlzIHRydWUgdGhhbiBuZXcgZGlyZWN0b3J5IHdpbGwgYmUgY3JlYXRlZC4KICAgICAgICAgICAgIi0iKjMwKyJgbkRlc3RpbmF0aW9uIHBhdGggcHJvdmlkZWQgZG9lcyBub3QgZXhpc3QgJGRlc3RpbmF0aW9uZm9sZGVycGF0aCxTY3JpcHQgd2lsbCBub3cgZXhpdC5gbiIrIi0iKjMwCiAgICAgICAgICAgIEV4aXQ7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBDcmVhdGVfRGVzdGluYXRpb25wYXRoIC1kZXN0aW5hdGlvbnBhdGggJGRlc3RpbmF0aW9uZm9sZGVycGF0aCB8IE91dC1OdWxsCiAgICAgICAgfQogICAgfQogICAgICAgIE1vdmUtaXRlbSAkc291cmNlZm9sZGVycGF0aCAtRGVzdGluYXRpb24gJGRlc3RpbmF0aW9uZm9sZGVycGF0aAogICAgCiAgICBpZigkc291cmNlcGF0aCAtZXEgIk5ldHdvcmsiKXsKICAgICRzb3VyY2Vmb2xkZXJwYXRoID0gSm9pbi1QYXRoICRnbG9iYWw6b2dkcml2ZWRldGFpbHMgKHNwbGl0LXBhdGggJHNvdXJjZWZvbGRlcnBhdGggLU5vUXVhbGlmaWVyKQogICAgfQoKICAgIGlmIChUZXN0LXBhdGggJHRlbXBwYXRoKSB7CiAgICAgICAgImBuTW92ZSBTdWNjZXNzZnVsOiI7Ii0iKjMwOyRzb3VyY2Vmb2xkZXJwYXRoOyItIiozMAogICAgfSAKICAgIGVsc2V7CiAgICAgICAgImBuTW92ZSBGYWlsZWQ6IjsiLSIqMzA7JHNvdXJjZWZvbGRlcnBhdGg7Ii0iKjMwCiAgICB9IAp9CgpGdW5jdGlvbiBTZWxlY3RfT3BlcmF0aW9uIHsKCiAgICBzd2l0Y2ggKCRmaWxlYWN0aW9uKSB7CgogICAgICAgICJjb3B5ZmlsZXN0b2Fmb2xkZXIiIHsgY29weWZpbGVzdG9hZm9sZGVyIC1zb3VyY2VmaWxlc3BhdGggJHNvdXJjZWZpbGUgLWRlc3RpbmF0aW9uZm9sZGVycGF0aCAkZGVzdGluYXRpb25maWxlIC1jZl9jb250aW51ZW9uZXJyb3IgJGNvbnRpbnVlb25lcnJvciAtY2ZfZGVzdGluYXRpb25kaXJlY3RvcnkgJENyZWF0ZURlc3REaXJlY3RvcnkgfQogICAgICAgICJjb3B5YWZpbGUiIHsgY29weWZpbGV0b2Fmb2xkZXIgLXNvdXJjZWZpbGVzcGF0aCAkc291cmNlZmlsZSAtZGVzdGluYXRpb25mb2xkZXJwYXRoICRkZXN0aW5hdGlvbmZpbGUgLWNmX2Rlc3RpbmF0aW9uZGlyZWN0b3J5ICRDcmVhdGVEZXN0RGlyZWN0b3J5fQogICAgICAgICJjb3B5YWZvbGRlciIge0NvcHlfZm9sZGVydG9mb2xkZXIgLXNvdXJjZWZvbGRlcnBhdGggJHNvdXJjZWZpbGUgLWRlc3RpbmF0aW9uZm9sZGVycGF0aCAkZGVzdGluYXRpb25maWxlIC1jcmVhdGVkZXN0ICRDcmVhdGVEZXN0RGlyZWN0b3J5fQogICAgICAgICJyZW5hbWVhZmlsZSIge1JlbmFtZV9maWxlIC1yZW5hbWVwYXRoICRzb3VyY2VmaWxlIC1uZXduYW1lICRuZXduYW1lfQogICAgICAgICJtb3ZlYWZpbGUiIHsgbW92ZWZpbGV0b2Fmb2xkZXIgLXNvdXJjZWZpbGVzcGF0aCAkc291cmNlZmlsZSAtZGVzdGluYXRpb25mb2xkZXJwYXRoICRkZXN0aW5hdGlvbmZpbGUgLWNmX2Rlc3RpbmF0aW9uZGlyZWN0b3J5ICRDcmVhdGVEZXN0RGlyZWN0b3J5fQogICAgICAgICJtb3ZlZm9sZGVyIiB7TW92ZV9mb2xkZXJ0b2ZvbGRlciAtc291cmNlZm9sZGVycGF0aCAkc291cmNlZmlsZSAtZGVzdGluYXRpb25mb2xkZXJwYXRoICRkZXN0aW5hdGlvbmZpbGUgLWNyZWF0ZWRlc3QgJENyZWF0ZURlc3REaXJlY3Rvcnl9CiAgICAgICAgInJlbmFtZWFmb2xkZXIiIHsgUmVuYW1lX2ZpbGUgLXJlbmFtZXBhdGggJHNvdXJjZWZpbGUgLW5ld25hbWUgJG5ld25hbWV9CiAgICAgICAgImRlbGV0ZWFmaWxlIiB7IERlbGV0ZV9maWxlIC1zb3VyY2VmaWxlcGF0aCAkc291cmNlZmlsZX0KICAgICAgICAiZGVsZXRlZmlsZXMiIHtEZWxldGVfZmlsZXMgLXNvdXJjZWZpbGVwYXRoICRzb3VyY2VmaWxlIC1jb250X2Vycm9yICRjb250aW51ZW9uZXJyb3J9CiAgICAgICAgImRlbGV0ZWFmb2xkZXIiIHsgRGVsZXRlX2ZvbGRlciAtc291cmNlZm9sZGVycGF0aCAkc291cmNlZmlsZX0KICAgIH0KCn0KICAgICAgICAgCnRyeSB7CiAgICBzd2l0Y2ggKCJOZXR3b3JrIikgewogIAogICAgICAgICRzb3VyY2VwYXRoIHsgICAgCiAgICAgICAgICAgIFNlbGVjdF9PcGVyYXRpb24KICAgICAgICB9CiAgICAgICAgJGRlc3RpbmF0aW9ucGF0aCB7CiAgICAgICAgICAgIFNlbGVjdF9PcGVyYXRpb24KICAgICAgICB9CiAgICAgICAgRGVmYXVsdCB7CiAgICAgICAgICAgIFNlbGVjdF9PcGVyYXRpb24KICAgICAgICB9CiAgICB9Cn0KY2F0Y2ggeyB9CkZpbmFsbHkgeyBNYXBfbmV0d29ya2RyaXZlIC1BY3Rpb24gIlJlbW92ZSIgLURyaXZlICRnbG9iYWw6bmV3ZHJpdmUgfQoKCgoK","jsonSchema":{"additionalproperties":false,"dependencies":{"fileAction":{"oneOf":[{"dependencies":{"destinationpath":{"oneOf":[{"properties":{"destinationpath":{"enum":["network"]},"password":{"title":"Password","type":"string"},"username":{"title":"User Name","type":"string"}}},{"properties":{"destinationpath":{"enum":["local"]}}}]},"sourcepath":{"oneOf":[{"properties":{"password":{"title":"Password","type":"string"},"sourcepath":{"enum":["network"]},"username":{"title":"User Name","type":"string"}}},{"properties":{"sourcepath":{"enum":["local"]}}}]}},"properties":{"CreateDestDirectory":{"default":false,"title":"Create Destination Directory if doesn't Exist","type":"boolean"},"Overwrite":{"default":false,"title":"Overwrite Existing File","type":"boolean"},"destinationfile":{"title":"Destination file","type":"string"},"destinationpath":{"enum":["network","local"],"enumNames":["Network","Local"],"title":"Destination Path","type":"string"},"fileAction":{"enum":["copyafile"]},"includeHiddenFile":{"default":false,"title":"Include Hidden File","type":"boolean"},"includeReadOnlyFile":{"default":false,"title":"Include Read Only File","type":"boolean"},"includeSystemFile":{"default":false,"title":"Include System File","type":"boolean"},"sourcefile":{"title":"Source file","type":"string"},"sourcepath":{"enum":["network","local"],"enumNames":["Network","Local"],"title":"Source Path","type":"string"}},"required":["sourcepath","destinationpath"]},{"dependencies":{"destinationpath":{"oneOf":[{"properties":{"destinationpath":{"enum":["network"]},"password":{"title":"Password","type":"string"},"username":{"title":"User Name","type":"string"}}},{"properties":{"destinationpath":{"enum":["local"]}}}]},"sourcepath":{"oneOf":[{"properties":{"password":{"title":"Password","type":"string"},"sourcepath":{"enum":["network"]},"username":{"title":"User Name","type":"string"}}},{"properties":{"sourcepath":{"enum":["local"]}}}]}},"properties":{"CreateDestDirectory":{"default":false,"title":"Create Destination Directory if doesn't Exist","type":"boolean"},"Overwrite":{"default":false,"title":"Overwrite Existing File","type":"boolean"},"continueonerror":{"default":false,"title":"Continue on error","type":"boolean"},"destinationfile":{"title":"Destination folder","type":"string"},"destinationpath":{"enum":["network","local"],"enumNames":["Network","Local"],"title":"Destination Path","type":"string"},"fileAction":{"enum":["copyfilestoafolder"]},"includeHiddenFile":{"default":false,"title":"Include Hidden File","type":"boolean"},"includeReadOnlyFile":{"default":false,"title":"Include Read Only File","type":"boolean"},"includeSystemFile":{"default":false,"title":"Include System File","type":"boolean"},"sourcefile":{"title":"Source files","type":"string"},"sourcepath":{"enum":["network","local"],"enumNames":["Network","Local"],"title":"Source Path","type":"string"}},"required":["sourcepath","destinationpath"]},{"dependencies":{"destinationpath":{"oneOf":[{"properties":{"destinationpath":{"enum":["network"]},"password":{"title":"Password","type":"string"},"username":{"title":"User Name","type":"string"}}},{"properties":{"destinationpath":{"enum":["local"]}}}]},"sourcepath":{"oneOf":[{"properties":{"password":{"title":"Password","type":"string"},"sourcepath":{"enum":["network"]},"username":{"title":"User Name","type":"string"}}},{"properties":{"sourcepath":{"enum":["local"]}}}]}},"properties":{"CreateDestDirectory":{"default":false,"title":"Create Destination Directory if doesn't Exist","type":"boolean"},"continueonerror":{"default":false,"title":"Continue on error","type":"boolean"},"destinationfile":{"title":"Destination folder","type":"string"},"destinationpath":{"enum":["network","local"],"enumNames":["Network","Local"],"title":"Destination Path","type":"string"},"fileAction":{"enum":["copyafolder"]},"sourcefile":{"title":"Source folder","type":"string"},"sourcepath":{"enum":["network","local"],"enumNames":["Network","Local"],"title":"Source Path","type":"string"}},"required":["sourcepath","destinationpath"]},{"dependencies":{"sourcepath":{"oneOf":[{"properties":{"password":{"title":"Password","type":"string"},"sourcepath":{"enum":["network"]},"username":{"title":"User Name2","type":"string"}}},{"properties":{"sourcepath":{"enum":["local"]}}}]}},"properties":{"fileAction":{"enum":["renameafile"]},"newname":{"title":"Rename As","type":"string"},"sourcefile":{"title":"Source file","type":"string"},"sourcepath":{"enum":["network","local"],"enumNames":["Network","Local"],"title":"Source Path","type":"string"}},"required":["sourcepath"]},{"dependencies":{"destinationpath":{"oneOf":[{"properties":{"destinationpath":{"enum":["network"]},"password":{"title":"Password","type":"string"},"username":{"title":"User Name","type":"string"}}},{"properties":{"destinationpath":{"enum":["local"]}}}]},"sourcepath":{"oneOf":[{"properties":{"password":{"title":"Password","type":"string"},"sourcepath":{"enum":["network"]},"username":{"title":"User Name","type":"string"}}},{"properties":{"sourcepath":{"enum":["local"]}}}]}},"properties":{"CreateDestDirectory":{"default":false,"title":"Create Destination Directory if doesn't Exist","type":"boolean"},"Overwrite":{"default":false,"title":"Overwrite Existing File","type":"boolean"},"destinationfile":{"title":"Destination file","type":"string"},"destinationpath":{"enum":["network","local"],"enumNames":["Network","Local"],"title":"Destination Path","type":"string"},"fileAction":{"enum":["moveafile"]},"includeHiddenFile":{"default":false,"title":"Include Hidden File","type":"boolean"},"includeReadOnlyFile":{"default":false,"title":"Include Read Only File","type":"boolean"},"includeSystemFile":{"default":false,"title":"Include System File","type":"boolean"},"sourcefile":{"title":"Source file","type":"string"},"sourcepath":{"enum":["network","local"],"enumNames":["Network","Local"],"title":"Source Path","type":"string"}},"required":["sourcepath","destinationpath"]},{"dependencies":{"sourcepath":{"oneOf":[{"properties":{"password":{"title":"Password","type":"string"},"sourcepath":{"enum":["network"]},"username":{"title":"User Name","type":"string"}}},{"properties":{"sourcepath":{"enum":["local"]}}}]}},"properties":{"fileAction":{"enum":["renameafolder"]},"newname":{"title":"Rename As","type":"string"},"sourcefile":{"title":"Source folder","type":"string"},"sourcepath":{"enum":["network","local"],"enumNames":["Network","Local"],"title":"Source Path","type":"string"}},"required":["sourcepath"]},{"dependencies":{"destinationpath":{"oneOf":[{"properties":{"destinationpath":{"enum":["network"]},"password":{"title":"Password","type":"string"},"username":{"title":"User Name","type":"string"}}},{"properties":{"destinationpath":{"enum":["local"]}}}]},"sourcepath":{"oneOf":[{"properties":{"password":{"title":"Password","type":"string"},"sourcepath":{"enum":["network"]},"username":{"title":"User Name","type":"string"}}},{"properties":{"sourcepath":{"enum":["local"]}}}]}},"properties":{"CreateDestDirectory":{"default":false,"title":"Create Destination Directory if doesn't Exist","type":"boolean"},"destinationfile":{"title":"Destination folder","type":"string"},"destinationpath":{"enum":["network","local"],"enumNames":["Network","Local"],"title":"Destination Path","type":"string"},"fileAction":{"enum":["movefolder"]},"sourcefile":{"title":"Source folder","type":"string"},"sourcepath":{"enum":["network","local"],"enumNames":["Network","Local"],"title":"Source Path","type":"string"}},"required":["sourcepath","destinationpath"]},{"dependencies":{"sourcepath":{"oneOf":[{"properties":{"password":{"title":"Password","type":"string"},"sourcepath":{"enum":["network"]},"username":{"title":"User Name","type":"string"}}},{"properties":{"sourcepath":{"enum":["local"]}}}]}},"properties":{"fileAction":{"enum":["deleteafile"]},"includeHiddenFile":{"default":false,"title":"Include Hidden File","type":"boolean"},"includeReadOnlyFile":{"default":false,"title":"Include Read Only File","type":"boolean"},"includeSystemFile":{"default":false,"title":"Include System File","type":"boolean"},"sourcefile":{"title":"Source file","type":"string"},"sourcepath":{"enum":["network","local"],"enumNames":["Network","Local"],"title":"Source Path","type":"string"}},"required":["sourcepath"]},{"dependencies":{"sourcepath":{"oneOf":[{"properties":{"password":{"title":"Password","type":"string"},"sourcepath":{"enum":["network"]},"username":{"title":"User Name","type":"string"}}},{"properties":{"sourcepath":{"enum":["local"]}}}]}},"properties":{"continueonerror":{"default":false,"title":"Continue on error","type":"boolean"},"fileAction":{"enum":["deletefiles"]},"includeHiddenFile":{"default":false,"title":"Include Hidden File","type":"boolean"},"includeReadOnlyFile":{"default":false,"title":"Include Read Only File","type":"boolean"},"includeSystemFile":{"default":false,"title":"Include System File","type":"boolean"},"sourcefile":{"title":"Source files","type":"string"},"sourcepath":{"enum":["network","local"],"enumNames":["Network","Local"],"title":"Source Path","type":"string"}},"required":["sourcepath"]},{"dependencies":{"sourcepath":{"oneOf":[{"properties":{"password":{"title":"Password","type":"string"},"sourcepath":{"enum":["network"]},"username":{"title":"User Name","type":"string"}}},{"properties":{"sourcepath":{"enum":["local"]}}}]}},"properties":{"fileAction":{"enum":["deleteafolder"]},"sourcefile":{"title":"Source folder","type":"string"},"sourcepath":{"enum":["network","local"],"enumNames":["Network","Local"],"title":"Source Path","type":"string"}},"required":["sourcepath"]}]},"fileModification":{"oneOf":[{"properties":{"fileModification":{"enum":["modifiedBefore","modifiedAfter","modifiedOn","lastAccessedBefore","lastAccessedAfter","lastAccessedOn"]},"modificationDate":{"format":"date","title":"Date","type":"string"}},"required":["modificationDate"]},{"properties":{"fileModification":{"enum":["modifiedOlderthanXdays","createdOlderthanXdays"]},"modificationDays":{"title":"Days","type":"number"}},"required":["modificationDays"]},{"properties":{"endDate":{"format":"date","title":"End Date","type":"string"},"fileModification":{"enum":["lastAccessedBetween","modifiedBetween"]},"startDate":{"format":"date","title":"Start Date","type":"string"}},"required":["startDate","endDate"]}]}},"patternproperties":{"^continueonerror$":{},"^destinationfile$":{},"^destinationpath$":{},"^endDate$":{},"^modificationDate$":{},"^modificationDays$":{},"^newname$":{},"^password$":{},"^sourcefile$":{},"^sourcepath$":{},"^startDate$":{},"^username$":{}},"properties":{"fileAction":{"enum":["copyafile","copyfilestoafolder","copyafolder","renameafile","moveafile","renameafolder","movefolder","deleteafile","deletefiles","deleteafolder"],"enumNames":["Copy a file","Copy files to a folder","Copya folder","Rename a file","Move a file","Rename a folder","Move folder","Delete a file","Delete files","Delete a folder"],"title":"File Action Type","type":"string"},"fileModification":{"enum":["modifiedBefore","modifiedAfter","modifiedOn","modifiedBetween","modifiedOlderthanXdays","lastAccessedBefore","lastAccessedAfter","lastAccessedOn","lastAccessedBetween","createdOlderthanXdays"],"enumNames":["Modified Before","Modified After","Modified On","Modified Between","Modified Older than X days","Last Accessed Before","Last Accessed After","Last Accessed On","Last Accessed Between","Created Older than X days"],"title":"Choose file Modification","type":"string"}},"required":["fileAction"],"type":"object"},"uiSchema":{"CreateDestDirectory":{"classNames":"col-sm-4","ui:autofocus":true},"Overwrite":{"classNames":"col-sm-4","ui:autofocus":true},"continueonerror":{"classNames":"col-sm-4","ui:autofocus":true},"destinationfile":{"classNames":"col-sm-9","ui:autofocus":true,"ui:help":"Example : Local Path = C:\\folder\\... Network Path = \\\\computername\\\\folder\\"},"destinationpath":{"classNames":"col-sm-3","ui:autofocus":true,"ui:placeholder":"Select path"},"endDate":{"classNames":"col-sm-3","ui:autofocus":true},"fileAction":{"classNames":"col-sm-12","ui:autofocus":true,"ui:placeholder":"Select Operation"},"fileModification":{"classNames":"col-sm-6","ui:autofocus":true,"ui:placeholder":"Select"},"includeHiddenFile":{"classNames":"col-sm-4","ui:autofocus":true},"includeReadOnlyFile":{"classNames":"col-sm-4","ui:autofocus":true},"includeSystemFile":{"classNames":"col-sm-4"},"modificationDate":{"classNames":"col-sm-4","ui:autofocus":true},"modificationDays":{"classNames":"col-sm-4","ui:autofocus":true},"newname":{"classNames":"col-sm-9 col-sm-offset-3","ui:autofocus":true},"password":{"classNames":"col-sm-6","ui:widget":"password"},"sourcefile":{"classNames":"col-sm-9","ui:autofocus":true,"ui:help":"Example : Local Path = C:\\folder\\... Network Path = \\\\computername\\\\folder\\... and for multiple file & folder separate it by comma(,)"},"sourcepath":{"classNames":"col-sm-3","ui:autofocus":true,"ui:placeholder":"Select path"},"startDate":{"classNames":"col-sm-3","ui:autofocus":true},"ui:order":["fileAction","sourcepath","sourcefile","newname","destinationpath","destinationfile","username","password","includeSystemFile","includeReadOnlyFile","includeHiddenFile","Overwrite","continueonerror","CreateDestDirectory","fileModification","modificationDate","modificationDays","startDate","endDate"],"username":{"classNames":"col-sm-6","validationSchema":{"notEmpty":"username","required":["password"],"type":"requiredFieldsIfNotEmpty"}}},"isHDScript":false}

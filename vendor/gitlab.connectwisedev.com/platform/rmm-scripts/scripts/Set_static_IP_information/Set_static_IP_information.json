{"id":"155548e4-8377-11e9-aff3-00155d130b89","partnerId":"00000000-0000-0000-0000-000000000000","category":["Staging"],"description":"Set static IP information","engine":"powershell","engineMaxVersion":5,"expectedExecutionTimeSec":300,"failureMessage":"Executed with errors","successMessage":"Successfully Executed","internal":false,"name":"Set static IP information","tags":["Windows 7","Windows 10"],"sequence":true,"content":"JEdsb2JhbDpTdGRlcnIgPSBAKCkNCiRHbG9iYWw6Q2hhbmdlc19SZXN1bHRfc3Rkb3V0ID0gQCgpDQokR2xvYmFsOkZvcm1hdF9DaGVjayA9IEAoKQ0KJEdsb2JhbDpDaGFuZ2VkX0RhdGEgID0gQCgpDQokR2xvYmFsOkNoYW5nZXNfUmVzdWx0ID0gQCgpDQokR2xvYmFsOkhhc2hUYWJsZV9EYXRhID0gQCgpDQokR2xvYmFsOkludmFsaWQxID0gQHt9DQokR0xvYmFsOkdhdGV3YXlPZmZsaW5lID0gJG51bGwNCg0KIzQwLjEwMC4xMzcuODINCiNBY3RpdmUgSVAgaW4gUHVibGljDQojNDAuMTAwLjE0MS4xNjINCg0KI0FjdGl2ZSBJUFY2DQojZmU4MDo6NTU1OjFiMmU6OGI2MTplYjEzDQoNCiMgQ29ycmVjdCBGb3JtYXQNCiMyMDAxOjQ4NjA6NDg2MDo6ODg4OA0KDQokRXJyb3JBY3Rpb25QcmVmZXJlbmNlID0gJ3NpbGVudGx5Y29udGludWUnDQoNCiRBZGFwdGVyX05hbWUgPSAkbnVsbA0KJEFkZHJlc3NfVHlwZV9JUHY0X0lQdjYgPSAkbnVsbA0KJElQdjRfT1JfSVB2Nl9BZGRyZXNzID0gJE5VTEwNCiRJUHY0X09SX0lQdjZfR2F0ZXdheSA9ICROVUxMDQokSVB2NF9TdWJuZXRfTWFza19PUl9JUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoID0gJE5VTEwNCg0KIyRBZGFwdGVyX05hbWUgPSAnV2lyZWxlc3MgTmV0d29yayBDb25uZWN0aW9uJw0KIyRBZGRyZXNzX1R5cGVfSVB2NF9JUHY2ID0gJ0lQVjQnDQoNCiMkSVB2NF9PUl9JUHY2X0FkZHJlc3MgPSAnNDAuMTAwLjEzNy44MicNCiMkSVB2NF9PUl9JUHY2X0dhdGV3YXkgPSAnNDAuMTAwLjE0MS4xNjInDQoNCiMkSVB2NF9TdWJuZXRfTWFza19PUl9JUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoID0gJzI1NS4wLjAuMCcNCg0KDQokSVB2NF9TdWJuZXRfTWFzayA9ICRJUHY0X1N1Ym5ldF9NYXNrX09SX0lQdjZfU3VibmV0X1ByZWZpeF9MZW5ndGgNCiRJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoID0gJElQdjRfU3VibmV0X01hc2tfT1JfSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aA0KDQoNCg0KIyMjIyMjIyMjIyMjIyMjIyMjIyMjIEpTT04gQ29udmVydCBTdGFydA0KZnVuY3Rpb24gSlNPTk91dFB1dENhbGx7DQokR2xvYmFsOkludmFsaWQxID0gQHt9DQojIyMjIyMgaWYgbm8gcmV0dXJuDQoNCmlmKCRHTG9iYWw6QWRhcHRlclZhbGlkYXRpb24gLWVxICdZRVMnKQ0Kew0KI3dyaXRlLWhvc3QgJ1ZhbGlkIEFkYXB0ZXInDQppZigkR0xvYmFsOkdhdGV3YXlPZmZsaW5lIC1lcSAnWUVTJykNCnsNCg0KJFN0ZGVyciA9IEdldF9zdGRlcnIgLVRpdGxlICdQcm92aWRlIEdhdGV3YXkgaXMgb2ZmbGluZScgLWRldGFpbHMgIlByb3ZpZGVkIEdhdGV3YXkgQWRkcmVzcyBbJElQdjRfT1JfSVB2Nl9HYXRld2F5XSINCg0KJEhhc2hEYXRhID0gSGFzaFRhYmxlX0FycmF5X0pTT04gLXRhc2tOYW1lICdTZXQgc3RhdGljIElQIGluZm9ybWF0aW9uJyAtc3RhdHVzICdGYWlsZWQnIC1Db2RlICcxJyAtc3Rkb3V0ICJQcm92aWRlIEdhdGV3YXkgaXMgb2ZmbGluZSBoZW5jZSBjYW4ndCBwcm9jZXNzIGZ1cnRoZXIiIC1zdGRlcnIgJFN0ZGVyciAtcmVzdWx0ICdFcnJvcjogUHJvdmlkZSBHYXRld2F5IGlzIG9mZmxpbmUnDQokSlNPTjIgPSAkSGFzaERhdGENCg0KfWVsc2V7DQoNCmlmKCRHbG9iYWw6SGFzaFRhYmxlX0RhdGEuY291bnQgLWVxIDApDQp7DQoNCiMjIyMjIyBpZiBGb3JtYXQgaXMgY29ycmVjdA0KICAgIGlmKCRHbG9iYWw6Rm9ybWF0X0NoZWNrIHwgJSB7JF8gLW5vdGxpa2UgJyppbnZhbGlkKid9KQ0KICAgIHsNCiAgICAgICAgIyMjIyMjIGlmIGFsbCBjb21tYW5kIHN1Y2Nlc3MgZXhlY3V0ZWQNCiAgICAgICAgJERhdGFTdWNjZXNzID0gJEdsb2JhbDpDaGFuZ2VzX1Jlc3VsdCB8ICUgeyRfLnJlc3VsdH0gfCA/IHskX30NCiAgICAgICAgDQogICAgICAgIGlmKCgkRGF0YVN1Y2Nlc3MgLWNsaWtlICdTdWNjZXNzZnVsbHkgQ2hhbmdlZCcpLmNvdW50IC1ndCAwIC1vciAgKCgkRGF0YVN1Y2Nlc3MgLWNsaWtlICdTdWNjZXNzZnVsbHkgQ2hhbmdlZCcpIC1lcSAkdHJ1ZSkgLW9yICgkRGF0YVN1Y2Nlc3MgLWVxICROdWxsKSkNCiAgICAgICAgeyMjIyMjIEZpbmFsIEFkYXB0ZXIgU2V0dGluZ3MNCiAgICAgICAgIyRHbG9iYWw6Q2hhbmdlZF9EYXRhDQogICAgICAgICRPYmplY3QgPSAkR2xvYmFsOkNoYW5nZWRfRGF0YS5jb3VudA0KICAgICAgICAkSGFzaERhdGEgPSBIYXNoVGFibGVfQXJyYXlfSlNPTiAtSGVhZGluZ1VuZGVyX2RhdGFPYmplY3RfQXJyYXkgIlBvc3QgQ2hhbmdlcyBBZGFwdGVyIGNvbmZpZ3VyYXRpb24iIC1BcnJheSAkR2xvYmFsOkNoYW5nZWRfRGF0YSAtdGFza05hbWUgJ1NldCBzdGF0aWMgSVAgaW5mb3JtYXRpb24nIC1zdGF0dXMgJ1N1Y2Nlc3MnIC1Db2RlICcwJyAtc3Rkb3V0ICRHbG9iYWw6Q2hhbmdlc19SZXN1bHRfc3Rkb3V0IC1vYmplY3RzICIkT2JqZWN0IiAtcmVzdWx0ICdTdWNjZXNzZnVsbHkgY2hhbmdlZCB0aGUgQWRhcHRlciBjb25maWd1cmF0aW9uJw0KICAgICAgICAjJEpTT04yID0gQ29udmVydFRvLUpzb24yMCAkSGFzaERhdGENCiAgICAgICAgJEpTT04yID0gJEhhc2hEYXRhDQogICAgICAgIH0NCg0KIyMjIyMjIGlmIGFueSBvZiB0aGUgY29tbWFuZCBub3Qgc3VjY2Vzc2Z1bGwNCiAgICAgICAgZWxzZXsNCiAgICAgICAgICMjIyMjIENvbW1hbmQgVW5TdWNjZXNzIHJlc3VsdA0KICAgICAgICAjJEdsb2JhbDpDaGFuZ2VzX1Jlc3VsdA0KICAgICAgICANCiAgICAgICAgJFRpdGxlID0gJEdsb2JhbDpDaGFuZ2VzX1Jlc3VsdCB8ICUgeyRfLkFjdGlvbn0NCiAgICAgICAgJGRldGFpbHMgPSAkR2xvYmFsOkNoYW5nZXNfUmVzdWx0IHwgJSB7JF8ucmVzdWx0fQ0KICAgICAgICANCiAgICAgICAgJHN0ZGVyciA9IEdldF9zdGRlcnIgLVRpdGxlICRUaXRsZSAtZGV0YWlscyAkZGV0YWlscw0KICAgICAgICANCiAgICAgICAgJEhhc2hEYXRhID0gSGFzaFRhYmxlX0FycmF5X0pTT04gLUhlYWRpbmdVbmRlcl9kYXRhT2JqZWN0X0FycmF5ICJFcnJvciB3aGlsZSBjaGFuZ2luZyBBZGFwdGVyIHNldHRpbmciIC10YXNrTmFtZSAnU2V0IHN0YXRpYyBJUCBpbmZvcm1hdGlvbicgLXN0YXR1cyAnRmFpbGVkJyAtQ29kZSAnMScgLXN0ZG91dCAnRmFpbGVkIHRvIGNoYW5nZSBBZGFwdGVyIGNvbmZpZ3VyYXRpb24nIC1zdGRlcnIgJHN0ZGVyciAtcmVzdWx0ICdFcnJvcjogRmFpbGVkIHRvIGNoYW5nZSBBZGFwdGVyIGNvbmZpZ3VyYXRpb24nDQogICAgICAgICMkSlNPTjIgPSBDb252ZXJ0VG8tSnNvbjIwICRIYXNoRGF0YQ0KICAgICAgICAkSlNPTjIgPSAkSGFzaERhdGENCg0KICAgICAgIH0NCiAgICAgICANCiAgICB9DQojIyMjIyMgaWYgYW55IG9mIHRoZSBnaXZlbiBGb3JtYXQgaXMgbm90IGNvcnJlY3QNCiAgICBpZigkR2xvYmFsOkZvcm1hdF9DaGVjayB8ICUgeyRfIC1saWtlICcqSW5WYWxpZConfSl7DQogICAgICAgICRHbG9iYWw6SW52YWxpZDEgPSAkR2xvYmFsOkZvcm1hdF9DaGVjayB8IEdldC1NZW1iZXJ8ICUge2lmKCRfLkRlZmluaXRpb24uc3BsaXQoJz0nKVsxXSAtbGlrZSAnKmludmFsaWQqJyl7DQoNCiAgICAgICAgJEtleXggPSAkXy5uYW1lOyRWYWx1ZXggPSAoJF8uRGVmaW5pdGlvbi5zcGxpdCgnPScpWzFdKS5zcGxpdCgnfCcpWzBdDQogICAgICAgIFtzdHJpbmddJE5hbWUxMiA9ICRfLm5hbWUNCg0KICAgICAgICBpZigkS2V5eCAtTGlrZSAnSVBWNEFkZHJlc3MnIC1vciAkS2V5eCAtTGlrZSAnSVBWNEdhdGV3YXknIC1vciAkS2V5eCAtTGlrZSAnSVBWNFN1Ym5ldCcpDQogICAgICAgIHsNCiAgICAgICAgDQogICAgICAgIGlmKCRLZXl4IC1ub3RMaWtlICdJUFY0U3VibmV0JykgDQogICAgICAgIHsNCiAgICAgICAgICAgICRLZXlfVmFsdWVzID0gQHskS2V5eCA9IEAoDQogICAgICAgICAgICAiU3VibWl0dGVkICROYW1lMTIgOiBbJFZhbHVleF0iDQogICAgICAgICAgICAiRXhwZWN0ZWQgZm9ybWF0OiBbMS4xMDIuMTAzLjEwNF0iDQogICAgICAgICAgICApfQ0KICAgICAgICAgICAgJEdsb2JhbDpzdGRlcnIgKz0gIlN1Ym1pdHRlZCAkKCROYW1lMTIpOiBbJFZhbHVleF0gYW5kIEV4cGVjdGVkIGZvcm1hdDogWzEuMTAyLjEwMy4xMDRdIiAgICAgICAgDQogICAgICAgIH1lbHNlDQogICAgICAgIHsNCiAgICAgICAgICAgICRLZXlfVmFsdWVzID0gQHskS2V5eCA9IEAoDQogICAgICAgICAgICAiU3VibWl0dGVkICROYW1lMTIgOiBbJFZhbHVleF0iDQogICAgICAgICAgICAiRXhwZWN0ZWQgZm9ybWF0OiBbMS4xMDIuMTAzLjEwNF0iDQogICAgICAgICAgICApfQ0KICAgICAgICAgICAgJEdsb2JhbDpzdGRlcnIgKz0gIlN1Ym1pdHRlZCAkKCROYW1lMTIpOiBbJFZhbHVleF0gYW5kIEV4cGVjdGVkIGZvcm1hdDogWzI1NS4yNTUuMjU1LjAgb3IgMjU1LjAuMC4wXSIgICAgICAgIA0KICAgICAgICAgfQ0KDQogICAgICAgIA0KICAgICAgICB9DQoNCg0KICAgICAgICBpZigkS2V5eCAtTGlrZSAnSVBWNkFkZHJlc3MnIC1vciAkS2V5eCAtTGlrZSAnSVBWNkdhdGV3YXknKQ0KICAgICAgICB7DQogICAgICAgIFtzdHJpbmddJE5hbWUxMiA9ICRfLm5hbWUNCiAgICAgICAgDQogICAgICAgICRLZXlfVmFsdWVzID0gQHskS2V5eCA9IEAoDQogICAgICAgICJTdWJtaXR0ZWQgSVB2NiBhZGRyZXNzOiBbJFZhbHVleF0iLA0KICAgICAgICAiRXhwZWN0ZWQgZm9ybWF0OiBbMjAwMTo0ODYwOjQ4NjA6Ojg4ODhdIG9yIFsyMDAxOjQ4NjA6NDg2MDowMDAwOjAwMDA6MDAwMDowMDAwOjg4ODhdIg0KICAgICAgICApfQ0KICAgICAgICAkR2xvYmFsOnN0ZGVyciArPSAiU3VibWl0dGVkICQoJE5hbWUxMik6IFskVmFsdWV4XSBhbmQgRXhwZWN0ZWQgZm9ybWF0OiBbMjAwMTo0ODYwOjQ4NjA6Ojg4ODhdIG9yIFsyMDAxOjQ4NjA6NDg2MDowMDAwOjAwMDA6MDAwMDowMDAwOjg4ODhdIg0KICAgICAgICB9IA0KICAgICAgICBpZigkS2V5eCAtTGlrZSAnSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aDEnKQ0KICAgICAgICB7DQoNCiAgICAgICAgJEtleV9WYWx1ZXMgPSBAeyRLZXl4ID0gQCgNCiAgICAgICAgIlN1Ym1pdHRlZCBJUHY2IFN1Ym5ldCBQcmVmaXggTGVuZ3RoOiBbJFZhbHVleF0iLA0KICAgICAgICAiRXhwZWN0ZWQgZm9ybWF0OiBbOC0xMjhdIg0KICAgICAgICApfQ0KICAgICAgICANCiAgICAgICAgJEdsb2JhbDpzdGRlcnIgKz0gIlN1Ym1pdHRlZCBJUHY2IFN1Ym5ldCBQcmVmaXggTGVuZ3RoOiBbJFZhbHVleF0gYW5kIEV4cGVjdGVkIGZvcm1hdDogWzgtMTI4XSINCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgJEtleV9WYWx1ZXMNCiAgICAgICAgIA0KICAgICAgICB9fQ0KICAgICAgICANCiAgICAgICAgJHN0ZGVyciA9IEdldF9zdGRlcnIgLVRpdGxlICdpbnZhbGlkIGlucHV0IHByb3ZpZGVkJyAtZGV0YWlscyAkR2xvYmFsOnN0ZGVycg0KICAgICAgICANCiAgICAgICAgJEFkZHJlc3NUeXBlID0gJEdsb2JhbDpGb3JtYXRfQ2hlY2suJ0FkZHJlc3MgVHlwZSAoSVB2NC9JUHY2KScNCiAgICAgICAgICAgICAgDQogICAgICAgICRIYXNoRGF0YSA9IEhhc2hUYWJsZV9BcnJheV9KU09OIC1IZWFkaW5nVW5kZXJfZGF0YU9iamVjdF9BcnJheSAiaW52YWxpZCBJbnB1dCBwYXNzZWQgZm9yICRBZGRyZXNzVHlwZSIgLXRhc2tOYW1lICdTZXQgc3RhdGljIElQIGluZm9ybWF0aW9uJyAtc3RhdHVzICdGYWlsZWQnIC1Db2RlICcxJyAtc3Rkb3V0ICdpbnZhbGlkIElucHV0IHByb3ZpZGVkJyAtcmVzdWx0ICdFcnJvcjogaW52YWxpZCBJbnB1dCBwcm92aWRlZCcgLXN0ZGVyciAkc3RkZXJyDQogICAgICAgICMkSlNPTjIgPSBDb252ZXJ0VG8tSnNvbjIwICRIYXNoRGF0YQ0KICAgICAgICAkSlNPTjIgPSAkSGFzaERhdGENCiAgICB9DQoNCn0NCg0KaWYoJEdsb2JhbDpIYXNoVGFibGVfRGF0YS5jb3VudCAtbmUgMCl7DQojJEdsb2JhbDpIYXNoVGFibGVfRGF0YQ0KDQokSGFzaERhdGEgPSBIYXNoVGFibGVfQXJyYXlfSlNPTiAtdGFza05hbWUgJ1NldCBzdGF0aWMgSVAgaW5mb3JtYXRpb24nIC1zdGF0dXMgJ0ZhaWxlZCcgLUNvZGUgJzEnIC1zdGRvdXQgJ1Byb3ZpZGUgdmFsaWQgaW5wdXRzJyAtc3RkZXJyICRHbG9iYWw6U3RkZXJyIC1yZXN1bHQgJ0Vycm9yOiBJbmNvcnJlY3QgaW5wdXRzJw0KJEpTT04yID0gJEhhc2hEYXRhDQp9DQoNCn0NCn1lbHNlew0KDQojd3JpdGUtaG9zdCAnSW52YWxpZCBBZGFwdGVyJw0KDQokR2xvYmFsOlN0ZGVyciA9IE5ldy1PYmplY3QgcHNvYmplY3QgLVByb3BlcnR5IEB7DQonQWRhcHRlciBOYW1lJyA9ICRBZGFwdGVyX05hbWUNCidFeGlzdGFuY2UgU3RhdHVzJyA9ICdOb3QgZXhpc3RzJw0KfQ0KDQokSGFzaERhdGEgPSBIYXNoVGFibGVfQXJyYXlfSlNPTiAtdGFza05hbWUgJ1NldCBzdGF0aWMgSVAgaW5mb3JtYXRpb24nIC1zdGF0dXMgJ0ZhaWxlZCcgLUNvZGUgJzEnIC1zdGRvdXQgJ3Byb3ZpZGVkIEludmFsaWQgQWRhcHRlciBuYW1lJyAtc3RkZXJyICRHbG9iYWw6U3RkZXJyIC1yZXN1bHQgJ0Vycm9yOiBJbnZhbGlkIEFkYXB0ZXIgbmFtZScNCiRKU09OMiA9ICRIYXNoRGF0YQ0KDQp9DQojT1VUUFVUDQojIyMjIyMjIyMjIyMjIyMjIyMNCiRKU09OMg0KDQp9DQojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyBKU09OIENvbnZlcnQgRU5EDQoNCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIEdFVF9TdGRlcnINCmZ1bmN0aW9uIEdldF9zdGRlcnINCnsNCnBhcmFtKCRUaXRsZSwkZGV0YWlscykNCiRpbmZvID0gQCgpDQokSUQgPSAwDQoNCiAkZGV0YWlscyB8ICV7DQogICAgJGluZm8gKz0gbmV3LW9iamVjdCBwc29iamVjdCAtUHJvcGVydHkgQHsNCiAgICAiaWQiID0gJElEDQogICAgInRpdGxlIiA9ICRUaXRsZQ0KICAgICJkZXRhaWwiID0gJF8NCiAgICB9DQogICAgJElEKysNCiAgICB9DQoNCnJldHVybiAkaW5mbw0KfQ0KDQojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMNCmlmKCRJUHY0X09SX0lQdjZfQWRkcmVzcyAtZXEgJElQdjRfT1JfSVB2Nl9HYXRld2F5KXsNCg0KJFN0ZGVyciA9IEdldF9zdGRlcnIgLVRpdGxlICdJUCBhbmQgR2F0ZXdheSBhZGRyZXNzIHNob3VsZCBub3QgYmUgc2FtZScgLWRldGFpbHMgIlByb3ZpZGVkIEFkZHJlc3MgYXJlIHNhbWUgSVAgQWRkcmVzcyBbJElQdjRfT1JfSVB2Nl9BZGRyZXNzXSBhbmQgR2F0ZXdheSBbJElQdjRfT1JfSVB2Nl9HYXRld2F5XSINCg0KJEhhc2hEYXRhID0gSGFzaFRhYmxlX0FycmF5X0pTT04gLXRhc2tOYW1lICdTZXQgc3RhdGljIElQIGluZm9ybWF0aW9uJyAtc3RhdHVzICdGYWlsZWQnIC1Db2RlICcxJyAtc3Rkb3V0ICJQcm92aWRlZCBBZGRyZXNzIGFyZSBzYW1lIElQIEFkZHJlc3MgWyRJUHY0X09SX0lQdjZfQWRkcmVzc10gYW5kIEdhdGV3YXkgWyRJUHY0X09SX0lQdjZfR2F0ZXdheV0iIC1zdGRlcnIgJFN0ZGVyciAtcmVzdWx0ICdFcnJvcjogUHJvdmlkZWQgU2FtZSBJUCBhbmQgR2F0ZXdheSBhZGRyZXNzJw0KJEpTT04yID0gJEhhc2hEYXRhDQokSlNPTjIgDQpyZXR1cm4NCn0NCg0KIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgIERpc3BsYXkgQWRhcHRlciBTZXR0aW5ncyANCg0KZnVuY3Rpb24gRGlzcGxheUFkYXB0ZXJDb25maWd1cmF0aW9uew0KcGFyYW0oJFdoaWNoX1ZlcnNpb25fU2V0dGluZ19JUFY2X09SX0lQVjQsJEFkYXB0ZXJfTmFtZSkNCiAgICAkQWRhcHRlcl9Qcm9wZXJ0aWVzID0gKEd3bWkgd2luMzJfbmV0d29ya2FkYXB0ZXIgfCA/IHskXy5OZXRDb25uZWN0aW9uSUQgLWVxICIkQWRhcHRlcl9OYW1lIn0pDQogICAgJGFkYXB0ZXJTZXR0aW5ncyA9IGd3bWkgd2luMzJfbmV0d29ya2FkYXB0ZXJjb25maWd1cmF0aW9uIHwgPyB7JF8uaW5kZXggLWVxICRBZGFwdGVyX1Byb3BlcnRpZXMuaW5kZXh9DQogICAgDQogIGlmKCRXaGljaF9WZXJzaW9uX1NldHRpbmdfSVBWNl9PUl9JUFY0IC1lcSAnSVBWNicpew0KDQogICAjIyMjIyMjIyMjIyMjIyMjIyMjIyBJUFY2IEN1cnJlbnQgU2V0dGluZ3MNCiAgICAkSVBBZGRyZXNzX0luZGV4ID0gKCRhZGFwdGVyU2V0dGluZ3MuaXBhZGRyZXNzLmNvdW50IC0xKQ0KICAgICRJUFN1Ym5ldF9JbmRleCA9KCRhZGFwdGVyU2V0dGluZ3MuSVBTdWJuZXQuY291bnQgLTEpDQoNCiAgICAkRGVmYXVsdHgxID0gKCRhZGFwdGVyU2V0dGluZ3MuRGVmYXVsdElQR2F0ZXdheSB8ID8geyRfIC1tYXRjaCAnOid9KSAtam9pbiAnLCcNCiAgICANCiAgICANCiAgICAkSVBWNl9TZXR0aW5ncyA9IE5ldy1PYmplY3QgcHNvYmplY3QgLVByb3BlcnR5IEB7DQogICAgJ0FkYXB0ZXIgTmFtZScgPSAkQWRhcHRlcl9Qcm9wZXJ0aWVzLk5ldENvbm5lY3Rpb25JRA0KICAgICdBZGFwdGVyIEVuYWJsZWQvRGlzYWJsZWQgU3RhdHVzJyA9ICdFbmFibGVkJw0KICAgICdJUFY2IEFkZHJlc3MnID0gJGFkYXB0ZXJTZXR0aW5ncy5pcGFkZHJlc3NbJElQQWRkcmVzc19JbmRleF0NCiAgICAnSVBWNiBHYXRld2F5JyA9ICREZWZhdWx0eDENCiAgICAnSVBWNiBTdWJuZXQgUHJlZml4IExlbmd0aCcgPSAkYWRhcHRlclNldHRpbmdzLklQU3VibmV0WyRJUFN1Ym5ldF9JbmRleF0NCiAgICB9IHwgc2VsZWN0ICdBZGFwdGVyIE5hbWUnLCdBZGFwdGVyIEVuYWJsZWQvRGlzYWJsZWQgU3RhdHVzJywnSVBWNiBBZGRyZXNzJywnSVBWNiBTdWJuZXQgUHJlZml4IExlbmd0aCcsJ0lQVjYgR2F0ZXdheScNCiAgICAkSVBWNl9TZXR0aW5ncw0KICAgIA0KICAgICROZXRDb25uZWN0aW9uSUQgPSAkQWRhcHRlcl9Qcm9wZXJ0aWVzLk5ldENvbm5lY3Rpb25JRA0KICAgICRTdWJuZXRfUHJlZml4ID0gJElQVjZfU2V0dGluZ3MuJ0lQVjYgU3VibmV0IFByZWZpeCBMZW5ndGgnDQogICAgJElQQWRkcmVzcyA9ICRJUFY2X1NldHRpbmdzLidJUFY2IEFkZHJlc3MnDQogICAgDQogICAgJEdsb2JhbDpDaGFuZ2VzX1Jlc3VsdF9zdGRvdXQgPSAiQWRhcHRlciBOYW1lOiAkTmV0Q29ubmVjdGlvbklEYHJgbiBBZGFwdGVyIEVuYWJsZWQvRGlzYWJsZWQgU3RhdHVzOiBFbmFibGVkYHJgbiBJUFY2IEFkZHJlc3M6ICRJUEFkZHJlc3NgcmBuIElQVjYgU3VibmV0IFByZWZpeCBMZW5ndGg6ICRTdWJuZXRfUHJlZml4YHIgYG4gSVBWNiBHYXRld2F5OiREZWZhdWx0R2F0ZXdheSIgICAgDQogICAgfQ0KICAgIA0KICBpZigkV2hpY2hfVmVyc2lvbl9TZXR0aW5nX0lQVjZfT1JfSVBWNCAtZXEgJ0lQVjQnKXsNCiAgDQogICAgaWYoJGFkYXB0ZXJTZXR0aW5ncy5ESENQRW5hYmxlZCAtZXEgJEZhbHNlKQ0KICAgIHsgICAgDQogICAgICAgICRJUEFkZHJlc3MgID0gKCRhZGFwdGVyU2V0dGluZ3MuSXBBZGRyZXNzWzBdICB8ID8geyRfIC1ub3RtYXRjaCAnOid9KQ0KICAgICAgICAkU3VibmV0TWFzayAgPSAkYWRhcHRlclNldHRpbmdzLklQU3VibmV0WzBdDQogICAgICAgICREZWZhdWx0R2F0ZXdheSA9ICgkYWRhcHRlclNldHRpbmdzLkRlZmF1bHRJUEdhdGV3YXlbMF0gfCA/IHskXyAtbm90bWF0Y2ggJzonfSkNCiAgIH1lbHNlew0KICAgICAgICAkSVBBZGRyZXNzICA9ICRudWxsDQogICAgICAgICRTdWJuZXRNYXNrICA9ICRudWxsDQogICAgICAgICREZWZhdWx0R2F0ZXdheSA9ICRudWxsICAgDQogICB9DQogICAgJE91dHB1dE9iaiA9IE5ldy1PYmplY3QgcHNvYmplY3QgLVByb3BlcnR5IEB7DQogICAgJ0FkYXB0ZXIgTmFtZScgPSAkQWRhcHRlcl9Qcm9wZXJ0aWVzLk5ldENvbm5lY3Rpb25JRA0KICAgICdBZGFwdGVyIEVuYWJsZWQvRGlzYWJsZWQgU3RhdHVzJyA9ICdFbmFibGVkJw0KICAgICdJUFY0IEFkZHJlc3MnID0gJElQQWRkcmVzcw0KICAgICdJUFY0IFN1Ym5ldE1hc2snID0gJFN1Ym5ldE1hc2sNCiAgICAnSVBWNCBHYXRld2F5JyA9ICREZWZhdWx0R2F0ZXdheQ0KICAgICB9IHwgc2VsZWN0ICdBZGFwdGVyIE5hbWUnLCdBZGFwdGVyIEVuYWJsZWQvRGlzYWJsZWQgU3RhdHVzJywnSVBWNCBBZGRyZXNzJywnSVBWNCBTdWJuZXRNYXNrJywnSVBWNCBHYXRld2F5Jw0KICAgICAkT3V0cHV0T2JqDQogICAgIA0KICAgICAkTmV0Q29ubmVjdGlvbklEID0gJEFkYXB0ZXJfUHJvcGVydGllcy5OZXRDb25uZWN0aW9uSUQNCiAgICAgDQogICAgICRHbG9iYWw6Q2hhbmdlc19SZXN1bHRfc3Rkb3V0ID0gIkFkYXB0ZXIgTmFtZTogJE5ldENvbm5lY3Rpb25JRGByYG4gQWRhcHRlciBFbmFibGVkL0Rpc2FibGVkIFN0YXR1czogRW5hYmxlZGByYG4gSVBWNCBBZGRyZXNzOiAkSVBBZGRyZXNzYHJgbiBJUFY0IFN1Ym5ldE1hc2s6ICRTdWJuZXRNYXNrYHIgYG4gSVBWNCBHYXRld2F5OiREZWZhdWx0R2F0ZXdheSINCiAgICAgDQogICAgfQ0KIH0NCiANCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyBEaXNwbGF5IEFkYXB0ZXIgU2V0dGluZ3MgRU5EDQoNCg0KZnVuY3Rpb24gQ2hlY2tfUmV0dXJuVmFsdWUNCnsgcGFyYW0oJFJldHVybl9WYWx1ZSkNCiAgDQogICAgc3dpdGNoICgkUmV0dXJuX1ZhbHVlKSANCiAgICB7DQogICAgICAgIC0xIHsnU3VjY2Vzc2Z1bGx5IENoYW5nZWQnfQ0KICAgICAgICAwICB7J1N1Y2Nlc3NmdWxseSBDaGFuZ2VkJzsgYnJlYWt9DQogICAgICAgIDEgIHsnU3VjY2Vzc2Z1bGx5IENoYW5nZWQnOyBicmVha30NCiAgICAgICAgNjQgeydNZXRob2Qgbm90IHN1cHBvcnRlZCBvbiB0aGlzIHBsYXRmb3JtJzsgYnJlYWt9DQogICAgICAgIDY1IHsnVW5rbm93biBmYWlsdXJlJzsgYnJlYWt9DQogICAgICAgIDY2IHsnSW52YWxpZCBzdWJuZXQgbWFzayc7IGJyZWFrfQ0KICAgICAgICA2NyB7J0FuIGVycm9yIG9jY3VycmVkIHdoaWxlIHByb2Nlc3NpbmcgYW4gSW5zdGFuY2UgdGhhdCB3YXMgcmV0dXJuZWQnOyBicmVha30NCiAgICAgICAgNjggeydJbnZhbGlkIGlucHV0IHBhcmFtZXRlcic7IGJyZWFrfQ0KICAgICAgICA2OSB7J01vcmUgdGhhbiA1IGdhdGV3YXlzIHNwZWNpZmllZCc7IGJyZWFrfQ0KICAgICAgICA3MCB7J0ludmFsaWQgSVAgYWRkcmVzcyc7IGJyZWFrfQ0KICAgICAgICA3MSB7J0ludmFsaWQgZ2F0ZXdheSBJUCBhZGRyZXNzJzsgYnJlYWt9DQogICAgICAgIDcyIHsnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgYWNjZXNzaW5nIHRoZSBSZWdpc3RyeSBmb3IgdGhlIHJlcXVlc3RlZCBpbmZvcm1hdGlvbic7IGJyZWFrfQ0KICAgICAgICA3MyB7J0ludmFsaWQgZG9tYWluIG5hbWUnOyBicmVha30NCiAgICAgICAgNzQgeydJbnZhbGlkIGhvc3QgbmFtZSc7IGJyZWFrfQ0KICAgICAgICA3NSB7J05vIHByaW1hcnkvc2Vjb25kYXJ5IFdJTlMgc2VydmVyIGRlZmluZWQnOyBicmVha30NCiAgICAgICAgNzYgeydJbnZhbGlkIGZpbGUnOyBicmVha30NCiAgICAgICAgNzcgeydJbnZhbGlkIHN5c3RlbSBwYXRoJzsgYnJlYWt9DQogICAgICAgIDc4IHsnRmlsZSBjb3B5IGZhaWxlZCc7IGJyZWFrfQ0KICAgICAgICA3OSB7J0ludmFsaWQgc2VjdXJpdHkgcGFyYW1ldGVyJzsgYnJlYWt9DQogICAgICAgIDgwIHsnVW5hYmxlIHRvIGNvbmZpZ3VyZSBUQ1AvSVAgc2VydmljZSc7IGJyZWFrfQ0KICAgICAgICA4MSB7J1VuYWJsZSB0byBjb25maWd1cmUgREhDUCBzZXJ2aWNlJzsgYnJlYWt9DQogICAgICAgIDgyIHsnVW5hYmxlIHRvIHJlbmV3IERIQ1AgbGVhc2UnOyBicmVha30NCiAgICAgICAgODMgeydVbmFibGUgdG8gcmVsZWFzZSBESENQIGxlYXNlJzsgYnJlYWt9DQogICAgICAgIDg0IHsnSVAgbm90IGVuYWJsZWQgb24gYWRhcHRlcic7IGJyZWFrfQ0KICAgICAgICA4NSB7J0lQWCBub3QgZW5hYmxlZCBvbiBhZGFwdGVyJzsgYnJlYWt9DQogICAgICAgIDg2IHsnRnJhbWUvbmV0d29yayBudW1iZXIgYm91bmRzIGVycm9yJzsgYnJlYWt9DQogICAgICAgIDg3IHsnSW52YWxpZCBmcmFtZSB0eXBlJzsgYnJlYWt9DQogICAgICAgIDg4IHsnSW52YWxpZCBuZXR3b3JrIG51bWJlcic7IGJyZWFrfQ0KICAgICAgICA4OSB7J0R1cGxpY2F0ZSBuZXR3b3JrIG51bWJlcic7IGJyZWFrfQ0KICAgICAgICA5MCB7J1BhcmFtZXRlciBvdXQgb2YgYm91bmRzJzsgYnJlYWt9DQogICAgICAgIDkxIHsnQWNjZXNzIGRlbmllZCc7IGJyZWFrfQ0KICAgICAgICA5MiB7J091dCBvZiBtZW1vcnknOyBicmVha30NCiAgICAgICAgOTMgeydBbHJlYWR5IGV4aXN0cyc7IGJyZWFrfQ0KICAgICAgICA5NCB7J1BhdGgsIGZpbGUgb3Igb2JqZWN0IG5vdCBmb3VuZCc7IGJyZWFrfQ0KICAgICAgICA5NSB7J1VuYWJsZSB0byBub3RpZnkgc2VydmljZSc7IGJyZWFrfQ0KICAgICAgICA5NiB7J1VuYWJsZSB0byBub3RpZnkgRE5TIHNlcnZpY2UnOyBicmVha30NCiAgICAgICAgOTcgeydJbnRlcmZhY2Ugbm90IGNvbmZpZ3VyYWJsZSc7IGJyZWFrfQ0KICAgICAgICA5OCB7J05vdCBhbGwgREhDUCBsZWFzZXMgY291bGQgYmUgcmVsZWFzZWQvcmVuZXdlZCc7IGJyZWFrfQ0KICAgICAgICAxMDAgeydESENQIG5vdCBlbmFibGVkIG9uIGFkYXB0ZXInOyBicmVha30NCiAgICAgICAgMjE0Nzc4Njc4OCB7IldyaXRlIGxvY2sgbm90IGVuYWJsZWQiOyBicmVha30NCiAgICAgICAgMjE0Nzc0OTg5MSB7Ik11c3QgYmUgcnVuIHdpdGggYWRtaW4gcHJpdmlsZWdlcyI7IGJyZWFrfQ0KICAgICAgICBkZWZhdWx0IHsiRmFpbGQgd2l0aCBlcnJvciBjb2RlICQoJFJldHVybl9WYWx1ZSkiOyBicmVha30NCiAgICB9DQoNCn0NCg0KDQojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgQ2hhbmdlcy9BY3Rpb24gUGFydA0KDQpGdW5jdGlvbiBWYWxpZGF0ZV9BZGFwdGVyTmFtZXsNClBhcmFtKCRBZGFwdGVyX05hbWUpDQokYWRhcHRlciA9IEd3bWkgd2luMzJfbmV0d29ya2FkYXB0ZXIgfCB3aGVyZSB7JF8uTmV0Q29ubmVjdGlvbklEIC1lcSAiJEFkYXB0ZXJfTmFtZSJ9DQppZigkYWRhcHRlcil7DQogIHJldHVybiAkVHJ1ZQ0KfQ0KICAgIGVsc2V7DQogICAgICByZXR1cm4gJEZhbHNlDQogICAgfQ0KDQp9DQoNCkZ1bmN0aW9uIENoYW5nZV9BZGFwdGVyX1NldHRpbmdzew0KcGFyYW0oJEFkYXB0ZXJfTmFtZSwkV2hpY2hfVmVyc2lvbl9TZXR0aW5nX0lQVjZfT1JfSVBWNCwkSVB2NF9PUl9JUHY2X0FkZHJlc3MsJElQdjRfT1JfSVB2Nl9HYXRld2F5LCRJUHY0X1N1Ym5ldF9NYXNrLCRJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoKQ0KDQoNCiRFcnJvckFjdGlvblByZWZlcmVuY2UgPSAnU2lsZW50bHljb250aW51ZScNCg0KJGFkYXB0ZXJfSW5kZXggPSAoR3dtaSB3aW4zMl9uZXR3b3JrYWRhcHRlciB8ID8geyRfLk5ldENvbm5lY3Rpb25JRCAtZXEgIiRBZGFwdGVyX05hbWUifSkuaW5kZXgNCiMjIyMjIyMjIEdldCBBZGFwdGVyIFNldHRpbmdzICAgIA0KJGFkYXB0ZXJTZXR0aW5ncyA9IEdldC1XbWlPYmplY3Qgd2luMzJfbmV0d29ya0FkYXB0ZXJDb25maWd1cmF0aW9uIHwgd2hlcmUgeyRfLmluZGV4IC1lcSAkYWRhcHRlcl9JbmRleH0gfCBzZWxlY3QgKg0KDQoNCmlmKCRXaGljaF9WZXJzaW9uX1NldHRpbmdfSVBWNl9PUl9JUFY0IC1lcSAnSVBWNicpDQp7DQoNCiAgICMjIyMjIyMjIyMjIyMjIyMjIyMjIElQVjYgQ3VycmVudCBTZXR0aW5ncw0KICAgICRJUFY0X0lQX0luZGV4ID0gKCRhZGFwdGVyU2V0dGluZ3MuaXBhZGRyZXNzLmNvdW50IC0xKQ0KICAgICRJUFN1Ym5ldF9JbmRleCA9KCRhZGFwdGVyU2V0dGluZ3MuSVBTdWJuZXQuY291bnQgLTEpDQoNCiAgICAkRGVmYXVsdHgxID0gKCRhZGFwdGVyU2V0dGluZ3MuRGVmYXVsdElQR2F0ZXdheSB8ID8geyRfIC1tYXRjaCAnOid9KSAtam9pbiAnLCcNCg0KICAgIA0KICAgICRJUFY2X1NldHRpbmdzID0gTmV3LU9iamVjdCBwc29iamVjdCAtUHJvcGVydHkgQHsNCiAgICAnSVBWNiBJUC1BZGRyZXNzJyA9ICRhZGFwdGVyU2V0dGluZ3MuaXBhZGRyZXNzWyRJUFY0X0lQX0luZGV4XQ0KICAgICdJUFY2IERlZmF1bHRJUEdhdGV3YXknID0gJERlZmF1bHR4MQ0KICAgICdJUFY2IFN1Ym5ldCBQcmVmaXggTGVuZ3RoJyA9ICRhZGFwdGVyU2V0dGluZ3MuSVBTdWJuZXRbJElQU3VibmV0X0luZGV4XQ0KICAgIH0gfCBzZWxlY3QgJ0lQVjYgSVAtQWRkcmVzcycsJ0lQVjYgRGVmYXVsdElQR2F0ZXdheScsJ0lQVjYgU3VibmV0IFByZWZpeCBMZW5ndGgnDQogICAgIyRJUFY2X1NldHRpbmdzDQogICAgDQogICAgJElQVjZfSVAgPSAkSVBWNl9TZXR0aW5ncy4nSVBWNiBJUC1BZGRyZXNzJw0KICAgICRJUFY2X0dhdGV3YXkgPSAkSVBWNl9TZXR0aW5ncy4nSVBWNiBEZWZhdWx0SVBHYXRld2F5Jw0KICAgICRJUFY2X1N1Ym5ldF9QcmVmaXggPSAkSVBWNl9TZXR0aW5ncy4nSVBWNiBTdWJuZXQgUHJlZml4IExlbmd0aCcNCiAgICANCiMgSVAgRm91bmQgdGhlbiBSZW1vdmUgSVAgVmFsdWVzDQogICAgaWYoIVtzdHJpbmddOjpJc051bGxPckVtcHR5KCRJUHY0X09SX0lQdjZfQWRkcmVzcykgLW9yICFbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aCkpDQogICAgew0KICAgICAgJElQeCA9ICRJUFY2X0lQIHwgPyB7JF8gLW1hdGNoICc6J30NCiAgICAgIGlmKCFbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVB4KSkNCiAgICAgIHsNCiAgICAgICN3cml0ZS1ob3N0ICdSZW1vdmluZyB0aGUgZXhpc3RpbmcgSVBWNiBBZGRyZXNzJw0KICAgICAgbmV0c2ggaW50ZXJmYWNlIGlwdjYgZGVsZXRlIGFkZHJlc3MgJEFkYXB0ZXJfTmFtZSAkSVBWNl9JUA0KICAgICAgI3dyaXRlLWhvc3QgaXAgJElQVjZfSVANCiAgICAgIA0KICAgICAgfQ0KICAgICB9DQogICAgDQojIEdhdGV3YXkgRm91bmQgdGhlbiBSZW1vdmUgZ2F0ZXdheSBWYWx1ZXMNCiAgICBpZighW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQdjRfT1JfSVB2Nl9HYXRld2F5KSkNCiAgICB7IA0KICAgICAgaWYoIVtzdHJpbmddOjpJc051bGxPckVtcHR5KCREZWZhdWx0eDEpKQ0KICAgICAgICB7ICANCiAgICAgICAgICAgI3dyaXRlLWhvc3QgJ1JlbW92aW5nIHRoZSBleGlzdGluZyBJUFY2IEdhdHdheScNCiAgICAgICAgICAgbmV0c2ggaW50ZXJmYWNlIGlwdjYgZGVsZXRlIHJvdXRlIDo6LzAgIiRBZGFwdGVyX05hbWUiICIkSVBWNl9HYXRld2F5Ig0KICAgICAgICAgfQ0KICAgICB9DQogICAgICANCg0KIyBJUEFkZHJlc3MgYW5kIFN1ZmZpeCBnaXZlbg0KICAgIGlmKCFbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVB2NF9PUl9JUHY2X0FkZHJlc3MpIC1hbmQgIVtzdHJpbmddOjpJc051bGxPckVtcHR5KCRJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoKSkNCiAgICB7DQogICAgICBpZighW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQVjZfU2V0dGluZ3MuJ0lQVjYgSVAtQWRkcmVzcycpKXsNCiAgICAgICN3cml0ZS1ob3N0ICJBZGRpbmcgdGhlIG5ldyBJUFY2IEFkZHJlc3MgYWxvbmcgd2l0aCB0aGUgU3VibmV0UHJlZml4IGxlbmd0aCAkSVB2NF9PUl9JUHY2X0FkZHJlc3MvJElQdjZfU3VibmV0X1ByZWZpeF9MZW5ndGgiDQogICAgICANCiAgICAgICRBY3Rpb24gPSAnSW5pdGlhdGUgY2hhbmdlcyBmb3IgLUlQVjYgQWRkcmVzcyBhbmQgLVN1Ym5ldFByZWZpeCBsZW5ndGgnDQogICAgICAkUmVzdWx0ID0gbmV0c2ggaW50ZXJmYWNlIGlwdjYgYWRkIGFkZHJlc3MgJEFkYXB0ZXJfTmFtZSAiJElQdjRfT1JfSVB2Nl9BZGRyZXNzLyRJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoIg0KICAgICAgICRSZXN1bHQgPSAkUmVzdWx0IHwgPyB7JF99DQogICAgICBpZigoJFJlc3VsdCAtZXEgJG51bGwpIC1vciAoJFJlc3VsdCAtZXEgJypPSyonKSl7JFJlc3VsdCA9ICdTdWNjZXNzZnVsbHkgQ2hhbmdlZCd9DQogICAgICAgDQogICAgICAkR2xvYmFsOkNoYW5nZXNfUmVzdWx0ICs9IE5ldy1PYmplY3QgcHNvYmplY3QgLVByb3BlcnR5IEB7IEFjdGlvbiA9ICRBY3Rpb247cmVzdWx0ID0gJHJlc3VsdH0gICAgDQogICAgICAkR2xvYmFsOkNoYW5nZXNfUmVzdWx0X3N0ZG91dCArPSAiQWN0aW9uOiAkQWN0aW9uYHJgbnJlc3VsdCA9ICRyZXN1bHQiDQojIEdhdGV3YXkgbm90IGdpdmVuDQogICAgICBpZihbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVB2NF9PUl9JUHY2X0dhdGV3YXkpKQ0KICAgICAgICB7ICANCiAgICAgICAgICAgICBpZighW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJERlZmF1bHR4MSkpDQogICAgICAgICAgICAgeyAgDQogICAgICAgICAgICAgICAjd3JpdGUtaG9zdCAnQWRkaW5nIHRoZSBleGlzdGluZyBHYXR3YXknDQogICAgICAgICAgICAgICBuZXRzaCBpbnRlcmZhY2UgaXB2NiBhZGQgcm91dGUgOjovMCAiJEFkYXB0ZXJfTmFtZSIgIiRJUFY2X0dhdGV3YXkiDQogICAgICAgICAgICAgfQ0KICAgICAgICAgfQ0KDQojIEdhdGV3YXkgZ2l2ZW4NCiAgICAgIGlmKCFbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVB2NF9PUl9JUHY2X0dhdGV3YXkpKQ0KICAgICAgICB7ICANCiAgICAgICAgICAgICAgICN3cml0ZS1ob3N0ICdBZGRpbmcgdGhlIG5ldyBHYXR3YXknICAgICAgDQogICAgICAgICAgICAgICAkQWN0aW9uID0gJ0luaXRpYXRlIGNoYW5nZXMgZm9yIC1JUFY2IEdhdGV3YXknDQogICAgICAgICAgICAgICAkUmVzdWx0ID0gbmV0c2ggaW50ZXJmYWNlIGlwdjYgYWRkIHJvdXRlIDo6LzAgIiRBZGFwdGVyX05hbWUiICIkSVB2NF9PUl9JUHY2X0dhdGV3YXkiDQogICAgICAgICAgICAkUmVzdWx0ID0gJFJlc3VsdCB8ID8geyRffQ0KICAgICAgaWYoKCRSZXN1bHQgLWVxICRudWxsKSAtb3IgKCRSZXN1bHQgLWVxICcqT0sqJykpeyRSZXN1bHQgPSAnU3VjY2Vzc2Z1bGx5IENoYW5nZWQnfQ0KICAgICAgICAgICAgICAgJEdsb2JhbDpDaGFuZ2VzX1Jlc3VsdCArPSBOZXctT2JqZWN0IHBzb2JqZWN0IC1Qcm9wZXJ0eSBAeyBBY3Rpb24gPSAkQWN0aW9uO3Jlc3VsdCA9ICRyZXN1bHR9ICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICRHbG9iYWw6Q2hhbmdlc19SZXN1bHRfc3Rkb3V0ICs9ICJBY3Rpb246ICRBY3Rpb25gcmBucmVzdWx0ID0gJHJlc3VsdCINCiAgICAgICAgIH0gICAgICAgICANCiAgICAgIH0NCg0KICAgIH1lbHNlew0KDQojIE9ubHkgSVBBZGRyZXNzIGFuZCBOb3QgU3VmZml4IGdpdmVuDQogICAgaWYoIVtzdHJpbmddOjpJc051bGxPckVtcHR5KCRJUHY0X09SX0lQdjZfQWRkcmVzcykgLWFuZCBbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aCkpDQogICAgew0KICAgICAgI3dyaXRlLWhvc3QgJ0FkZGluZyB0aGUgbmV3IElQVjYgQWRkcmVzcyBhbG9uZyB3aXRoIHRoZSBkZWZhdWx0IDY0IFN1Ym5ldFByZWZpeCBsZW5ndGgnICAgIA0KICAgICAgDQogICAgICAkQWN0aW9uID0gJ0luaXRpYXRlIGNoYW5nZXMgZm9yIC1JUFY2IEFkZHJlc3Mgd2l0aCBEZWZhdWx0IFN1Ym5ldFByZWZpeCBsZW5ndGgnDQogICAgICAkcmVzdWx0ID0gbmV0c2ggaW50ZXJmYWNlIGlwdjYgYWRkIGFkZHJlc3MgJEFkYXB0ZXJfTmFtZSAiJElQdjRfT1JfSVB2Nl9BZGRyZXNzIg0KICAgICAgJFJlc3VsdCA9ICRSZXN1bHQgfCA/IHskX30NCiAgICAgIGlmKCgkUmVzdWx0IC1lcSAkbnVsbCkgLW9yICgkUmVzdWx0IC1lcSAnKk9LKicpKXskUmVzdWx0ID0gJ1N1Y2Nlc3NmdWxseSBDaGFuZ2VkJ30NCiAgICAgICRHbG9iYWw6Q2hhbmdlc19SZXN1bHQgKz0gTmV3LU9iamVjdCBwc29iamVjdCAtUHJvcGVydHkgQHsgQWN0aW9uID0gJEFjdGlvbjtyZXN1bHQgPSAkcmVzdWx0fQ0KICAgICAgJEdsb2JhbDpDaGFuZ2VzX1Jlc3VsdF9zdGRvdXQgKz0gIkFjdGlvbjogJEFjdGlvbmByYG5yZXN1bHQgPSAkcmVzdWx0Ig0KICAgICAgfQ0KDQojIE9ubHkgU3VmZml4IGFuZCBOb3QgSVAgZ2l2ZW4NCiAgICBpZihbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVB2NF9PUl9JUHY2X0FkZHJlc3MpIC1hbmQgIVtzdHJpbmddOjpJc051bGxPckVtcHR5KCRJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoKSkNCiAgICB7DQogICAgICAjd3JpdGUtaG9zdCAnQXBwZW5kaW5nIG9ubHkgU3VibmV0UHJlZml4IGxlbmd0aCcNCiAgICAgICRBY3Rpb24gPSAnQWRkaW5nIFN1Ym5ldFByZWZpeCBsZW5ndGgnICAgICAgDQogICAgICAkUmVzdWx0ID0gbmV0c2ggaW50ZXJmYWNlIGlwdjYgYWRkIGFkZHJlc3MgJEFkYXB0ZXJfTmFtZSAiJElQVjZfSVAvJElQdjZfU3VibmV0X1ByZWZpeF9MZW5ndGgiDQogICAgICAgICAgICAkUmVzdWx0ID0gJFJlc3VsdCB8ID8geyRffQ0KICAgICAgaWYoKCRSZXN1bHQgLWVxICRudWxsKSAtb3IgKCRSZXN1bHQgLWVxICcqT0sqJykpeyRSZXN1bHQgPSAnU3VjY2Vzc2Z1bGx5IENoYW5nZWQnfQ0KDQogICAgICAkR2xvYmFsOkNoYW5nZXNfUmVzdWx0ICs9IE5ldy1PYmplY3QgcHNvYmplY3QgLVByb3BlcnR5IEB7IEFjdGlvbiA9ICRBY3Rpb247cmVzdWx0ID0gJHJlc3VsdH0gICAgICAgICAgICAgICAgICAgICANCiAgICAgICRHbG9iYWw6Q2hhbmdlc19SZXN1bHRfc3Rkb3V0ICs9ICJBY3Rpb246ICRBY3Rpb25gcmBucmVzdWx0ID0gJHJlc3VsdCINCiAgICAgfQ0KICAgIA0KICAgIGlmKCFbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVB2NF9PUl9JUHY2X0dhdGV3YXkpKQ0KICAgIHsNCiAgICAgI3dyaXRlLWhvc3QgIkNoYW5naW5nIHRoZSBJUFY2IEdhdHdheSAxMTcgJElQdjRfT1JfSVB2Nl9HYXRld2F5Ig0KICAgICAkQWN0aW9uID0gJ0luaXRpYXRlIGNoYW5nZXMgZm9yIC1JUFY2IEdhdGV3YXknDQogICAgICRSZXN1bHQgPSBuZXRzaCBpbnRlcmZhY2UgaXB2NiBhZGQgcm91dGUgOjovMCAiJEFkYXB0ZXJfTmFtZSIgIiRJUHY0X09SX0lQdjZfR2F0ZXdheSIgIA0KICAgICAgICAgICAgJFJlc3VsdCA9ICRSZXN1bHQgfCA/IHskX30NCiAgICAgICAgICAgaWYoKCRSZXN1bHQgLWVxICRudWxsKSAtb3IgKCRSZXN1bHQgLWVxICcqT0sqJykpeyRSZXN1bHQgPSAnU3VjY2Vzc2Z1bGx5IENoYW5nZWQnfQ0KDQogICAgICAkR2xvYmFsOkNoYW5nZXNfUmVzdWx0ICs9IE5ldy1PYmplY3QgcHNvYmplY3QgLVByb3BlcnR5IEB7IEFjdGlvbiA9ICRBY3Rpb247cmVzdWx0ID0gJHJlc3VsdH0gICAgICAgICAgICAgICAgIA0KICAgICAgICAgICRHbG9iYWw6Q2hhbmdlc19SZXN1bHRfc3Rkb3V0ICs9ICJBY3Rpb246ICRBY3Rpb25gcmBucmVzdWx0OiAkcmVzdWx0Ig0KICAgIH0gIA0KfQ0KIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjDQoNCn0NCg0KaWYoJFdoaWNoX1ZlcnNpb25fU2V0dGluZ19JUFY2X09SX0lQVjQgLWVxICdJUFY0JykNCnsgICAgDQogICAgJEFkYXB0ZXJfUHJvcGVydGllcyA9IChHd21pIHdpbjMyX25ldHdvcmthZGFwdGVyIHwgPyB7JF8uTmV0Q29ubmVjdGlvbklEIC1lcSAiJEFkYXB0ZXJfTmFtZSJ9KQ0KICAgICRldGhlcm5ldCA9IGd3bWkgd2luMzJfbmV0d29ya2FkYXB0ZXJjb25maWd1cmF0aW9uIHwgPyB7JF8uaW5kZXggLWVxICRBZGFwdGVyX1Byb3BlcnRpZXMuaW5kZXh9DQogICAgJE5ldENvbm5lY3Rpb25JRCA9ICRBZGFwdGVyX1Byb3BlcnRpZXMuTmV0Q29ubmVjdGlvbklEDQogICAgJEludGVyZmFjZU5hbWUgPSAkQWRhcHRlcl9Qcm9wZXJ0aWVzLk5hbWUNCiAgICANCiAgICBpZigkZXRoZXJuZXQuREhDUEVuYWJsZWQgLWVxICRGYWxzZSkNCiAgICB7DQogICAgICAgICRJUFY0X0lQICA9ICRhZGFwdGVyU2V0dGluZ3MuSXBBZGRyZXNzWzBdDQogICAgICAgICRTdWJuZXRNYXNrICA9ICRhZGFwdGVyU2V0dGluZ3MuSVBTdWJuZXRbMF0NCiAgICAgICAgJERlZmF1bHRHYXRld2F5ID0gJGFkYXB0ZXJTZXR0aW5ncy5EZWZhdWx0SVBHYXRld2F5WzBdDQoNCiAgICAkT3V0cHV0T2JqICA9IE5ldy1PYmplY3QgLVR5cGUgUFNPYmplY3QNCiAgICAkT3V0cHV0T2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgSVBBZGRyZXNzIC1WYWx1ZSAkSVBWNF9JUA0KICAgICRPdXRwdXRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBTdWJuZXRNYXNrIC1WYWx1ZSAkU3VibmV0TWFzaw0KICAgICRPdXRwdXRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBHYXRld2F5IC1WYWx1ZSAoJERlZmF1bHRHYXRld2F5IC1qb2luICIsIikNCiAgICAkSVBWNF9TZXR0aW5ncyA9ICRPdXRwdXRPYmoNCiAgICANCiAgICAkSVBWNF9JUCA9ICRJUFY0X1NldHRpbmdzLidJUEFkZHJlc3MnDQogICAgJElQVjRfR2F0ZXdheSA9ICRJUFY0X1NldHRpbmdzLidHYXRld2F5Jw0KICAgICRJUFY0X1N1Ym5ldCA9ICRJUFY0X1NldHRpbmdzLidTdWJuZXRNYXNrJw0KICAgICAgICAgICAgDQogICAgICB9ZWxzZXsNCiAgICAgIA0KICAgICBpZighW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQdjRfT1JfSVB2Nl9BZGRyZXNzKSAtYW5kIFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRJUHY0X1N1Ym5ldF9NYXNrKSAtYW5kICFbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVB2NF9PUl9JUHY2X0dhdGV3YXkpKQ0KICAgICAgew0KICAgICAgICN3cml0ZS1ob3N0ICJQbGVhc2UgUHJvdmlkZSBJUFY0IGFkZHJlc3MgYW5kIGl0cyBTdWJuZXRtYXNrIGNvbWJpbmF0aW9uIHRvIHByb2NlZWQiDQogICAgICAgJEdsb2JhbDpIYXNoVGFibGVfRGF0YSArPSAnUGxlYXNlIFByb3ZpZGUgSVAgYWRkcmVzcyBhbmQgU3VibmV0bWFzayBjb21iaW5hdGlvbiB0byBwcm9jZWVkJw0KICAgICAgICRHbG9iYWw6U3RkZXJyICs9IEdldF9zdGRlcnIgLVRpdGxlICdVbmFibGUgdG8gcHJvY2VzcyByZXF1ZXN0JyAtZGV0YWlscyAkR2xvYmFsOkhhc2hUYWJsZV9EYXRhDQogICAgICAgcmV0dXJuICAgICAgICANCiAgICAgIH0NCg0KICAgICAgDQogICAgICAgICRJUFY0X0lQICA9ICRudWxsDQogICAgICAgICRTdWJuZXRNYXNrICA9ICRudWxsDQogICAgICAgICREZWZhdWx0R2F0ZXdheSA9ICRudWxsDQogICAgICB9DQogICAgICANCiMgSVBBZGRyZXNzIGFuZCBzdWJuZXQgZ2l2ZW4NCiAgICBpZighW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQdjRfT1JfSVB2Nl9BZGRyZXNzKSAtYW5kICFbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVB2NF9TdWJuZXRfTWFzaykgLWFuZCAhW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQdjRfT1JfSVB2Nl9HYXRld2F5KSkNCiAgICB7DQoNCiAgICAgICN3cml0ZS1ob3N0ICdBZGRpbmcgdGhlIG5ldyBJUFY0IEFkZHJlc3MgK1N1Ym5ldE1hc2srR2F0ZXdheScNCiAgICAgICNuZXRzaCBpbnRlcmZhY2UgaXB2NiBhZGQgYWRkcmVzcyAkQWRhcHRlcl9OYW1lICIkSVB2NF9PUl9JUHY2X0FkZHJlc3MvJElQdjRfU3VibmV0X01hc2siDQogICAgICAgICRSZXR1cm5WYWx1ZSA9ICgkZXRoZXJuZXQgfCAlIHsNCiAgICAgICAgICAgICRfLkVuYWJsZVN0YXRpYygkSVB2NF9PUl9JUHY2X0FkZHJlc3MsICRJUHY0X1N1Ym5ldF9NYXNrKX0pLlJldHVyblZhbHVlDQoNCiAgICAgICAgJENoYW5nZXNpbmZvID0gQ2hlY2tfUmV0dXJuVmFsdWUgLVJldHVybl9WYWx1ZSAkUmV0dXJuVmFsdWUNCiAgICAgICAgI3dyaXRlLWhvc3QgICJpbmY6ICRDaGFuZ2VzaW5mbyAtICRSZXR1cm5WYWx1ZSINCiAgICAgICAgDQogICAgICAgICRBY3Rpb24gPSAnaW5pdGlhdGUgdG8gc2V0dGluZyB1cCBJUFY0IEFkZHJlc3MgfCBTdWJuZXRNYXNrIHwgR2F0ZXdheScNCiAgICAgICAgJHJlc3VsdCA9ICRDaGFuZ2VzaW5mbw0KICAgICAgICANCiAgICAgICRHbG9iYWw6Q2hhbmdlc19SZXN1bHQgKz0gTmV3LU9iamVjdCBwc29iamVjdCAtUHJvcGVydHkgQHsgQWN0aW9uID0gJEFjdGlvbjtyZXN1bHQgPSAkcmVzdWx0fQ0KICAgICAgJEdsb2JhbDpDaGFuZ2VzX1Jlc3VsdF9zdGRvdXQgKz0gIkFjdGlvbjogJEFjdGlvbmByYG5yZXN1bHQgPSAkcmVzdWx0IiAgICAgICANCiAgICAgc2xlZXAgNQ0KICAgICAjbmV0c2ggaW50ZXJmYWNlIGlwdjYgYWRkIHJvdXRlIDo6LzAgIiRBZGFwdGVyX05hbWUiICIkSVB2NF9PUl9JUHY2X0dhdGV3YXkiICAgICAgDQoNCiAgICAgICAgaWYoJHJlc3VsdCAtZXEgJ1N1Y2Nlc3NmdWxseSBDaGFuZ2VkJyl7DQogICAgICAgICAjd3JpdGUtaG9zdCAnQ2hhbmdpbmcgdGhlIElQVjQgR2F0d2F5JyAgICAgICAgDQogICAgICAgICRSZXR1cm5WYWx1ZSA9ICgkZXRoZXJuZXQgfCAlIHsNCiAgICAgICAgICAgICRfLlNldEdhdGV3YXlzKCRJUHY0X09SX0lQdjZfR2F0ZXdheSl9KS5SZXR1cm5WYWx1ZQ0KICAgICANCiAgICAgICAgJENoYW5nZXNpbmZvID0gQ2hlY2tfUmV0dXJuVmFsdWUgLVJldHVybl9WYWx1ZSAkUmV0dXJuVmFsdWUNCiAgICAgICAgI3dyaXRlLWhvc3QgICJpbmY6ICRDaGFuZ2VzaW5mbyAtICRSZXR1cm5WYWx1ZSINCg0KICAgICAgICAkQWN0aW9uID0gJ2luaXRpYXRlIHRvIHNldHRpbmcgR2F0ZXdheScNCiAgICAgICAgJHJlc3VsdCA9ICRDaGFuZ2VzaW5mbw0KICAgICAgICANCiAgICAgICRHbG9iYWw6Q2hhbmdlc19SZXN1bHQgKz0gTmV3LU9iamVjdCBwc29iamVjdCAtUHJvcGVydHkgQHsgQWN0aW9uID0gJEFjdGlvbjtyZXN1bHQgPSAkcmVzdWx0fQ0KICAgICAgJEdsb2JhbDpDaGFuZ2VzX1Jlc3VsdF9zdGRvdXQgKz0gIkFjdGlvbjogJEFjdGlvbmByYG5yZXN1bHQgPSAkcmVzdWx0Ig0KICAgICAgfSANCiAgICAgfQ0KICAgIGVsc2V7DQoNCiN3cml0ZS1ob3N0ICdFbHNlUGFydCBJUFY0Jw0Kc2xlZXAgNQ0KIyBPbmx5IElQQWRkcmVzcyBhbmQgTm90IFN1Ym5ldE1hc2sgZ2l2ZW4NCiAgICBpZighW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQdjRfT1JfSVB2Nl9BZGRyZXNzKSAtYW5kIFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRJUHY0X1N1Ym5ldF9NYXNrKSkNCiAgICB7DQogICAgICBpZighW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQVjRfU3VibmV0KSl7DQogICAgICAjd3JpdGUtaG9zdCAiQWRkaW5nIHRoZSBuZXcgSVBWNCBBZGRyZXNzIGFsb25nIHdpdGggdGhlIFByZXZpb3VzIFN1Ym5ldE1hc2sgJElQdjRfT1JfSVB2Nl9BZGRyZXNzIHwgJElQVjRfU3VibmV0Ig0KICAgICAgDQogICAgICAgICAgICRSZXR1cm5WYWx1ZSA9ICgkZXRoZXJuZXQgfCAlIHsNCiAgICAgICAgICAgJF8uRW5hYmxlU3RhdGljKCRJUHY0X09SX0lQdjZfQWRkcmVzcywgJElQVjRfU3VibmV0KX0pLlJldHVyblZhbHVlDQoNCiAgICAgICRDaGFuZ2VzaW5mbyA9IENoZWNrX1JldHVyblZhbHVlIC1SZXR1cm5fVmFsdWUgJFJldHVyblZhbHVlDQogICAgICAjd3JpdGUtaG9zdCAgImluZjogJENoYW5nZXNpbmZvIC0gJFJldHVyblZhbHVlIg0KDQogICAgICAkQWN0aW9uID0gJ2luaXRpYXRlIHRvIHNldHRpbmcgSVAgQWRkcmVzcyB3aXRoIHRoZSBQcmV2aW91cyBTdWJuZXRNYXNrJw0KICAgICAgJHJlc3VsdCA9ICRDaGFuZ2VzaW5mbw0KICAgICAgICANCiAgICAgICRHbG9iYWw6Q2hhbmdlc19SZXN1bHQgKz0gTmV3LU9iamVjdCBwc29iamVjdCAtUHJvcGVydHkgQHsgQWN0aW9uID0gJEFjdGlvbjtyZXN1bHQgPSAkcmVzdWx0fQ0KICAgICAgICAgICAgICAgICAgICAgICAkR2xvYmFsOkNoYW5nZXNfUmVzdWx0X3N0ZG91dCArPSAiQWN0aW9uOiAkQWN0aW9uYHJgbnJlc3VsdCA9ICRyZXN1bHQiDQogICAgICAgIH1lbHNlew0KICAgICAgICAjd3JpdGUtaG9zdCAiUGxlYXNlIGVudGVyIFN1Ym5ldE1hc2sgYWxzbyBjaGFuZ2UgU0VUIHRoZSBJUCBBZGRyZXNzICgoJElQdjRfT1JfSVB2Nl9BZGRyZXNzKSkiDQogICAgICAgICRHbG9iYWw6SGFzaFRhYmxlX0RhdGEgPSAnUGxlYXNlIGVudGVyIFN1Ym5ldE1hc2sgYWxzbyBjaGFuZ2UgU0VUIHRoZSBJUCBBZGRyZXNzICgoJElQdjRfT1JfSVB2Nl9BZGRyZXNzKSknDQogICAgICAgICRHbG9iYWw6U3RkZXJyICs9IEdldF9zdGRlcnIgLVRpdGxlICdVbmFibGUgdG8gcHJvY2VzcyByZXF1ZXN0JyAtZGV0YWlscyAkR2xvYmFsOkhhc2hUYWJsZV9EYXRhICAgICAgICANCiAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgICAgDQoNCiAgICAgICAgDQogICAgICAgIGlmKCFbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVB2NF9PUl9JUHY2X0dhdGV3YXkpKQ0KICAgICAgICB7DQogICAgICAgICAjd3JpdGUtaG9zdCAnQ2hhbmdpbmcgdGhlIElQVjYgR2F0d2F5JyAgICANCiAgICAgICAgICNuZXRzaCBpbnRlcmZhY2UgaXB2NiBhZGQgcm91dGUgOjovMCAiJEFkYXB0ZXJfTmFtZSIgIiRJUHY0X09SX0lQdjZfR2F0ZXdheSIgICAgICANCg0KICAgICAgICAkUmV0dXJuVmFsdWUgPSAoJGV0aGVybmV0IHwgJSB7DQogICAgICAgICAgICAkXy5TZXRHYXRld2F5cygkSVB2NF9PUl9JUHY2X0dhdGV3YXkpfSkuUmV0dXJuVmFsdWUNCiAgICAgICAgJENoYW5nZXNpbmZvID0gQ2hlY2tfUmV0dXJuVmFsdWUgLVJldHVybl9WYWx1ZSAkUmV0dXJuVmFsdWUNCiAgICAgICAgI3dyaXRlLWhvc3QgICJpbmY6ICRDaGFuZ2VzaW5mbyAtICRSZXR1cm5WYWx1ZSIgICAgICAgIA0KDQogICAgICAgICRBY3Rpb24gPSAnaW5pdGlhdGUgdG8gc2V0dGluZyBHYXRld2F5Jw0KICAgICAgICAkcmVzdWx0ID0gJENoYW5nZXNpbmZvDQogICAgICAgIA0KICAgICAgICAkR2xvYmFsOkNoYW5nZXNfUmVzdWx0ICs9IE5ldy1PYmplY3QgcHNvYmplY3QgLVByb3BlcnR5IEB7IEFjdGlvbiA9ICRBY3Rpb247cmVzdWx0ID0gJHJlc3VsdH0gICAgICAgIA0KICAgICAgICAgICAgICAkR2xvYmFsOkNoYW5nZXNfUmVzdWx0X3N0ZG91dCArPSAiQWN0aW9uOiAkQWN0aW9uYHJgbnJlc3VsdCA9ICRyZXN1bHQiDQogICAgICAgIH0NCiAgICAgICAgDQogICAgICB9DQoNCiAgDQoNCiMgT25seSBTdWZmaXggYW5kIE5vdCBJUCBnaXZlbg0KICAgIGlmKCEkZXRoZXJuZXQuREhDUEVuYWJsZWQgLWFuZCBbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVB2NF9PUl9JUHY2X0FkZHJlc3MpIC1hbmQgIVtzdHJpbmddOjpJc051bGxPckVtcHR5KCRJUHY0X1N1Ym5ldF9NYXNrKSkNCiAgICB7DQogICAgICAjd3JpdGUtaG9zdCAnQ2hhbmdpbmcgU3VibmV0TWFzayB3aXRoIFByZXZpb3VzIElQJw0KICAgICAgI25ldHNoIGludGVyZmFjZSBpcHY2IGFkZCBhZGRyZXNzICRBZGFwdGVyX05hbWUgIiRJUHY0X1N1Ym5ldF9NYXNrIg0KICAgICAgDQogICAgICAgICRSZXR1cm5WYWx1ZSA9ICgkZXRoZXJuZXQgfCAlIHsNCiAgICAgICAgICAgICRfLkVuYWJsZVN0YXRpYygkSVBWNF9JUCwgJElQdjRfU3VibmV0X01hc2spfSkuUmV0dXJuVmFsdWUNCiAgICAgICAgDQogICAgICAgICRDaGFuZ2VzaW5mbyA9IENoZWNrX1JldHVyblZhbHVlIC1SZXR1cm5fVmFsdWUgJFJldHVyblZhbHVlDQogICAgICAgICN3cml0ZS1ob3N0ICAiaW5mOiAkQ2hhbmdlc2luZm8gLSAkUmV0dXJuVmFsdWUiDQoNCiAgICAgICAgJEFjdGlvbiA9ICdpbml0aWF0ZSB0byBzZXR0aW5nIElQIEFkZHJlc3MgYW5kIEdhdGV3YXknDQogICAgICAgICRyZXN1bHQgPSAkQ2hhbmdlc2luZm8NCiAgICAgICAgDQogICAgICAgICRHbG9iYWw6Q2hhbmdlc19SZXN1bHQgKz0gTmV3LU9iamVjdCBwc29iamVjdCAtUHJvcGVydHkgQHsgQWN0aW9uID0gJEFjdGlvbjtyZXN1bHQgPSAkcmVzdWx0fSAgICANCiAgICAgICAgDQogICAgICAgIGlmKCFbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVB2NF9PUl9JUHY2X0dhdGV3YXkpKQ0KICAgICAgICB7DQogICAgICAgICAjd3JpdGUtaG9zdCAnQ2hhbmdpbmcgdGhlIElQVjYgR2F0d2F5Jw0KICAgICAgICAgI25ldHNoIGludGVyZmFjZSBpcHY2IGFkZCByb3V0ZSA6Oi8wICIkQWRhcHRlcl9OYW1lIiAiJElQdjRfT1JfSVB2Nl9HYXRld2F5IiAgICAgIA0KDQogICAgICAgICRSZXR1cm5WYWx1ZSA9ICgkZXRoZXJuZXQgfCAlIHsNCiAgICAgICAgICAgICRfLlNldEdhdGV3YXlzKCRJUHY0X09SX0lQdjZfR2F0ZXdheSl9KS5SZXR1cm5WYWx1ZQ0KICAgICAgICAkQ2hhbmdlc2luZm8gPSBDaGVja19SZXR1cm5WYWx1ZSAtUmV0dXJuX1ZhbHVlICRSZXR1cm5WYWx1ZQ0KICAgICAgICAjd3JpdGUtaG9zdCAgImluZjogJENoYW5nZXNpbmZvIC0gJFJldHVyblZhbHVlIiAgICAgICAgDQoNCiAgICAgICAgJEFjdGlvbiA9ICdpbml0aWF0ZSB0byBzZXR0aW5nIElQIEdhdGV3YXknDQogICAgICAgICRyZXN1bHQgPSAkQ2hhbmdlc2luZm8NCiAgICAgICAgDQogICAgICAgICRHbG9iYWw6Q2hhbmdlc19SZXN1bHQgKz0gTmV3LU9iamVjdCBwc29iamVjdCAtUHJvcGVydHkgQHsgQWN0aW9uID0gJEFjdGlvbjtyZXN1bHQgPSAkcmVzdWx0fSAgIA0KICAgICAgICAgICAgICAgICAgICAgICRHbG9iYWw6Q2hhbmdlc19SZXN1bHRfc3Rkb3V0ICs9ICJBY3Rpb246ICRBY3Rpb25gcmBucmVzdWx0ID0gJHJlc3VsdCINCiAgICAgICAgfQ0KICAgICB9DQogDQogDQogICAgaWYoIVtzdHJpbmddOjpJc051bGxPckVtcHR5KCRJUHY0X09SX0lQdjZfR2F0ZXdheSkgLWFuZCBbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVB2NF9PUl9JUHY2X0FkZHJlc3MpIC1hbmQgW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQdjRfU3VibmV0X01hc2spKQ0KICAgIHsNCiAgICAgICAgICN3cml0ZS1ob3N0ICJDaGFuZ2luZyB0aGUgSVBWNiBHYXR3YXkgJElQdjRfT1JfSVB2Nl9HYXRld2F5Ig0KICAgICAgICAgI25ldHNoIGludGVyZmFjZSBpcHY2IGFkZCByb3V0ZSA6Oi8wICIkQWRhcHRlcl9OYW1lIiAiJElQdjRfT1JfSVB2Nl9HYXRld2F5IiAgICAgIA0KDQogICAgICAgICRSZXR1cm5WYWx1ZSA9ICgkZXRoZXJuZXQgfCAlIHsNCiAgICAgICAgICAgICRfLlNldEdhdGV3YXlzKCRJUHY0X09SX0lQdjZfR2F0ZXdheSl9KS5SZXR1cm5WYWx1ZQ0KICAgICAgICAkQ2hhbmdlc2luZm8gPSBDaGVja19SZXR1cm5WYWx1ZSAtUmV0dXJuX1ZhbHVlICRSZXR1cm5WYWx1ZQ0KICAgICAgICAjd3JpdGUtaG9zdCAgImluZjogJENoYW5nZXNpbmZvIC0gJFJldHVyblZhbHVlIiAgICAgICAgDQoNCiAgICAgICAgJEFjdGlvbiA9ICdpbml0aWF0ZSB0byBzZXR0aW5nIElQIEdhdGV3YXknDQogICAgICAgICRyZXN1bHQgPSAkQ2hhbmdlc2luZm8NCiAgICAgICAgDQogICAgICAgICRHbG9iYWw6Q2hhbmdlc19SZXN1bHQgKz0gTmV3LU9iamVjdCBwc29iamVjdCAtUHJvcGVydHkgQHsgQWN0aW9uID0gJEFjdGlvbjtyZXN1bHQgPSAkcmVzdWx0fSAgDQogICAgICAkR2xvYmFsOkNoYW5nZXNfUmVzdWx0X3N0ZG91dCArPSAiQWN0aW9uOiAkQWN0aW9uYHJgbnJlc3VsdCA9ICRyZXN1bHQiDQogICAgIH0gICAgDQoNCiAgICBpZighW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQdjRfT1JfSVB2Nl9BZGRyZXNzKSAtYW5kIFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRJUHY0X09SX0lQdjZfR2F0ZXdheSkgLWFuZCAhW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQdjRfU3VibmV0X01hc2spKQ0KICAgIHsNCiAgICAgICN3cml0ZS1ob3N0ICdBZGRpbmcgdGhlIG5ldyBJUFY0IEFkZHJlc3MrU3VibmV0TWFzaycNCiAgICAgICNuZXRzaCBpbnRlcmZhY2UgaXB2NiBhZGQgYWRkcmVzcyAkQWRhcHRlcl9OYW1lICIkSVB2NF9PUl9JUHY2X0FkZHJlc3MvJElQdjRfU3VibmV0X01hc2siDQogICAgICAgICRSZXR1cm5WYWx1ZSA9ICgkZXRoZXJuZXQgfCAlIHsNCiAgICAgICAgICAgICRfLkVuYWJsZVN0YXRpYygkSVB2NF9PUl9JUHY2X0FkZHJlc3MsICRJUHY0X1N1Ym5ldF9NYXNrKX0pLlJldHVyblZhbHVlDQoNCiAgICAgICAgJENoYW5nZXNpbmZvID0gQ2hlY2tfUmV0dXJuVmFsdWUgLVJldHVybl9WYWx1ZSAkUmV0dXJuVmFsdWUNCiAgICAgICAgI3dyaXRlLWhvc3QgICJpbmY6ICRDaGFuZ2VzaW5mbyAtICRSZXR1cm5WYWx1ZSINCiAgICAgICAgDQogICAgICAgICRBY3Rpb24gPSAnaW5pdGlhdGUgdG8gc2V0dGluZyB1cCBJUFY0IEFkZHJlc3MgfCBTdWJuZXRNYXNrJw0KICAgICAgICAkcmVzdWx0ID0gJENoYW5nZXNpbmZvDQogICAgICAgIA0KICAgICAgJEdsb2JhbDpDaGFuZ2VzX1Jlc3VsdCArPSBOZXctT2JqZWN0IHBzb2JqZWN0IC1Qcm9wZXJ0eSBAeyBBY3Rpb24gPSAkQWN0aW9uO3Jlc3VsdCA9ICRyZXN1bHR9DQogICAgICAkR2xvYmFsOkNoYW5nZXNfUmVzdWx0X3N0ZG91dCArPSAiQWN0aW9uOiAkQWN0aW9uYHJgbnJlc3VsdCA9ICRyZXN1bHQiDQogICAgIH0NCg0KIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjDQp9DQoNCg0KDQp9DQpzbGVlcCA0DQokR2xvYmFsOkNoYW5nZWRfRGF0YSA9IEAoRGlzcGxheUFkYXB0ZXJDb25maWd1cmF0aW9uIC1XaGljaF9WZXJzaW9uX1NldHRpbmdfSVBWNl9PUl9JUFY0ICIkV2hpY2hfVmVyc2lvbl9TZXR0aW5nX0lQVjZfT1JfSVBWNCIgLUFkYXB0ZXJfTmFtZSAiJEFkYXB0ZXJfTmFtZSIpDQp9DQojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgQ2hhbmdlcy9BY3Rpb24gUGFydCBFTkQNCg0KDQoNCg0KIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIEpTT04gQ29udmVydA0KDQojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjDQojIyMjIyMjIyMjIyMjIyMjI0NvbnZlcnRfSGFzaFRvU3RyaW5nDQojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjDQpmdW5jdGlvbiBDb252ZXJ0X0hhc2hUb1N0cmluZw0Ke3BhcmFtKFtTeXN0ZW0uQ29sbGVjdGlvbnMuSGFzaHRhYmxlXSRIYXNoKQ0KJGhhc2hzdHIgPSAiIjsgJGtleXMgPSAkSGFzaC5rZXlzOyBmb3JlYWNoICgka2V5IGluICRrZXlzKSB7ICR2ID0gJEhhc2hbJGtleV07IA0KaWYgKCRrZXkgLW1hdGNoICJccyIpIHsgJGhhc2hzdHIgKz0gImAiJGtleWAiIiArICI6IiArICJgIiR2YCIiICsgIjsiIH0NCmVsc2UgeyAkaGFzaHN0ciArPSAka2V5ICsgIjoiICsgImAiJHZgIiIgKyAiOyIgfSB9OyAkaGFzaHN0ciArPSAiIjsNCnJldHVybiAkaGFzaHN0cn0NCg0KDQpmdW5jdGlvbiBGb3JtYXRTdHJpbmcgew0KICAgIHBhcmFtKA0KICAgICAgICBbU3RyaW5nXSAkU3RyaW5nKQ0KICAgICMgcmVtb3ZlZDogIy1yZXBsYWNlICcvJywgJ1wvJyBgDQogICAgIyBUaGlzIGlzIHJldHVybmVkIA0KICAgICRTdHJpbmcgLXJlcGxhY2UgJ1xcJywgJ1xcJyAtcmVwbGFjZSAnXG4nLCAnXG4nIGANCiAgICAgICAgLXJlcGxhY2UgJ1x1MDAwOCcsICdcYicgLXJlcGxhY2UgJ1x1MDAwQycsICdcZicgLXJlcGxhY2UgJ1xyJywgJ1xyJyBgDQogICAgICAgIC1yZXBsYWNlICdcdCcsICdcdCcgLXJlcGxhY2UgJyInLCAnXCInDQp9DQoNCmZ1bmN0aW9uIEdldE51bWJlck9yU3RyaW5nIHsNCiAgICBwYXJhbSgNCiAgICAgICAgJElucHV0T2JqZWN0KQ0KICAgIGlmICgkSW5wdXRPYmplY3QgLWlzIFtTeXN0ZW0uQnl0ZV0gLW9yICRJbnB1dE9iamVjdCAtaXMgW1N5c3RlbS5JbnQzMl0gLW9yIGANCiAgICAgICAgKCRlbnY6UFJPQ0VTU09SX0FSQ0hJVEVDVFVSRSAtaW1hdGNoICdeKD86YW1kNjR8aWE2NCkkJyAtYW5kICRJbnB1dE9iamVjdCAtaXMgW1N5c3RlbS5JbnQ2NF0pIC1vciBgDQogICAgICAgICRJbnB1dE9iamVjdCAtaXMgW1N5c3RlbS5EZWNpbWFsXSAtb3IgJElucHV0T2JqZWN0IC1pcyBbU3lzdGVtLkRvdWJsZV0gLW9yIGANCiAgICAgICAgJElucHV0T2JqZWN0IC1pcyBbU3lzdGVtLlNpbmdsZV0gLW9yICRJbnB1dE9iamVjdCAtaXMgW2xvbmddIC1vciBgDQogICAgICAgICgkU2NyaXB0OkNvZXJjZU51bWJlclN0cmluZ3MgLWFuZCAkSW5wdXRPYmplY3QgLW1hdGNoICRTY3JpcHQ6TnVtYmVyUmVnZXgpKSB7DQogICAgICAgIFdyaXRlLVZlcmJvc2UgLU1lc3NhZ2UgIkdvdCBhIG51bWJlciBhcyBlbmQgdmFsdWUuIg0KICAgICAgICAiJElucHV0T2JqZWN0Ig0KICAgIH0NCiAgICBlbHNlIHsNCiAgICAgICAgV3JpdGUtVmVyYm9zZSAtTWVzc2FnZSAiR290IGEgc3RyaW5nIGFzIGVuZCB2YWx1ZS4iDQogICAgICAgICIiIiQoRm9ybWF0U3RyaW5nIC1TdHJpbmcgJElucHV0T2JqZWN0KSIiIg0KICAgIH0NCn0NCg0KZnVuY3Rpb24gQ29udmVydFRvSnNvbkludGVybmFsIHsNCiAgICBwYXJhbSgNCiAgICAgICAgJElucHV0T2JqZWN0LCAjIG5vIHR5cGUgZm9yIGEgcmVhc29uDQogICAgICAgIFtJbnQzMl0gJFdoaXRlU3BhY2VQYWQgPSAwKQ0KICAgIFtTdHJpbmddICRKc29uID0gIiINCiAgICAkS2V5cyA9IEAoKQ0KICAgIFdyaXRlLVZlcmJvc2UgLU1lc3NhZ2UgIldoaXRlU3BhY2VQYWQ6ICRXaGl0ZVNwYWNlUGFkLiINCiAgICBpZiAoJG51bGwgLWVxICRJbnB1dE9iamVjdCkgew0KICAgICAgICBXcml0ZS1WZXJib3NlIC1NZXNzYWdlICJHb3QgJ251bGwnIGluIGAkSW5wdXRPYmplY3QgaW4gaW5uZXIgZnVuY3Rpb24iDQogICAgICAgICRudWxsDQogICAgfQ0KICAgIGVsc2VpZiAoJElucHV0T2JqZWN0IC1pcyBbQm9vbF0gLWFuZCAkSW5wdXRPYmplY3QgLWVxICR0cnVlKSB7DQogICAgICAgIFdyaXRlLVZlcmJvc2UgLU1lc3NhZ2UgIkdvdCAndHJ1ZScgaW4gYCRJbnB1dE9iamVjdCBpbiBpbm5lciBmdW5jdGlvbiINCiAgICAgICAgJHRydWUNCiAgICB9DQogICAgZWxzZWlmICgkSW5wdXRPYmplY3QgLWlzIFtCb29sXSAtYW5kICRJbnB1dE9iamVjdCAtZXEgJGZhbHNlKSB7DQogICAgICAgIFdyaXRlLVZlcmJvc2UgLU1lc3NhZ2UgIkdvdCAnZmFsc2UnIGluIGAkSW5wdXRPYmplY3QgaW4gaW5uZXIgZnVuY3Rpb24iDQogICAgICAgICRmYWxzZQ0KICAgIH0NCiAgICBlbHNlaWYgKCRJbnB1dE9iamVjdCAtaXMgW0hhc2hUYWJsZV0pIHsNCiAgICAgICAgJEtleXMgPSBAKCRJbnB1dE9iamVjdC5LZXlzKQ0KICAgICAgICBXcml0ZS1WZXJib3NlIC1NZXNzYWdlICJJbnB1dCBvYmplY3QgaXMgYSBoYXNoIHRhYmxlIChrZXlzOiAkKCRLZXlzIC1qb2luICcsICcpKS4iDQogICAgfQ0KICAgIGVsc2VpZiAoJElucHV0T2JqZWN0LkdldFR5cGUoKS5GdWxsTmFtZSAtZXEgIlN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDdXN0b21PYmplY3QiKSB7DQogICAgICAgICRLZXlzID0gQChHZXQtTWVtYmVyIC1JbnB1dE9iamVjdCAkSW5wdXRPYmplY3QgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IHwNCiAgICAgICAgICAgIFNlbGVjdC1PYmplY3QgLUV4cGFuZFByb3BlcnR5IE5hbWUpDQogICAgICAgIFdyaXRlLVZlcmJvc2UgLU1lc3NhZ2UgIklucHV0IG9iamVjdCBpcyBhIGN1c3RvbSBQb3dlclNoZWxsIG9iamVjdCAocHJvcGVydGllczogJCgkS2V5cyAtam9pbiAnLCAnKSkuIg0KICAgIH0NCiAgICBlbHNlaWYgKCRJbnB1dE9iamVjdC5HZXRUeXBlKCkuTmFtZSAtbWF0Y2ggJ1xbXF18QXJyYXknKSB7DQogICAgICAgIFdyaXRlLVZlcmJvc2UgLU1lc3NhZ2UgIklucHV0IG9iamVjdCBhcHBlYXJzIHRvIGJlIG9mIGEgY29sbGVjdGlvbi9hcnJheSB0eXBlLiINCiAgICAgICAgV3JpdGUtVmVyYm9zZSAtTWVzc2FnZSAiQnVpbGRpbmcgSlNPTiBmb3IgYXJyYXkgaW5wdXQgb2JqZWN0LiINCiAgICAgICAgIyRKc29uICs9ICIgIiAqICgoNCAqICgkV2hpdGVTcGFjZVBhZCAvIDQpKSArIDQpICsgIltgbiIgKyAoKCRJbnB1dE9iamVjdCB8IEZvckVhY2gtT2JqZWN0IHsNCiAgICAgICAgJEpzb24gKz0gIltgbiIgKyAoKCRJbnB1dE9iamVjdCB8IEZvckVhY2gtT2JqZWN0IHsNCiAgICAgICAgICAgIGlmICgkbnVsbCAtZXEgJF8pIHsNCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlIC1NZXNzYWdlICJHb3QgbnVsbCBpbnNpZGUgYXJyYXkuIg0KICAgICAgICAgICAgICAgICIgIiAqICgoNCAqICgkV2hpdGVTcGFjZVBhZCAvIDQpKSArIDQpICsgIm51bGwiDQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlaWYgKCRfIC1pcyBbQm9vbF0gLWFuZCAkXyAtZXEgJHRydWUpIHsNCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlIC1NZXNzYWdlICJHb3QgJ3RydWUnIGluc2lkZSBhcnJheS4iDQogICAgICAgICAgICAgICAgIiAiICogKCg0ICogKCRXaGl0ZVNwYWNlUGFkIC8gNCkpICsgNCkgKyAidHJ1ZSINCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2VpZiAoJF8gLWlzIFtCb29sXSAtYW5kICRfIC1lcSAkZmFsc2UpIHsNCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlIC1NZXNzYWdlICJHb3QgJ2ZhbHNlJyBpbnNpZGUgYXJyYXkuIg0KICAgICAgICAgICAgICAgICIgIiAqICgoNCAqICgkV2hpdGVTcGFjZVBhZCAvIDQpKSArIDQpICsgImZhbHNlIg0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZWlmICgkXyAtaXMgW0hhc2hUYWJsZV0gLW9yICRfLkdldFR5cGUoKS5GdWxsTmFtZSAtZXEgIlN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDdXN0b21PYmplY3QiIC1vciAkXy5HZXRUeXBlKCkuTmFtZSAtbWF0Y2ggJ1xbXF18QXJyYXknKSB7DQogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAtTWVzc2FnZSAiRm91bmQgYXJyYXksIGhhc2ggdGFibGUgb3IgY3VzdG9tIFBvd2VyU2hlbGwgb2JqZWN0IGluc2lkZSBhcnJheS4iDQogICAgICAgICAgICAgICAgIiAiICogKCg0ICogKCRXaGl0ZVNwYWNlUGFkIC8gNCkpICsgNCkgKyAoQ29udmVydFRvSnNvbkludGVybmFsIC1JbnB1dE9iamVjdCAkXyAtV2hpdGVTcGFjZVBhZCAoJFdoaXRlU3BhY2VQYWQgKyA0KSkgLXJlcGxhY2UgJ1xzKixccyokJyAjLXJlcGxhY2UgJ1wgezR9XScsICddJw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAtTWVzc2FnZSAiR290IGEgbnVtYmVyIG9yIHN0cmluZyBpbnNpZGUgYXJyYXkuIg0KICAgICAgICAgICAgICAgICRUZW1wSnNvblN0cmluZyA9IEdldE51bWJlck9yU3RyaW5nIC1JbnB1dE9iamVjdCAkXw0KICAgICAgICAgICAgICAgICIgIiAqICgoNCAqICgkV2hpdGVTcGFjZVBhZCAvIDQpKSArIDQpICsgJFRlbXBKc29uU3RyaW5nDQogICAgICAgICAgICB9DQogICAgICAgICN9KSAtam9pbiAiLGBuIikgKyAiYG5dLGBuIg0KICAgICAgICB9KSAtam9pbiAiLGBuIikgKyAiYG4kKCIgIiAqICg0ICogKCRXaGl0ZVNwYWNlUGFkIC8gNCkpKV0sYG4iDQogICAgfQ0KICAgIGVsc2Ugew0KICAgICAgICBXcml0ZS1WZXJib3NlIC1NZXNzYWdlICJJbnB1dCBvYmplY3QgaXMgYSBzaW5nbGUgZWxlbWVudCAodHJlYXRlZCBhcyBzdHJpbmcvbnVtYmVyKS4iDQogICAgICAgIEdldE51bWJlck9yU3RyaW5nIC1JbnB1dE9iamVjdCAkSW5wdXRPYmplY3QNCiAgICB9DQogICAgaWYgKCRLZXlzLkNvdW50KSB7DQogICAgICAgIFdyaXRlLVZlcmJvc2UgLU1lc3NhZ2UgIkJ1aWxkaW5nIEpTT04gZm9yIGhhc2ggdGFibGUgb3IgY3VzdG9tIFBvd2VyU2hlbGwgb2JqZWN0LiINCiAgICAgICAgJEpzb24gKz0gIntgbiINCiAgICAgICAgZm9yZWFjaCAoJEtleSBpbiAkS2V5cykgew0KICAgICAgICAgICAgIyAtaXMgW1BTQ3VzdG9tT2JqZWN0XSkgeyAjIHRoaXMgd2FzIGJ1Z2d5IHdpdGggY2FsY3VsYXRlZCBwcm9wZXJ0aWVzLCB0aGUgdmFsdWUgd2FzIHRob3VnaHQgdG8gYmUgUFNDdXN0b21PYmplY3QNCiAgICAgICAgICAgIGlmICgkbnVsbCAtZXEgJElucHV0T2JqZWN0LiRLZXkpIHsNCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlIC1NZXNzYWdlICJHb3QgbnVsbCBhcyBgJElucHV0T2JqZWN0LmAkS2V5IGluIGlubmVyIGhhc2ggb3IgUFMgb2JqZWN0LiINCiAgICAgICAgICAgICAgICAkSnNvbiArPSAiICIgKiAoKDQgKiAoJFdoaXRlU3BhY2VQYWQgLyA0KSkgKyA0KSArICIiIiRLZXkiIjogbnVsbCxgbiINCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2VpZiAoJElucHV0T2JqZWN0LiRLZXkgLWlzIFtCb29sXSAtYW5kICRJbnB1dE9iamVjdC4kS2V5IC1lcSAkdHJ1ZSkgew0KICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgLU1lc3NhZ2UgIkdvdCAndHJ1ZScgaW4gYCRJbnB1dE9iamVjdC5gJEtleSBpbiBpbm5lciBoYXNoIG9yIFBTIG9iamVjdC4iDQogICAgICAgICAgICAgICAgJEpzb24gKz0gIiAiICogKCg0ICogKCRXaGl0ZVNwYWNlUGFkIC8gNCkpICsgNCkgKyAiIiIkS2V5IiI6IHRydWUsYG4iICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZWlmICgkSW5wdXRPYmplY3QuJEtleSAtaXMgW0Jvb2xdIC1hbmQgJElucHV0T2JqZWN0LiRLZXkgLWVxICRmYWxzZSkgew0KICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgLU1lc3NhZ2UgIkdvdCAnZmFsc2UnIGluIGAkSW5wdXRPYmplY3QuYCRLZXkgaW4gaW5uZXIgaGFzaCBvciBQUyBvYmplY3QuIg0KICAgICAgICAgICAgICAgICRKc29uICs9ICIgIiAqICgoNCAqICgkV2hpdGVTcGFjZVBhZCAvIDQpKSArIDQpICsgIiIiJEtleSIiOiBmYWxzZSxgbiINCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2VpZiAoJElucHV0T2JqZWN0LiRLZXkgLWlzIFtIYXNoVGFibGVdIC1vciAkSW5wdXRPYmplY3QuJEtleS5HZXRUeXBlKCkuRnVsbE5hbWUgLWVxICJTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3VzdG9tT2JqZWN0Iikgew0KICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgLU1lc3NhZ2UgIklucHV0IG9iamVjdCdzIHZhbHVlIGZvciBrZXkgJyRLZXknIGlzIGEgaGFzaCB0YWJsZSBvciBjdXN0b20gUG93ZXJTaGVsbCBvYmplY3QuIg0KICAgICAgICAgICAgICAgICRKc29uICs9ICIgIiAqICgkV2hpdGVTcGFjZVBhZCArIDQpICsgIiIiJEtleSIiOmBuJCgiICIgKiAoJFdoaXRlU3BhY2VQYWQgKyA0KSkiDQogICAgICAgICAgICAgICAgJEpzb24gKz0gQ29udmVydFRvSnNvbkludGVybmFsIC1JbnB1dE9iamVjdCAkSW5wdXRPYmplY3QuJEtleSAtV2hpdGVTcGFjZVBhZCAoJFdoaXRlU3BhY2VQYWQgKyA0KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZWlmICgkSW5wdXRPYmplY3QuJEtleS5HZXRUeXBlKCkuTmFtZSAtbWF0Y2ggJ1xbXF18QXJyYXknKSB7DQogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAtTWVzc2FnZSAiSW5wdXQgb2JqZWN0J3MgdmFsdWUgZm9yIGtleSAnJEtleScgaGFzIGEgdHlwZSB0aGF0IGFwcGVhcnMgdG8gYmUgYSBjb2xsZWN0aW9uL2FycmF5LiINCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlIC1NZXNzYWdlICJCdWlsZGluZyBKU09OIGZvciAke0tleX0ncyBhcnJheSB2YWx1ZS4iDQogICAgICAgICAgICAgICAgJEpzb24gKz0gIiAiICogKCRXaGl0ZVNwYWNlUGFkICsgNCkgKyAiIiIkS2V5IiI6YG4kKCIgIiAqICgoNCAqICgkV2hpdGVTcGFjZVBhZCAvIDQpKSArIDQpKVtgbiIgKyAoKCRJbnB1dE9iamVjdC4kS2V5IHwgRm9yRWFjaC1PYmplY3Qgew0KICAgICAgICAgICAgICAgICAgICAjV3JpdGUtVmVyYm9zZSAiVHlwZSBpbnNpZGUgYXJyYXkgaW5zaWRlIGFycmF5L2hhc2gvUFNPYmplY3Q6ICQoJF8uR2V0VHlwZSgpLkZ1bGxOYW1lKSINCiAgICAgICAgICAgICAgICAgICAgaWYgKCRudWxsIC1lcSAkXykgew0KICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAtTWVzc2FnZSAiR290IG51bGwgaW5zaWRlIGFycmF5IGluc2lkZSBpbnNpZGUgYXJyYXkuIg0KICAgICAgICAgICAgICAgICAgICAgICAgIiAiICogKCg0ICogKCRXaGl0ZVNwYWNlUGFkIC8gNCkpICsgOCkgKyAibnVsbCINCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKCRfIC1pcyBbQm9vbF0gLWFuZCAkXyAtZXEgJHRydWUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgLU1lc3NhZ2UgIkdvdCAndHJ1ZScgaW5zaWRlIGFycmF5IGluc2lkZSBpbnNpZGUgYXJyYXkuIg0KICAgICAgICAgICAgICAgICAgICAgICAgIiAiICogKCg0ICogKCRXaGl0ZVNwYWNlUGFkIC8gNCkpICsgOCkgKyAidHJ1ZSINCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKCRfIC1pcyBbQm9vbF0gLWFuZCAkXyAtZXEgJGZhbHNlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlIC1NZXNzYWdlICJHb3QgJ2ZhbHNlJyBpbnNpZGUgYXJyYXkgaW5zaWRlIGluc2lkZSBhcnJheS4iDQogICAgICAgICAgICAgICAgICAgICAgICAiICIgKiAoKDQgKiAoJFdoaXRlU3BhY2VQYWQgLyA0KSkgKyA4KSArICJmYWxzZSINCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKCRfIC1pcyBbSGFzaFRhYmxlXSAtb3IgJF8uR2V0VHlwZSgpLkZ1bGxOYW1lIC1lcSAiU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0N1c3RvbU9iamVjdCIgYA0KICAgICAgICAgICAgICAgICAgICAgICAgLW9yICRfLkdldFR5cGUoKS5OYW1lIC1tYXRjaCAnXFtcXXxBcnJheScpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgLU1lc3NhZ2UgIkZvdW5kIGFycmF5LCBoYXNoIHRhYmxlIG9yIGN1c3RvbSBQb3dlclNoZWxsIG9iamVjdCBpbnNpZGUgaW5zaWRlIGFycmF5LiINCiAgICAgICAgICAgICAgICAgICAgICAgICIgIiAqICgoNCAqICgkV2hpdGVTcGFjZVBhZCAvIDQpKSArIDgpICsgKENvbnZlcnRUb0pzb25JbnRlcm5hbCAtSW5wdXRPYmplY3QgJF8gLVdoaXRlU3BhY2VQYWQgKCRXaGl0ZVNwYWNlUGFkICsgOCkpIC1yZXBsYWNlICdccyosXHMqJCcNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgLU1lc3NhZ2UgIkdvdCBhIHN0cmluZyBvciBudW1iZXIgaW5zaWRlIGluc2lkZSBhcnJheS4iDQogICAgICAgICAgICAgICAgICAgICAgICAkVGVtcEpzb25TdHJpbmcgPSBHZXROdW1iZXJPclN0cmluZyAtSW5wdXRPYmplY3QgJF8NCiAgICAgICAgICAgICAgICAgICAgICAgICIgIiAqICgoNCAqICgkV2hpdGVTcGFjZVBhZCAvIDQpKSArIDgpICsgJFRlbXBKc29uU3RyaW5nDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KSAtam9pbiAiLGBuIikgKyAiYG4kKCIgIiAqICg0ICogKCRXaGl0ZVNwYWNlUGFkIC8gNCkgKyA0ICkpXSxgbiINCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgLU1lc3NhZ2UgIkdvdCBhIHN0cmluZyBpbnNpZGUgaW5zaWRlIGhhc2h0YWJsZSBvciBQU09iamVjdC4iDQogICAgICAgICAgICAgICAgIyAnXFwoPyFbIi9iZm5ydF18dVswLTlhLWZdezR9KScNCiAgICAgICAgICAgICAgICAkVGVtcEpzb25TdHJpbmcgPSBHZXROdW1iZXJPclN0cmluZyAtSW5wdXRPYmplY3QgJElucHV0T2JqZWN0LiRLZXkNCiAgICAgICAgICAgICAgICAkSnNvbiArPSAiICIgKiAoKDQgKiAoJFdoaXRlU3BhY2VQYWQgLyA0KSkgKyA0KSArICIiIiRLZXkiIjogJFRlbXBKc29uU3RyaW5nLGBuIg0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgICRKc29uID0gJEpzb24gLXJlcGxhY2UgJ1xzKiwkJyAjIHJlbW92ZSB0cmFpbGluZyBjb21tYSB0aGF0J2xsIGJyZWFrIHN5bnRheA0KICAgICAgICAkSnNvbiArPSAiYG4iICsgIiAiICogJFdoaXRlU3BhY2VQYWQgKyAifSxgbiINCiAgICB9DQogICAgJEpzb24NCn0NCg0KZnVuY3Rpb24gQ29udmVydFRvLUpTT04yIHsNCiAgICBbQ21kbGV0QmluZGluZygpXQ0KICAgICNbT3V0cHV0VHlwZShbVm9pZF0sIFtCb29sXSwgW1N0cmluZ10pXQ0KICAgIHBhcmFtKA0KICAgICAgICBbQWxsb3dOdWxsKCldDQogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlLA0KICAgICAgICAgICAgICAgICAgIFZhbHVlRnJvbVBpcGVsaW5lPSR0cnVlLA0KICAgICAgICAgICAgICAgICAgIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUpXQ0KICAgICAgICAkSW5wdXRPYmplY3QsDQogICAgICAgIFtTd2l0Y2hdICRDb21wcmVzcywNCiAgICAgICAgW1N3aXRjaF0gJENvZXJjZU51bWJlclN0cmluZ3MgPSAkZmFsc2UpDQogICAgYmVnaW57DQogICAgICAgICRKc29uT3V0cHV0ID0gIiINCiAgICAgICAgJENvbGxlY3Rpb24gPSBAKCkNCiAgICAgICAgIyBOb3Qgb3B0aW1hbCwgYnV0IHRoZSBlYXNpZXN0IG5vdy4NCiAgICAgICAgW0Jvb2xdICRTY3JpcHQ6Q29lcmNlTnVtYmVyU3RyaW5ncyA9ICRDb2VyY2VOdW1iZXJTdHJpbmdzDQogICAgICAgIFtTdHJpbmddICRTY3JpcHQ6TnVtYmVyUmVnZXggPSAnXi0/XGQrKD86KD86XC5cZCspPyg/OmVbK1wtXT9cZCspPyk/JCcNCiAgICAgICAgIyRTY3JpcHQ6TnVtYmVyQW5kVmFsdWVSZWdleCA9ICdeLT9cZCsoPzooPzpcLlxkKyk/KD86ZVsrXC1dP1xkKyk/KT8kfF4oPzp0cnVlfGZhbHNlfG51bGwpJCcNCiAgICB9DQogICAgcHJvY2VzcyB7DQogICAgICAgICMgSGFja2luZyBvbiBwaXBlbGluZSBzdXBwb3J0IC4uLg0KICAgICAgICBpZiAoJF8pIHsNCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgLU1lc3NhZ2UgIkFkZGluZyBvYmplY3QgdG8gYCRDb2xsZWN0aW9uLiBUeXBlIG9mIG9iamVjdDogJCgkXy5HZXRUeXBlKCkuRnVsbE5hbWUpLiINCiAgICAgICAgICAgICRDb2xsZWN0aW9uICs9ICRfDQogICAgICAgIH0NCiAgICB9DQogICAgZW5kIHsNCiAgICAgICAgaWYgKCRDb2xsZWN0aW9uLkNvdW50KSB7DQogICAgICAgICAgICBXcml0ZS1WZXJib3NlIC1NZXNzYWdlICJDb2xsZWN0aW9uIGNvdW50OiAkKCRDb2xsZWN0aW9uLkNvdW50KSwgdHlwZSBvZiBmaXJzdCBvYmplY3Q6ICQoJENvbGxlY3Rpb25bMF0uR2V0VHlwZSgpLkZ1bGxOYW1lKS4iDQogICAgICAgICAgICAkSnNvbk91dHB1dCA9IENvbnZlcnRUb0pzb25JbnRlcm5hbCAtSW5wdXRPYmplY3QgKCRDb2xsZWN0aW9uIHwgRm9yRWFjaC1PYmplY3QgeyAkXyB9KQ0KICAgICAgICB9DQogICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgJEpzb25PdXRwdXQgPSBDb252ZXJ0VG9Kc29uSW50ZXJuYWwgLUlucHV0T2JqZWN0ICRJbnB1dE9iamVjdA0KICAgICAgICB9DQogICAgICAgIGlmICgkbnVsbCAtZXEgJEpzb25PdXRwdXQpIHsNCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgLU1lc3NhZ2UgIlJldHVybmluZyBgJG51bGwuIg0KICAgICAgICAgICAgcmV0dXJuICRudWxsICMgYmVjb21lcyBhbiBlbXB0eSBzdHJpbmcgOi8NCiAgICAgICAgfQ0KICAgICAgICBlbHNlaWYgKCRKc29uT3V0cHV0IC1pcyBbQm9vbF0gLWFuZCAkSnNvbk91dHB1dCAtZXEgJHRydWUpIHsNCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgLU1lc3NhZ2UgIlJldHVybmluZyBgJHRydWUuIg0KICAgICAgICAgICAgW0Jvb2xdICR0cnVlICMgZG9lc24ndCBwcmVzZXJ2ZSBib29sIHR5cGUgOi8gYnV0IHdvcmtzIGZvciBjb21wYXJpc29ucyBhZ2FpbnN0ICR0cnVlDQogICAgICAgIH0NCiAgICAgICAgZWxzZWlmICgkSnNvbk91dHB1dC1pcyBbQm9vbF0gLWFuZCAkSnNvbk91dHB1dCAtZXEgJGZhbHNlKSB7DQogICAgICAgICAgICBXcml0ZS1WZXJib3NlIC1NZXNzYWdlICJSZXR1cm5pbmcgYCRmYWxzZS4iDQogICAgICAgICAgICBbQm9vbF0gJGZhbHNlICMgZG9lc24ndCBwcmVzZXJ2ZSBib29sIHR5cGUgOi8gYnV0IHdvcmtzIGZvciBjb21wYXJpc29ucyBhZ2FpbnN0ICRmYWxzZQ0KICAgICAgICB9DQogICAgICAgIGVsc2VpZiAoJENvbXByZXNzKSB7DQogICAgICAgICAgICBXcml0ZS1WZXJib3NlIC1NZXNzYWdlICJDb21wcmVzcyBzcGVjaWZpZWQuIg0KICAgICAgICAgICAgKA0KICAgICAgICAgICAgICAgICgkSnNvbk91dHB1dCAtc3BsaXQgIlxuIiB8IFdoZXJlLU9iamVjdCB7ICRfIC1tYXRjaCAnXFMnIH0pIC1qb2luICJgbiIgYA0KICAgICAgICAgICAgICAgICAgICAtcmVwbGFjZSAnXlxzKnxccyosXHMqJCcgLXJlcGxhY2UgJ1wgKlxdXCAqJCcsICddJw0KICAgICAgICAgICAgKSAtcmVwbGFjZSAoICMgdGhlc2UgbmV4dCBsaW5lcyBjb21wcmVzcyAuLi4NCiAgICAgICAgICAgICAgICAnKD9tKV5ccyooIig/OlxcInxbXiJdKSsiKTogKCg/OiIoPzpcXCJ8W14iXSkrIil8KD86bnVsbHx0cnVlfGZhbHNlfCg/OicgKyBgDQogICAgICAgICAgICAgICAgICAgICRTY3JpcHQ6TnVtYmVyUmVnZXguVHJpbSgnXiQnKSArIGANCiAgICAgICAgICAgICAgICAgICAgJykpKVxzKig/PENvbW1hPiwpP1xzKiQnKSwgImAkezF9OmAkezJ9YCR7Q29tbWF9YG4iIGANCiAgICAgICAgICAgICAgLXJlcGxhY2UgJyg/bSleXHMqfFxzKlx6fFtcclxuXSsnDQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAoJEpzb25PdXRwdXQgLXNwbGl0ICJcbiIgfCBXaGVyZS1PYmplY3QgeyAkXyAtbWF0Y2ggJ1xTJyB9KSAtam9pbiAiYG4iIGANCiAgICAgICAgICAgICAgICAtcmVwbGFjZSAnXlxzKnxccyosXHMqJCcgLXJlcGxhY2UgJ1wgKlxdXCAqJCcsICddJw0KICAgICAgICB9DQogICAgfQ0KfQ0KDQpmdW5jdGlvbiBDb252ZXJ0VG8tSnNvbjIwKFtvYmplY3RdICRpdGVtKXsNCiAgICBhZGQtdHlwZSAtYXNzZW1ibHkgc3lzdGVtLndlYi5leHRlbnNpb25zDQogICAgJHBzX2pzPW5ldy1vYmplY3Qgc3lzdGVtLndlYi5zY3JpcHQuc2VyaWFsaXphdGlvbi5qYXZhc2NyaXB0U2VyaWFsaXplcg0KICAgIHJldHVybiAkcHNfanMuU2VyaWFsaXplKCRpdGVtKQ0KfQ0KDQpmdW5jdGlvbiBDb252ZXJ0RnJvbS1Kc29uMjAoW29iamVjdF0gJGl0ZW0peyANCiAgICBhZGQtdHlwZSAtYXNzZW1ibHkgc3lzdGVtLndlYi5leHRlbnNpb25zDQogICAgJHBzX2pzPW5ldy1vYmplY3Qgc3lzdGVtLndlYi5zY3JpcHQuc2VyaWFsaXphdGlvbi5qYXZhc2NyaXB0U2VyaWFsaXplcg0KDQogICAgI1RoZSBjb21tYSBvcGVyYXRvciBpcyB0aGUgYXJyYXkgY29uc3RydWN0aW9uIG9wZXJhdG9yIGluIFBvd2VyU2hlbGwNCiAgICByZXR1cm4gLCRwc19qcy5EZXNlcmlhbGl6ZU9iamVjdCgkaXRlbSkNCn0NCg0KDQpmdW5jdGlvbiBIYXNoVGFibGVfQXJyYXlfSlNPTnsNClBhcmFtKCRIZWFkaW5nVW5kZXJfZGF0YU9iamVjdF9BcnJheSwkQXJyYXksJHRhc2tOYW1lLCRzdGF0dXMsJENvZGUsJHN0ZG91dCwkc3RkZXJyLCRvYmplY3RzLCRyZXN1bHQpDQoNCmlmKCRwc3ZlcnNpb250YWJsZS5QU1ZlcnNpb24uTWFqb3IgLWVxIDIpDQp7DQogICAgaWYoJHN0ZGVyciAtZXEgJG51bGwpew0KICAgICRheGEgPSBDb252ZXJ0VG8tSlNPTjIgLUlucHV0T2JqZWN0IEB7dGFza05hbWUgPSAiJHRhc2tOYW1lIjtzdGF0dXMgPSAiJHN0YXR1cyI7Q29kZSA9ICIkQ29kZSI7c3Rkb3V0ID0gQCgkc3Rkb3V0KTtvYmplY3RzID0gIiRvYmplY3RzIjtyZXN1bHQgPSAiJHJlc3VsdCINCiAgICBkYXRhT2JqZWN0ID0gQHsiJEhlYWRpbmdVbmRlcl9kYXRhT2JqZWN0X0FycmF5IiA9IEAoJEFycmF5KX0NCiAgICB9DQogICAgfQ0KDQogICAgaWYoJHN0ZGVyciAtbmUgJG51bGwpew0KICAgICRheGEgPSBDb252ZXJ0VG8tSlNPTjIgLUlucHV0T2JqZWN0IEB7dGFza05hbWUgPSAiJHRhc2tOYW1lIjtzdGF0dXMgPSAiJHN0YXR1cyI7Q29kZSA9ICIkQ29kZSI7c3Rkb3V0ID0gQCgkc3Rkb3V0KTtyZXN1bHQgPSAiJHJlc3VsdCINCiAgICAgICAgc3RkZXJyID0gQCgkc3RkZXJyKQ0KICAgIH0NCiAgICB9DQp9ZWxzZQ0Kew0KI3dyaXRlLWhvc3QgJ2l0cyBub3QgVmVyc2lvbiAyJw0KICAgIGlmKCRzdGRlcnIgLWVxICRudWxsKXsNCiAgICAgJEhhc2hUYWJsZSA9IFtvcmRlcmVkXUB7dGFza05hbWUgPSAiJHRhc2tOYW1lIjtzdGF0dXMgPSAiJHN0YXR1cyI7Q29kZSA9ICIkQ29kZSI7c3Rkb3V0ID0gQCgkc3Rkb3V0KTtvYmplY3RzID0gIiRvYmplY3RzIjtyZXN1bHQgPSAiJHJlc3VsdCINCiAgICAgICAgZGF0YU9iamVjdCA9IEB7IiRIZWFkaW5nVW5kZXJfZGF0YU9iamVjdF9BcnJheSIgPSBAKCRBcnJheSl9DQogICAgICAgIH0NCiAgICAkYXhhID0gQ29udmVydFRvLUpzb24gLUlucHV0T2JqZWN0ICRIYXNoVGFibGUgLURlcHRoIDEwMA0KICAgIH0NCg0KICAgIGlmKCRzdGRlcnIgLW5lICRudWxsKXsNCiAgICAkSGFzaFRhYmxlID0gW29yZGVyZWRdQHt0YXNrTmFtZSA9ICIkdGFza05hbWUiO3N0YXR1cyA9ICIkc3RhdHVzIjtDb2RlID0gIiRDb2RlIjtzdGRvdXQgPSBAKCRzdGRvdXQpO3Jlc3VsdCA9ICIkcmVzdWx0Ig0KICAgICAgICBzdGRlcnIgPSBAKCRzdGRlcnIpDQogICAgfQ0KICAgICRheGEgPSBDb252ZXJ0VG8tSnNvbiAtSW5wdXRPYmplY3QgJEhhc2hUYWJsZSAtRGVwdGggMTAwDQogICAgfQ0KfQ0KIyRCYWNrVE9IYXNUYWJsZSA9IENvbnZlcnRGcm9tLUpzb24yMCAkYXhhDQojJEJhY2tUT0hhc1RhYmxlDQokYXhhDQp9DQoNCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIEpTT04gQ29udmVydCBFTkQNCg0KDQoNCg0KDQokYWRhcHRlciA9IChHd21pIHdpbjMyX25ldHdvcmthZGFwdGVyIHwgPyB7JF8uTmV0Q29ubmVjdGlvbklEIC1lcSAiJEFkYXB0ZXJfTmFtZSJ9KQ0KaWYoJGFkYXB0ZXIuTmV0RW5hYmxlZCAtZXEgJEZhbHNlKXsNCiN3cml0ZS1ob3N0ICdQcm92aWRlZCBBZGFwdGVyIGlzIGluIERpc2FibGVkIFN0YXRlJw0KDQokU3RkZXJyID0gR2V0X3N0ZGVyciAtVGl0bGUgJ1Byb3ZpZGVkIEFkYXB0ZXIgaXMgaW4gRGlzYWJsZWQgU3RhdGUnIC1kZXRhaWxzICJQcm92aWRlZCBBZGFwdGVyIGlzIGluIERpc2FibGVkIFN0YXRlIFskQWRhcHRlcl9OYW1lXSINCg0KJEhhc2hEYXRhID0gSGFzaFRhYmxlX0FycmF5X0pTT04gLXRhc2tOYW1lICdTZXQgc3RhdGljIElQIGluZm9ybWF0aW9uJyAtc3RhdHVzICdGYWlsZWQnIC1Db2RlICcxJyAtc3Rkb3V0ICJQcm92aWRlZCBBZGFwdGVyIGlzIGluIERpc2FibGVkIFN0YXRlIGhlbmNlIGNhbid0IHByb2Nlc3MgZnVydGhlciIgLXN0ZGVyciAkU3RkZXJyIC1yZXN1bHQgJ0Vycm9yOiBQcm92aWRlZCBBZGFwdGVyIGlzIGluIERpc2FibGVkIFN0YXRlJw0KJEpTT04yID0gJEhhc2hEYXRhDQoNCn1lbHNlew0KDQokV2hpY2hfVmVyc2lvbl9TZXR0aW5nX0lQVjZfT1JfSVBWNCA9ICRudWxsDQoNCmZ1bmN0aW9uIFZhbGlkYXRlU3VibmV0TWFzaw0Ke3BhcmFtICgkc3RyU3VibmV0TWFzaykNCgkkYlZhbGlkTWFzayA9ICR0cnVlDQoJJGFyclNlY3Rpb25zID0gQCgpDQoJJGFyclNlY3Rpb25zICs9JHN0clN1Ym5ldE1hc2suc3BsaXQoIi4iKQ0KCSNmaXJzdGx5LCBtYWtlIHN1cmUgdGhlcmUgYXJlIDQgc2VjdGlvbnMgaW4gdGhlIHN1Ym5ldCBtYXNrDQoJaWYgKCRhcnJTZWN0aW9ucy5jb3VudCAtbmUgNCkgeyRiVmFsaWRNYXNrID0kZmFsc2V9DQoJDQoJI3NlY29uZGx5LCBtYWtlIHN1cmUgaXQgb25seSBjb250YWlucyBudW1iZXJzIGFuZCBpdCdzIGJldHdlZW4gMC0yNTUNCglpZiAoJGJWYWxpZE1hc2spDQoJew0KCQlbcmVmbGVjdGlvbi5hc3NlbWJseV06OkxvYWRXaXRoUGFydGlhbE5hbWUoIidNaWNyb3NvZnQuVmlzdWFsQmFzaWMiKSB8IE91dC1OdWxsDQoJCWZvcmVhY2ggKCRpdGVtIGluICRhcnJTZWN0aW9ucykNCgkJew0KCQkJaWYgKCEoW01pY3Jvc29mdC5WaXN1YWxCYXNpYy5JbmZvcm1hdGlvbl06OmlzbnVtZXJpYygkaXRlbSkpKSB7JGJWYWxpZE1hc2sgPSAkZmFsc2V9DQoJCX0NCgl9DQoJDQoJaWYgKCRiVmFsaWRNYXNrKQ0KCXsNCgkJZm9yZWFjaCAoJGl0ZW0gaW4gJGFyclNlY3Rpb25zKQ0KCQl7DQoJCQkkaXRlbSA9IFtpbnRdJGl0ZW0NCgkJCWlmICgkaXRlbSAtbHQgMCAtb3IgJGl0ZW0gLWd0IDI1NSkgeyRiVmFsaWRNYXNrID0gJGZhbHNlfQ0KCQl9DQoJfQ0KCQ0KCSNsYXN0bHksIG1ha2Ugc3VyZSBpdCBpcyBhY3R1YWxseSBhIHN1Ym5ldCBtYXNrIHdoZW4gY29udmVydGVkIGludG8gYmluYXJ5IGZvcm1hdA0KCWlmICgkYlZhbGlkTWFzaykNCgl7DQoJCWZvcmVhY2ggKCRpdGVtIGluICRhcnJTZWN0aW9ucykNCgkJew0KCQkJJGJpbmFyeSA9IFtDb252ZXJ0XTo6VG9TdHJpbmcoJGl0ZW0sMikNCgkJCWlmICgkYmluYXJ5Lmxlbmd0aCAtbHQgOCkNCgkJCXsNCgkJCQlkbyB7DQoJCQkJJGJpbmFyeSA9ICIwJGJpbmFyeSINCgkJCQl9IHdoaWxlICgkYmluYXJ5Lmxlbmd0aCAtbHQgOCkNCgkJCX0NCgkJCSRzdHJGdWxsQmluYXJ5ID0gJHN0ckZ1bGxCaW5hcnkrJGJpbmFyeQ0KCQl9DQoJCWlmICgkc3RyRnVsbEJpbmFyeS5jb250YWlucygiMDEiKSkgeyRiVmFsaWRNYXNrID0gJGZhbHNlfQ0KCQlpZiAoJGJWYWxpZE1hc2spDQoJCXsNCgkJCSRzdHJGdWxsQmluYXJ5ID0gJHN0ckZ1bGxCaW5hcnkucmVwbGFjZSgiMTAiLCAiMS4wIikNCgkJCWlmICgoKCRzdHJGdWxsQmluYXJ5LnNwbGl0KCIuIikpLmNvdW50IC1uZSAyKSkgeyRiVmFsaWRNYXNrID0gJGZhbHNlfQ0KCQl9DQoJfQ0KCQ0KDQogICAgICAgIGlmKCRiVmFsaWRNYXNrKXsNCiAgICAgICAgUmV0dXJuICIkc3RyU3VibmV0TWFza3xWYWxpZCBGb3JtYXQiDQogICAgICAgIH1lbHNlew0KICAgICAgICBSZXR1cm4gIiRzdHJTdWJuZXRNYXNrfEluVmFsaWQgRm9ybWF0Ig0KICAgICAgICB9DQp9DQoNCmZ1bmN0aW9uIElQVjZfSVBWNF9Gb3JtYXRfVmFsaWRhdGlvbnsNCnBhcmFtKCRBZGRyZXNzLCRJUF9UeXBlLCRBZGRyZXNzX3R5cGUpDQoNCiRJcCA9ICIkQWRkcmVzcyINCg0KaWYoW2lwYWRkcmVzc106OnRyeXBhcnNlKCRpcCxbcmVmXSRudWxsKSApew0KICAgIA0KICAgIGlmKChbaXBhZGRyZXNzXSIkaXAiKS5BZGRyZXNzRmFtaWx5IC1lcSAnSW50ZXJOZXR3b3JrVjYnKXsNCiAgICAjIiRJcC1JUFY2fFZhbGlkIEZvcm1hdCINCiAgICAgICAgaWYoJElQX1R5cGUgLWVxICdJUFY2Jyl7DQogICAgICAgICIkSXB8VmFsaWQgRm9ybWF0IiAgICAgICAgDQogICAgICAgIH1lbHNlew0KICAgICAgICAiJElwfEluVmFsaWQgRm9ybWF0Ig0KICAgICAgICB9DQogICAgICAgICAgDQogICAgfWlmKChbaXBhZGRyZXNzXSIkaXAiKS5BZGRyZXNzRmFtaWx5IC1lcSAnSW50ZXJOZXR3b3JrJyl7DQogICAgICAgICAgIyIkSXAtSVBWNHxWYWxpZCBGb3JtYXQiDQogICAgICAgIGlmKCRJUF9UeXBlIC1lcSAnSVBWNCcpew0KICAgICAgICAiJElwfFZhbGlkIEZvcm1hdCIgICAgICAgIA0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgIiRJcHxJblZhbGlkIEZvcm1hdCINCiAgICAgICAgfQ0KDQogICAgfQ0KDQp9ZWxzZXsNCg0KIiRJcHxJblZhbGlkIEZvcm1hdCINCn0NCg0KfQ0KDQoNCmlmKCRBZGRyZXNzX1R5cGVfSVB2NF9JUHY2IC1lcSAnSVBWNCcpew0KDQogICAgaWYoW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQdjRfT1JfSVB2Nl9BZGRyZXNzKSAtYW5kIFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRJUHY0X09SX0lQdjZfR2F0ZXdheSkgLWFuZCBbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVB2NF9TdWJuZXRfTWFzaykpDQogICAgeyANCiAgICAgICAgI3dyaXRlLWhvc3QgJ1BsZWFzZSBwcm92aWRlIElQVjQgTmV0d29yayBBZGFwdGVyIEluZm9ybWF0aW9uJw0KICAgICRHbG9iYWw6SGFzaFRhYmxlX0RhdGEgPSAnUGxlYXNlIHByb3ZpZGUgSVBWNCBOZXR3b3JrIEFkYXB0ZXIgSW5mb3JtYXRpb24nDQoNCiAgICAkR2xvYmFsOlN0ZGVyciArPSBHZXRfc3RkZXJyIC1UaXRsZSAnVW5hYmxlIHRvIHByb2Nlc3MgcmVxdWVzdCcgLWRldGFpbHMgJEdsb2JhbDpIYXNoVGFibGVfRGF0YQ0KICAgIA0KICAgIEpTT05PdXRQdXRDYWxsDQogICAgcmV0dXJuICAgICAgICAgIA0KICAgIH0NCg0KICAgIGlmKCFbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVB2NF9PUl9JUHY2X0FkZHJlc3MpIC1hbmQgIVtzdHJpbmddOjpJc051bGxPckVtcHR5KCRJUHY0X09SX0lQdjZfR2F0ZXdheSkgLWFuZCAhW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQdjRfU3VibmV0X01hc2spKQ0KICAgIHsgDQoNCiAgICAgICBpZihWYWxpZGF0ZV9BZGFwdGVyTmFtZSAtQWRhcHRlcl9OYW1lICRBZGFwdGVyX05hbWUpew0KICAgICAgICRHTG9iYWw6QWRhcHRlclZhbGlkYXRpb24gPSAnWUVTJw0KICAgICAgICAjd3JpdGUtaG9zdCAnVG8gYmUgY2hhbmdlIElQVjQgQWRkcmVzcy0tSVBWNCBHYXRld2F5LS1JUFY0IFN1Ym5ldE1hc2snDQoNCg0KICAgICAgICAgICAgJElQVjRBZGRyZXNzID0gSVBWNl9JUFY0X0Zvcm1hdF9WYWxpZGF0aW9uIC1BZGRyZXNzICRJUHY0X09SX0lQdjZfQWRkcmVzcyAtSVBfVHlwZSAkQWRkcmVzc19UeXBlX0lQdjRfSVB2Ng0KICAgICAgICAgICAgJElQVjRHYXRld2F5ID0gSVBWNl9JUFY0X0Zvcm1hdF9WYWxpZGF0aW9uIC1BZGRyZXNzICRJUHY0X09SX0lQdjZfR2F0ZXdheSAtSVBfVHlwZSAkQWRkcmVzc19UeXBlX0lQdjRfSVB2Ng0KICAgICAgICAgICAgJElQVjRTdWJuZXQgPSBWYWxpZGF0ZVN1Ym5ldE1hc2sgLXN0clN1Ym5ldE1hc2sgJElQdjRfU3VibmV0X01hc2sNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgJEdsb2JhbDpGb3JtYXRfQ2hlY2sgPSBuZXctb2JqZWN0IHBzb2JqZWN0IC1Qcm9wZXJ0eSBAeydBZGRyZXNzIFR5cGUgKElQdjQvSVB2NiknID0gJEFkZHJlc3NfVHlwZV9JUHY0X0lQdjY7DQogICAgICAgICAgICBJUFY0QWRkcmVzcyA9ICRJUFY0QWRkcmVzcw0KICAgICAgICAgICAgSVBWNEdhdGV3YXkgPSAkSVBWNEdhdGV3YXkNCiAgICAgICAgICAgIElQVjRTdWJuZXQgPSAkSVBWNFN1Ym5ldA0KICAgICAgICAgICAgfSB8IHNlbGVjdCAnQWRkcmVzcyBUeXBlIChJUHY0L0lQdjYpJyxJUFY0QWRkcmVzcyxJUFY0R2F0ZXdheSxJUFY0U3VibmV0DQogICAgICAgICAgDQoNCiAgICAgICAgICAgIGlmKCRHbG9iYWw6Rm9ybWF0X0NoZWNrLklQVjRBZGRyZXNzIC1saWtlICcqSW5WYWxpZConKXskSVB2NF9PUl9JUHY2X0FkZHJlc3NfU3RvcmVkID0gJElQdjRfT1JfSVB2Nl9BZGRyZXNzIDskSVB2NF9PUl9JUHY2X0FkZHJlc3MgPSAkbnVsbH0gICAgICANCiAgICAgICAgICAgIGlmKCRHbG9iYWw6Rm9ybWF0X0NoZWNrLklQVjRHYXRld2F5IC1saWtlICcqSW5WYWxpZConKXskSVB2NF9PUl9JUHY2X0dhdGV3YXlfU3RvcmVkID0gJElQdjRfT1JfSVB2Nl9HYXRld2F5IDskSVB2NF9PUl9JUHY2X0dhdGV3YXkgPSAkbnVsbH0NCiAgICAgICAgICAgIGlmKCRHbG9iYWw6Rm9ybWF0X0NoZWNrLklQVjRTdWJuZXQgLWxpa2UgJypJblZhbGlkKicpeyRJUHY0X1N1Ym5ldF9NYXNrX1N0b3JlZCA9ICRJUHY0X1N1Ym5ldF9NYXNrIDskSVB2NF9TdWJuZXRfTWFzayA9ICRudWxsfQ0KICAgICAgICANCiAgICAgICAgICAgICAgICBpZigkR2xvYmFsOkZvcm1hdF9DaGVjayB8ICUgeyRfIC1saWtlICcqSW5WYWxpZConfSl7SlNPTk91dFB1dENhbGw7cmV0dXJufQ0KDQogICAgICAgIGlmKCEoVGVzdC1Db25uZWN0aW9uICRJUHY0X09SX0lQdjZfR2F0ZXdheSAtUXVpZXQgLUNvdW50IDEpKXsgJEdMb2JhbDpHYXRld2F5T2ZmbGluZSA9ICdZRVMnO0pTT05PdXRQdXRDYWxsO3JldHVybn0gICAgICAgICAgICANCiAgICAgICAgQ2hhbmdlX0FkYXB0ZXJfU2V0dGluZ3MgLUFkYXB0ZXJfTmFtZSAkQWRhcHRlcl9OYW1lIC1XaGljaF9WZXJzaW9uX1NldHRpbmdfSVBWNl9PUl9JUFY0ICIkQWRkcmVzc19UeXBlX0lQdjRfSVB2NiIgLUlQdjRfT1JfSVB2Nl9BZGRyZXNzICRJUHY0X09SX0lQdjZfQWRkcmVzcyAtSVB2NF9PUl9JUHY2X0dhdGV3YXkgJElQdjRfT1JfSVB2Nl9HYXRld2F5IC1JUHY0X1N1Ym5ldF9NYXNrICRJUHY0X1N1Ym5ldF9NYXNrDQogICAgICAgIH1lbHNleyRHTG9iYWw6QWRhcHRlclZhbGlkYXRpb24gPSAnTk8nO0pTT05PdXRQdXRDYWxsO3JldHVybn0NCiAgICANCiAgICB9DQogICAgDQogICAgDQogICAgaWYoISAoW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQdjRfT1JfSVB2Nl9BZGRyZXNzKSkgLWFuZCBbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVB2NF9PUl9JUHY2X0dhdGV3YXkpIC1hbmQgW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQdjRfU3VibmV0X01hc2spKQ0KICAgIHsgDQogICAgICAgICN3cml0ZS1ob3N0ICdUbyBiZSBjaGFuZ2UgSVBWNCBBZGRyZXNzJyAgDQoNCiAgICAgICAgaWYoVmFsaWRhdGVfQWRhcHRlck5hbWUgLUFkYXB0ZXJfTmFtZSAkQWRhcHRlcl9OYW1lKXsNCiAgICAgICAkR0xvYmFsOkFkYXB0ZXJWYWxpZGF0aW9uID0gJ1lFUycNCiAgICAgICAgICAgICRJUFY0QWRkcmVzcyA9IElQVjZfSVBWNF9Gb3JtYXRfVmFsaWRhdGlvbiAtQWRkcmVzcyAkSVB2NF9PUl9JUHY2X0FkZHJlc3MgLUlQX1R5cGUgJEFkZHJlc3NfVHlwZV9JUHY0X0lQdjYNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgJEdsb2JhbDpGb3JtYXRfQ2hlY2sgPSBuZXctb2JqZWN0IHBzb2JqZWN0IC1Qcm9wZXJ0eSBAeydBZGRyZXNzIFR5cGUgKElQdjQvSVB2NiknID0gJEFkZHJlc3NfVHlwZV9JUHY0X0lQdjY7ICAgICAgICAgIA0KICAgICAgICAgICAgSVBWNEFkZHJlc3MgPSAkSVBWNEFkZHJlc3MNCiAgICAgICAgICAgIH0gfCBzZWxlY3QgJ0FkZHJlc3MgVHlwZSAoSVB2NC9JUHY2KScsIElQVjRBZGRyZXNzDQoNCiAgICAgICAgICAgIGlmKCRHbG9iYWw6Rm9ybWF0X0NoZWNrLklQVjRBZGRyZXNzIC1saWtlICcqSW5WYWxpZConKXskSVB2NF9PUl9JUHY2X0FkZHJlc3NfU3RvcmVkID0gJElQdjRfT1JfSVB2Nl9BZGRyZXNzIDskSVB2NF9PUl9JUHY2X0FkZHJlc3MgPSAkbnVsbH0gICAgICANCiAgICAgICAgICAgIGlmKCRHbG9iYWw6Rm9ybWF0X0NoZWNrLklQVjRHYXRld2F5IC1saWtlICcqSW5WYWxpZConKXskSVB2NF9PUl9JUHY2X0dhdGV3YXlfU3RvcmVkID0gJElQdjRfT1JfSVB2Nl9HYXRld2F5IDskSVB2NF9PUl9JUHY2X0dhdGV3YXkgPSAkbnVsbH0NCiAgICAgICAgICAgIGlmKCRHbG9iYWw6Rm9ybWF0X0NoZWNrLklQVjRTdWJuZXQgLWxpa2UgJypJblZhbGlkKicpeyRJUHY0X1N1Ym5ldF9NYXNrX1N0b3JlZCA9ICRJUHY0X1N1Ym5ldF9NYXNrIDskSVB2NF9TdWJuZXRfTWFzayA9ICRudWxsfQ0KICAgICAgICAgICAgDQogICAgICAgICBpZigkR2xvYmFsOkZvcm1hdF9DaGVjayB8ICUgeyRfIC1saWtlICcqSW5WYWxpZConfSl7SlNPTk91dFB1dENhbGw7cmV0dXJufSAgDQogICAgICAgIA0KICAgICAgICBDaGFuZ2VfQWRhcHRlcl9TZXR0aW5ncyAtQWRhcHRlcl9OYW1lICRBZGFwdGVyX05hbWUgLVdoaWNoX1ZlcnNpb25fU2V0dGluZ19JUFY2X09SX0lQVjQgIiRBZGRyZXNzX1R5cGVfSVB2NF9JUHY2IiAtSVB2NF9PUl9JUHY2X0FkZHJlc3MgJElQdjRfT1JfSVB2Nl9BZGRyZXNzDQogICAgICAgIH1lbHNleyRHTG9iYWw6QWRhcHRlclZhbGlkYXRpb24gPSAnTk8nO0pTT05PdXRQdXRDYWxsO3JldHVybn0NCiAgICANCiAgICB9DQogICAgDQogICAgaWYoW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQdjRfT1JfSVB2Nl9BZGRyZXNzKSAtYW5kICEoW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQdjRfT1JfSVB2Nl9HYXRld2F5KSkgLWFuZCBbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVB2NF9TdWJuZXRfTWFzaykpDQogICAgeyANCiAgICAgICAgI3dyaXRlLWhvc3QgJ1RvIGJlIGNoYW5nZSBJUFY0IEdhdGV3YXknDQogICAgICAgIGlmKFZhbGlkYXRlX0FkYXB0ZXJOYW1lIC1BZGFwdGVyX05hbWUgJEFkYXB0ZXJfTmFtZSl7DQogICAgICAgJEdMb2JhbDpBZGFwdGVyVmFsaWRhdGlvbiA9ICdZRVMnDQoNCiAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAkSVBWNEdhdGV3YXkgPSBJUFY2X0lQVjRfRm9ybWF0X1ZhbGlkYXRpb24gLUFkZHJlc3MgJElQdjRfT1JfSVB2Nl9HYXRld2F5IC1JUF9UeXBlICRBZGRyZXNzX1R5cGVfSVB2NF9JUHY2DQogICAgICAgICAgICANCiAgICAgICAgICAgICRHbG9iYWw6Rm9ybWF0X0NoZWNrID0gbmV3LW9iamVjdCBwc29iamVjdCAtUHJvcGVydHkgQHsnQWRkcmVzcyBUeXBlIChJUHY0L0lQdjYpJyA9ICRBZGRyZXNzX1R5cGVfSVB2NF9JUHY2Ow0KICAgICAgICAgICAgSVBWNEdhdGV3YXkgPSAkSVBWNEdhdGV3YXkNCiAgICAgICAgICAgIH0gfCBzZWxlY3QgJ0FkZHJlc3MgVHlwZSAoSVB2NC9JUHY2KScsSVBWNEdhdGV3YXkNCg0KICAgICAgICAgICAgaWYoJEdsb2JhbDpGb3JtYXRfQ2hlY2suSVBWNEFkZHJlc3MgLWxpa2UgJypJblZhbGlkKicpeyRJUHY0X09SX0lQdjZfQWRkcmVzc19TdG9yZWQgPSAkSVB2NF9PUl9JUHY2X0FkZHJlc3MgOyRJUHY0X09SX0lQdjZfQWRkcmVzcyA9ICRudWxsfSAgICAgIA0KICAgICAgICAgICAgaWYoJEdsb2JhbDpGb3JtYXRfQ2hlY2suSVBWNEdhdGV3YXkgLWxpa2UgJypJblZhbGlkKicpeyRJUHY0X09SX0lQdjZfR2F0ZXdheV9TdG9yZWQgPSAkSVB2NF9PUl9JUHY2X0dhdGV3YXkgOyRJUHY0X09SX0lQdjZfR2F0ZXdheSA9ICRudWxsfQ0KICAgICAgICAgICAgaWYoJEdsb2JhbDpGb3JtYXRfQ2hlY2suSVBWNFN1Ym5ldCAtbGlrZSAnKkluVmFsaWQqJyl7JElQdjRfU3VibmV0X01hc2tfU3RvcmVkID0gJElQdjRfU3VibmV0X01hc2sgOyRJUHY0X1N1Ym5ldF9NYXNrID0gJG51bGx9ICAgICANCiAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoJEdsb2JhbDpGb3JtYXRfQ2hlY2sgfCAlIHskXyAtbGlrZSAnKkluVmFsaWQqJ30pe0pTT05PdXRQdXRDYWxsO3JldHVybn0NCiAgICAgICAgICAgICAgICAgIA0KICAgICAgICBpZighKFRlc3QtQ29ubmVjdGlvbiAkSVB2NF9PUl9JUHY2X0dhdGV3YXkgLVF1aWV0IC1Db3VudCAxKSl7ICRHTG9iYWw6R2F0ZXdheU9mZmxpbmUgPSAnWUVTJztKU09OT3V0UHV0Q2FsbDtyZXR1cm59ICAgICAgICAgICAgDQogICAgICAgIENoYW5nZV9BZGFwdGVyX1NldHRpbmdzIC1BZGFwdGVyX05hbWUgJEFkYXB0ZXJfTmFtZSAtV2hpY2hfVmVyc2lvbl9TZXR0aW5nX0lQVjZfT1JfSVBWNCAiJEFkZHJlc3NfVHlwZV9JUHY0X0lQdjYiIC1JUHY0X09SX0lQdjZfR2F0ZXdheSAkSVB2NF9PUl9JUHY2X0dhdGV3YXkgICAgICAgIA0KICAgICAgICB9ZWxzZXskR0xvYmFsOkFkYXB0ZXJWYWxpZGF0aW9uID0gJ05PJztKU09OT3V0UHV0Q2FsbDtyZXR1cm59DQogICAgDQogICAgfSAgICANCiAgICBpZihbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVB2NF9PUl9JUHY2X0FkZHJlc3MpIC1hbmQgW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQdjRfT1JfSVB2Nl9HYXRld2F5KSAtYW5kICEoW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQdjRfU3VibmV0X01hc2spKSkNCiAgICB7IA0KICAgICAgICAjd3JpdGUtaG9zdCAnVG8gYmUgY2hhbmdlIElQVjQgU3VibmV0TWFzaycgIA0KDQogICAgICAgIGlmKFZhbGlkYXRlX0FkYXB0ZXJOYW1lIC1BZGFwdGVyX05hbWUgJEFkYXB0ZXJfTmFtZSl7IA0KICAgICAgICRHTG9iYWw6QWRhcHRlclZhbGlkYXRpb24gPSAnWUVTJw0KICAgICAgICAgICAgJElQVjRTdWJuZXQgPSBWYWxpZGF0ZVN1Ym5ldE1hc2sgLXN0clN1Ym5ldE1hc2sgJElQdjRfU3VibmV0X01hc2sNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgJEdsb2JhbDpGb3JtYXRfQ2hlY2sgPSBuZXctb2JqZWN0IHBzb2JqZWN0IC1Qcm9wZXJ0eSBAeydBZGRyZXNzIFR5cGUgKElQdjQvSVB2NiknID0gJEFkZHJlc3NfVHlwZV9JUHY0X0lQdjY7DQogICAgICAgICAgICBJUFY0U3VibmV0ID0gJElQVjRTdWJuZXQNCiAgICAgICAgICAgIH0gfCBzZWxlY3QgJ0FkZHJlc3MgVHlwZSAoSVB2NC9JUHY2KScsIElQVjRTdWJuZXQNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYoJEdsb2JhbDpGb3JtYXRfQ2hlY2suSVBWNEFkZHJlc3MgLWxpa2UgJypJblZhbGlkKicpeyRJUHY0X09SX0lQdjZfQWRkcmVzc19TdG9yZWQgPSAkSVB2NF9PUl9JUHY2X0FkZHJlc3MgOyRJUHY0X09SX0lQdjZfQWRkcmVzcyA9ICRudWxsfSAgICAgIA0KICAgICAgICAgICAgaWYoJEdsb2JhbDpGb3JtYXRfQ2hlY2suSVBWNEdhdGV3YXkgLWxpa2UgJypJblZhbGlkKicpeyRJUHY0X09SX0lQdjZfR2F0ZXdheV9TdG9yZWQgPSAkSVB2NF9PUl9JUHY2X0dhdGV3YXkgOyRJUHY0X09SX0lQdjZfR2F0ZXdheSA9ICRudWxsfQ0KICAgICAgICAgICAgaWYoJEdsb2JhbDpGb3JtYXRfQ2hlY2suSVBWNFN1Ym5ldCAtbGlrZSAnKkluVmFsaWQqJyl7JElQdjRfU3VibmV0X01hc2tfU3RvcmVkID0gJElQdjRfU3VibmV0X01hc2sgOyRJUHY0X1N1Ym5ldF9NYXNrID0gJG51bGx9DQogICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJEdsb2JhbDpGb3JtYXRfQ2hlY2sgfCAlIHskXyAtbGlrZSAnKkluVmFsaWQqJ30pe0pTT05PdXRQdXRDYWxsO3JldHVybn0NCg0KICAgICAgIA0KICAgICAgICBDaGFuZ2VfQWRhcHRlcl9TZXR0aW5ncyAtQWRhcHRlcl9OYW1lICRBZGFwdGVyX05hbWUgLVdoaWNoX1ZlcnNpb25fU2V0dGluZ19JUFY2X09SX0lQVjQgIiRBZGRyZXNzX1R5cGVfSVB2NF9JUHY2IiAtSVB2NF9TdWJuZXRfTWFzayAkSVB2NF9TdWJuZXRfTWFzayAgICAgICAgICAgICAgICANCiAgICAgICAgfWVsc2V7JEdMb2JhbDpBZGFwdGVyVmFsaWRhdGlvbiA9ICdOTyc7SlNPTk91dFB1dENhbGw7cmV0dXJufQ0KICAgIA0KICAgIH0NCiAgICANCg0KDQoNCiAgICBpZighW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQdjRfT1JfSVB2Nl9BZGRyZXNzKSAtYW5kIFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRJUHY0X09SX0lQdjZfR2F0ZXdheSkgLWFuZCAhW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQdjRfU3VibmV0X01hc2spKQ0KICAgIHsgDQogICAgICAgICN3cml0ZS1ob3N0ICdUbyBiZSBjaGFuZ2UgSVBWNCBBZGRyZXNzLS1TdWJuZXRfTWFzaycgDQoNCiAgICAgICAgIGlmKFZhbGlkYXRlX0FkYXB0ZXJOYW1lIC1BZGFwdGVyX05hbWUgJEFkYXB0ZXJfTmFtZSl7DQogICAgICAgICAgICAgICAgJEdMb2JhbDpBZGFwdGVyVmFsaWRhdGlvbiA9ICdZRVMnDQogICAgICAgICRJUFY0QWRkcmVzcyA9IElQVjZfSVBWNF9Gb3JtYXRfVmFsaWRhdGlvbiAtQWRkcmVzcyAkSVB2NF9PUl9JUHY2X0FkZHJlc3MgLUlQX1R5cGUgJEFkZHJlc3NfVHlwZV9JUHY0X0lQdjYNCiAgICAgICAgJElQVjRTdWJuZXQgPSBWYWxpZGF0ZVN1Ym5ldE1hc2sgLXN0clN1Ym5ldE1hc2sgJElQdjRfU3VibmV0X01hc2sNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgJEdsb2JhbDpGb3JtYXRfQ2hlY2sgPSBuZXctb2JqZWN0IHBzb2JqZWN0IC1Qcm9wZXJ0eSBAeydBZGRyZXNzIFR5cGUgKElQdjQvSVB2NiknID0gJEFkZHJlc3NfVHlwZV9JUHY0X0lQdjY7DQogICAgICAgICAgICBJUFY0QWRkcmVzcyA9ICRJUFY0QWRkcmVzcw0KICAgICAgICAgICAgSVBWNFN1Ym5ldCA9ICRJUFY0U3VibmV0DQogICAgICAgICAgICB9IHwgc2VsZWN0ICdBZGRyZXNzIFR5cGUgKElQdjQvSVB2NiknLCBJUFY0QWRkcmVzcyxJUFY0U3VibmV0DQoNCiAgICAgICAgICAgIGlmKCRHbG9iYWw6Rm9ybWF0X0NoZWNrLklQVjRBZGRyZXNzIC1saWtlICcqSW5WYWxpZConKXskSVB2NF9PUl9JUHY2X0FkZHJlc3NfU3RvcmVkID0gJElQdjRfT1JfSVB2Nl9BZGRyZXNzIDskSVB2NF9PUl9JUHY2X0FkZHJlc3MgPSAkbnVsbH0gICAgICANCiAgICAgICAgICAgIGlmKCRHbG9iYWw6Rm9ybWF0X0NoZWNrLklQVjRHYXRld2F5IC1saWtlICcqSW5WYWxpZConKXskSVB2NF9PUl9JUHY2X0dhdGV3YXlfU3RvcmVkID0gJElQdjRfT1JfSVB2Nl9HYXRld2F5IDskSVB2NF9PUl9JUHY2X0dhdGV3YXkgPSAkbnVsbH0NCiAgICAgICAgICAgIGlmKCRHbG9iYWw6Rm9ybWF0X0NoZWNrLklQVjRTdWJuZXQgLWxpa2UgJypJblZhbGlkKicpeyRJUHY0X1N1Ym5ldF9NYXNrX1N0b3JlZCA9ICRJUHY0X1N1Ym5ldF9NYXNrIDskSVB2NF9TdWJuZXRfTWFzayA9ICRudWxsfQ0KICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkR2xvYmFsOkZvcm1hdF9DaGVjayB8ICUgeyRfIC1saWtlICcqSW5WYWxpZConfSl7SlNPTk91dFB1dENhbGw7cmV0dXJufSAgDQogICAgICAgICAgICAgICAgICAgICAgDQoNCiAgICAgICAgIENoYW5nZV9BZGFwdGVyX1NldHRpbmdzIC1BZGFwdGVyX05hbWUgJEFkYXB0ZXJfTmFtZSAtV2hpY2hfVmVyc2lvbl9TZXR0aW5nX0lQVjZfT1JfSVBWNCAiJEFkZHJlc3NfVHlwZV9JUHY0X0lQdjYiIC1JUHY0X09SX0lQdjZfQWRkcmVzcyAkSVB2NF9PUl9JUHY2X0FkZHJlc3MgLUlQdjRfU3VibmV0X01hc2sgJElQdjRfU3VibmV0X01hc2sgICAgICAgICANCiAgICAgICAgfWVsc2V7JEdMb2JhbDpBZGFwdGVyVmFsaWRhdGlvbiA9ICdOTyc7SlNPTk91dFB1dENhbGw7cmV0dXJufQ0KICAgIA0KICAgIH0NCiAgICBpZihbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVB2NF9PUl9JUHY2X0FkZHJlc3MpIC1hbmQgIShbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVB2NF9PUl9JUHY2X0dhdGV3YXkpKSAtYW5kICEoW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQdjRfU3VibmV0X01hc2spKSkNCiAgICB7IA0KICAgICAgICAjd3JpdGUtaG9zdCAnVG8gYmUgY2hhbmdlIElQVjQgR2F0ZXdheS0tU3VibmV0X01hc2snICANCiAgICAgICAgaWYoVmFsaWRhdGVfQWRhcHRlck5hbWUgLUFkYXB0ZXJfTmFtZSAkQWRhcHRlcl9OYW1lKXsNCiAgICAgICAgICAgICAgICRHTG9iYWw6QWRhcHRlclZhbGlkYXRpb24gPSAnWUVTJw0KDQogICAgICAgICAgICAgICAgICAgICAgICAkSVBWNEdhdGV3YXkgPSBJUFY2X0lQVjRfRm9ybWF0X1ZhbGlkYXRpb24gLUFkZHJlc3MgJElQdjRfT1JfSVB2Nl9HYXRld2F5IC1JUF9UeXBlICRBZGRyZXNzX1R5cGVfSVB2NF9JUHY2DQokSVBWNFN1Ym5ldCA9IFZhbGlkYXRlU3VibmV0TWFzayAtc3RyU3VibmV0TWFzayAkSVB2NF9TdWJuZXRfTWFzaw0KICAgICAgICAgICAgDQogICAgICAgICAgICAkR2xvYmFsOkZvcm1hdF9DaGVjayA9IG5ldy1vYmplY3QgcHNvYmplY3QgLVByb3BlcnR5IEB7J0FkZHJlc3MgVHlwZSAoSVB2NC9JUHY2KScgPSAkQWRkcmVzc19UeXBlX0lQdjRfSVB2NjsNCiAgICAgICAgICAgIElQVjRHYXRld2F5ID0gJElQVjRHYXRld2F5DQogICAgICAgICAgICBJUFY0U3VibmV0ID0gJElQVjRTdWJuZXQNCiAgICAgICAgICAgIH0gfCBzZWxlY3QgJ0FkZHJlc3MgVHlwZSAoSVB2NC9JUHY2KScsIElQVjRHYXRld2F5LElQVjRTdWJuZXQNCg0KICAgICAgICAgICAgaWYoJEdsb2JhbDpGb3JtYXRfQ2hlY2suSVBWNEFkZHJlc3MgLWxpa2UgJypJblZhbGlkKicpeyRJUHY0X09SX0lQdjZfQWRkcmVzc19TdG9yZWQgPSAkSVB2NF9PUl9JUHY2X0FkZHJlc3MgOyRJUHY0X09SX0lQdjZfQWRkcmVzcyA9ICRudWxsfSAgICAgIA0KICAgICAgICAgICAgaWYoJEdsb2JhbDpGb3JtYXRfQ2hlY2suSVBWNEdhdGV3YXkgLWxpa2UgJypJblZhbGlkKicpeyRJUHY0X09SX0lQdjZfR2F0ZXdheV9TdG9yZWQgPSAkSVB2NF9PUl9JUHY2X0dhdGV3YXkgOyRJUHY0X09SX0lQdjZfR2F0ZXdheSA9ICRudWxsfQ0KICAgICAgICAgICAgaWYoJEdsb2JhbDpGb3JtYXRfQ2hlY2suSVBWNFN1Ym5ldCAtbGlrZSAnKkluVmFsaWQqJyl7JElQdjRfU3VibmV0X01hc2tfU3RvcmVkID0gJElQdjRfU3VibmV0X01hc2sgOyRJUHY0X1N1Ym5ldF9NYXNrID0gJG51bGx9DQogICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJEdsb2JhbDpGb3JtYXRfQ2hlY2sgfCAlIHskXyAtbGlrZSAnKkluVmFsaWQqJ30pe0pTT05PdXRQdXRDYWxsO3JldHVybn0NCiAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgaWYoIShUZXN0LUNvbm5lY3Rpb24gJElQdjRfT1JfSVB2Nl9HYXRld2F5IC1RdWlldCAtQ291bnQgMSkpeyAkR0xvYmFsOkdhdGV3YXlPZmZsaW5lID0gJ1lFUyc7SlNPTk91dFB1dENhbGw7cmV0dXJufSAgICAgICAgICAgIA0KICAgICAgICBDaGFuZ2VfQWRhcHRlcl9TZXR0aW5ncyAtQWRhcHRlcl9OYW1lICRBZGFwdGVyX05hbWUgLVdoaWNoX1ZlcnNpb25fU2V0dGluZ19JUFY2X09SX0lQVjQgIiRBZGRyZXNzX1R5cGVfSVB2NF9JUHY2IiAtSVB2NF9PUl9JUHY2X0dhdGV3YXkgJElQdjRfT1JfSVB2Nl9HYXRld2F5IC1JUHY0X1N1Ym5ldF9NYXNrICRJUHY0X1N1Ym5ldF9NYXNrICAgICAgICAgDQogICAgICAgIH1lbHNleyRHTG9iYWw6QWRhcHRlclZhbGlkYXRpb24gPSAnTk8nO0pTT05PdXRQdXRDYWxsO3JldHVybn0NCiAgICANCiAgICB9DQogICAgaWYoIVtzdHJpbmddOjpJc051bGxPckVtcHR5KCRJUHY0X09SX0lQdjZfQWRkcmVzcykgLWFuZCAhKFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRJUHY0X09SX0lQdjZfR2F0ZXdheSkpIC1hbmQgKFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRJUHY0X1N1Ym5ldF9NYXNrKSkpDQogICAgeyANCiAgICAgICAgI3dyaXRlLWhvc3QgJ1RvIGJlIGNoYW5nZSBJUFY0IEFkZHJlc3MtLUdhdGV3YXknICANCiAgICAgICAgIGlmKFZhbGlkYXRlX0FkYXB0ZXJOYW1lIC1BZGFwdGVyX05hbWUgJEFkYXB0ZXJfTmFtZSl7DQogICAgICAgICAgICAgICAgJEdMb2JhbDpBZGFwdGVyVmFsaWRhdGlvbiA9ICdZRVMnDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAkSVBWNEFkZHJlc3MgPSBJUFY2X0lQVjRfRm9ybWF0X1ZhbGlkYXRpb24gLUFkZHJlc3MgJElQdjRfT1JfSVB2Nl9BZGRyZXNzIC1JUF9UeXBlICRBZGRyZXNzX1R5cGVfSVB2NF9JUHY2DQogICAgICAgICAgICAgICAgICAgICAgICAkSVBWNEdhdGV3YXkgPSBJUFY2X0lQVjRfRm9ybWF0X1ZhbGlkYXRpb24gLUFkZHJlc3MgJElQdjRfT1JfSVB2Nl9HYXRld2F5IC1JUF9UeXBlICRBZGRyZXNzX1R5cGVfSVB2NF9JUHY2DQogICAgICAgICAgICANCiAgICAgICAgICAgICRHbG9iYWw6Rm9ybWF0X0NoZWNrID0gbmV3LW9iamVjdCBwc29iamVjdCAtUHJvcGVydHkgQHsnQWRkcmVzcyBUeXBlIChJUHY0L0lQdjYpJyA9ICRBZGRyZXNzX1R5cGVfSVB2NF9JUHY2Ow0KICAgICAgICAgICAgSVBWNEFkZHJlc3MgPSAkSVBWNEFkZHJlc3MNCiAgICAgICAgICAgIElQVjRHYXRld2F5ID0gJElQVjRHYXRld2F5DQogICAgICAgICAgICB9IHwgc2VsZWN0ICdBZGRyZXNzIFR5cGUgKElQdjQvSVB2NiknLCBJUFY0QWRkcmVzcyxJUFY0R2F0ZXdheQ0KDQogICAgICAgICAgICBpZigkR2xvYmFsOkZvcm1hdF9DaGVjay5JUFY0QWRkcmVzcyAtbGlrZSAnKkluVmFsaWQqJyl7JElQdjRfT1JfSVB2Nl9BZGRyZXNzX1N0b3JlZCA9ICRJUHY0X09SX0lQdjZfQWRkcmVzcyA7JElQdjRfT1JfSVB2Nl9BZGRyZXNzID0gJG51bGx9ICAgICAgDQogICAgICAgICAgICBpZigkR2xvYmFsOkZvcm1hdF9DaGVjay5JUFY0R2F0ZXdheSAtbGlrZSAnKkluVmFsaWQqJyl7JElQdjRfT1JfSVB2Nl9HYXRld2F5X1N0b3JlZCA9ICRJUHY0X09SX0lQdjZfR2F0ZXdheSA7JElQdjRfT1JfSVB2Nl9HYXRld2F5ID0gJG51bGx9DQogICAgICAgICAgICBpZigkR2xvYmFsOkZvcm1hdF9DaGVjay5JUFY0U3VibmV0IC1saWtlICcqSW5WYWxpZConKXskSVB2NF9TdWJuZXRfTWFza19TdG9yZWQgPSAkSVB2NF9TdWJuZXRfTWFzayA7JElQdjRfU3VibmV0X01hc2sgPSAkbnVsbH0NCiAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgaWYoJEdsb2JhbDpGb3JtYXRfQ2hlY2sgfCAlIHskXyAtbGlrZSAnKkluVmFsaWQqJ30pe0pTT05PdXRQdXRDYWxsO3JldHVybn1lbHNle30gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgaWYoIShUZXN0LUNvbm5lY3Rpb24gJElQdjRfT1JfSVB2Nl9HYXRld2F5IC1RdWlldCAtQ291bnQgMSkpeyAkR0xvYmFsOkdhdGV3YXlPZmZsaW5lID0gJ1lFUyc7SlNPTk91dFB1dENhbGw7cmV0dXJufSAgICAgICAgICAgIA0KICAgICAgICAgQ2hhbmdlX0FkYXB0ZXJfU2V0dGluZ3MgLUFkYXB0ZXJfTmFtZSAkQWRhcHRlcl9OYW1lIC1XaGljaF9WZXJzaW9uX1NldHRpbmdfSVBWNl9PUl9JUFY0ICIkQWRkcmVzc19UeXBlX0lQdjRfSVB2NiIgLUlQdjRfT1JfSVB2Nl9HYXRld2F5ICRJUHY0X09SX0lQdjZfR2F0ZXdheSAtSVB2NF9PUl9JUHY2X0FkZHJlc3MgJElQdjRfT1JfSVB2Nl9BZGRyZXNzICAgICAgICAgIA0KICAgICAgICB9ZWxzZXskR0xvYmFsOkFkYXB0ZXJWYWxpZGF0aW9uID0gJ05PJztKU09OT3V0UHV0Q2FsbDtyZXR1cm59DQogICAgDQogICAgfSAgICAgICAgDQp9DQoNCmlmKCRBZGRyZXNzX1R5cGVfSVB2NF9JUHY2IC1lcSAnSVBWNicpew0KDQoNCiAgICBpZihbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVB2NF9PUl9JUHY2X0FkZHJlc3MpIC1hbmQgW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQdjRfT1JfSVB2Nl9HYXRld2F5KSAtYW5kIFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoKSkNCiAgICB7IA0KICAgICAgICAjd3JpdGUtaG9zdCAnUGxlYXNlIHByb3ZpZGUgSVBWNiBOZXR3b3JrIEFkYXB0ZXIgSW5mb3JtYXRpb24nDQogICAgJEdsb2JhbDpIYXNoVGFibGVfRGF0YSA9ICdQbGVhc2UgcHJvdmlkZSBJUFY2IE5ldHdvcmsgQWRhcHRlciBJbmZvcm1hdGlvbicNCiAgICAkR2xvYmFsOlN0ZGVyciArPSBHZXRfc3RkZXJyIC1UaXRsZSAnVW5hYmxlIHRvIHByb2Nlc3MgcmVxdWVzdCcgLWRldGFpbHMgJEdsb2JhbDpIYXNoVGFibGVfRGF0YSAgICANCiAgICBKU09OT3V0UHV0Q2FsbA0KICAgIHJldHVybiAgICAgICAgICAgICAgICAgICAgDQogICAgfQ0KICAgIA0KICAgIGlmKCFbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVBWNF9PUl9JUHY2X0FkZHJlc3MpIC1hbmQgIVtzdHJpbmddOjpJc051bGxPckVtcHR5KCRJUFY0X09SX0lQdjZfR2F0ZXdheSkgLWFuZCAhW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQdjZfU3VibmV0X1ByZWZpeF9MZW5ndGgpKQ0KICAgIHsgDQogICAgICAgICN3cml0ZS1ob3N0ICdUbyBiZSBjaGFuZ2UgSVBWNiBBZGRyZXNzLS1JUFY2IEdhdGV3YXktLUlQVjYgU3VibmV0X1ByZWZpeF9MZW5ndGgnICANCiAgICAgICAgIGlmKFZhbGlkYXRlX0FkYXB0ZXJOYW1lIC1BZGFwdGVyX05hbWUgJEFkYXB0ZXJfTmFtZSl7DQogICAgICAgICAgICAgICAgJEdMb2JhbDpBZGFwdGVyVmFsaWRhdGlvbiA9ICdZRVMnDQogICAgICAgICAgICAkSVBWNkFkZHJlc3MgPSBJUFY2X0lQVjRfRm9ybWF0X1ZhbGlkYXRpb24gLUFkZHJlc3MgJElQdjRfT1JfSVB2Nl9BZGRyZXNzIC1JUF9UeXBlICRBZGRyZXNzX1R5cGVfSVB2NF9JUHY2DQogICAgICAgICAgICAkSVBWNkdhdGV3YXkgPSBJUFY2X0lQVjRfRm9ybWF0X1ZhbGlkYXRpb24gLUFkZHJlc3MgJElQdjRfT1JfSVB2Nl9HYXRld2F5IC1JUF9UeXBlICRBZGRyZXNzX1R5cGVfSVB2NF9JUHY2DQogICAgICAgICAgICAkSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aDEgPSBpZihAKDguLjEyOCkgLWNvbnRhaW5zICRJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoKXsgJ1ZhbGlkIElQdjYgU3VibmV0IFByZWZpeCBMZW5ndGgnIH1lbHNleyAiJElQdjZfU3VibmV0X1ByZWZpeF9MZW5ndGh8SW5WYWxpZCBJUHY2IFN1Ym5ldCBQcmVmaXggTGVuZ3RoIn0NCg0KICAgICAgICAgICAgJEdsb2JhbDpGb3JtYXRfQ2hlY2sgPSBuZXctb2JqZWN0IHBzb2JqZWN0IC1Qcm9wZXJ0eSBAeydBZGRyZXNzIFR5cGUgKElQdjQvSVB2NiknID0gJEFkZHJlc3NfVHlwZV9JUHY0X0lQdjY7DQogICAgICAgICAgICBJUFY2QWRkcmVzcyA9ICRJUFY2QWRkcmVzcw0KICAgICAgICAgICAgSVBWNkdhdGV3YXkgPSAkSVBWNkdhdGV3YXkNCiAgICAgICAgICAgIElQdjZfU3VibmV0X1ByZWZpeF9MZW5ndGgxID0gJElQdjZfU3VibmV0X1ByZWZpeF9MZW5ndGgxDQogICAgICAgICAgICB9IHwgc2VsZWN0ICdBZGRyZXNzIFR5cGUgKElQdjQvSVB2NiknLCBJUFY2QWRkcmVzcyxJUFY2R2F0ZXdheSxJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoMQ0KDQogICAgICAgICAgICBpZigkR2xvYmFsOkZvcm1hdF9DaGVjay5JUFY2QWRkcmVzcyAtbGlrZSAnKkluVmFsaWQqJyl7ICRJUHY0X09SX0lQdjZfQWRkcmVzc19TdG9yZWQgPSAkSVB2NF9PUl9JUHY2X0FkZHJlc3M7JElQdjRfT1JfSVB2Nl9BZGRyZXNzID0gJG51bGx9ICAgICAgDQogICAgICAgICAgICBpZigkR2xvYmFsOkZvcm1hdF9DaGVjay5JUFY2R2F0ZXdheSAtbGlrZSAnKkluVmFsaWQqJyl7ICRJUHY0X09SX0lQdjZfR2F0ZXdheV9TdG9yZWQgPSAkSVB2NF9PUl9JUHY2X0dhdGV3YXk7JElQdjRfT1JfSVB2Nl9HYXRld2F5ID0gJG51bGx9DQogICAgICAgICAgICBpZigkR2xvYmFsOkZvcm1hdF9DaGVjay5JUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoMSAtbGlrZSAnKkluVmFsaWQqJyl7ICRJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoX1N0b3JlZCA9ICRJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoOyRJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoID0gJG51bGx9DQoNCiAgICAgICAgICAgaWYoJEdsb2JhbDpGb3JtYXRfQ2hlY2sgfCAlIHskXyAtbGlrZSAnKkluVmFsaWQqJ30pe0pTT05PdXRQdXRDYWxsO3JldHVybn1lbHNle30NCiAgICAgICAgIA0KICAgICAgICBpZighKFRlc3QtQ29ubmVjdGlvbiAkSVB2NF9PUl9JUHY2X0dhdGV3YXkgLVF1aWV0IC1Db3VudCAxKSl7ICRHTG9iYWw6R2F0ZXdheU9mZmxpbmUgPSAnWUVTJztKU09OT3V0UHV0Q2FsbDtyZXR1cm59ICAgICAgICAgICAgDQogICAgICAgIENoYW5nZV9BZGFwdGVyX1NldHRpbmdzIC1BZGFwdGVyX05hbWUgJEFkYXB0ZXJfTmFtZSAtV2hpY2hfVmVyc2lvbl9TZXR0aW5nX0lQVjZfT1JfSVBWNCAiJEFkZHJlc3NfVHlwZV9JUHY0X0lQdjYiIC1JUHY0X09SX0lQdjZfQWRkcmVzcyAkSVB2NF9PUl9JUHY2X0FkZHJlc3MgLUlQdjRfT1JfSVB2Nl9HYXRld2F5ICRJUHY0X09SX0lQdjZfR2F0ZXdheSAtSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aCAkSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aCAgICAgICAgDQogICAgICAgIH1lbHNleyRHTG9iYWw6QWRhcHRlclZhbGlkYXRpb24gPSAnTk8nO0pTT05PdXRQdXRDYWxsO3JldHVybn0NCiAgICB9DQogICAgDQogICAgaWYoISAoW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQVjRfT1JfSVB2Nl9BZGRyZXNzKSkgLWFuZCBbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVBWNF9PUl9JUHY2X0dhdGV3YXkpIC1hbmQgW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQdjZfU3VibmV0X1ByZWZpeF9MZW5ndGgpKQ0KICAgIHsgDQogICAgICAgICN3cml0ZS1ob3N0ICdUbyBiZSBjaGFuZ2UgSVBWNiBBZGRyZXNzJyAgDQogICAgICAgICBpZihWYWxpZGF0ZV9BZGFwdGVyTmFtZSAtQWRhcHRlcl9OYW1lICRBZGFwdGVyX05hbWUpew0KICAgICAgICAgICAgICAgICRHTG9iYWw6QWRhcHRlclZhbGlkYXRpb24gPSAnWUVTJw0KICAgICAgICAgICAgJElQVjZBZGRyZXNzID0gSVBWNl9JUFY0X0Zvcm1hdF9WYWxpZGF0aW9uIC1BZGRyZXNzICRJUHY0X09SX0lQdjZfQWRkcmVzcyAtSVBfVHlwZSAkQWRkcmVzc19UeXBlX0lQdjRfSVB2Ng0KDQogICAgICAgICAgICAkR2xvYmFsOkZvcm1hdF9DaGVjayA9IG5ldy1vYmplY3QgcHNvYmplY3QgLVByb3BlcnR5IEB7J0FkZHJlc3MgVHlwZSAoSVB2NC9JUHY2KScgPSAkQWRkcmVzc19UeXBlX0lQdjRfSVB2NjsNCiAgICAgICAgICAgIElQVjZBZGRyZXNzID0gJElQVjZBZGRyZXNzDQogICAgICAgICAgICB9IHwgc2VsZWN0ICdBZGRyZXNzIFR5cGUgKElQdjQvSVB2NiknLCBJUFY2QWRkcmVzcw0KDQogICAgICAgICAgICBpZigkR2xvYmFsOkZvcm1hdF9DaGVjay5JUFY2QWRkcmVzcyAtbGlrZSAnKkluVmFsaWQqJyl7ICRJUHY0X09SX0lQdjZfQWRkcmVzc19TdG9yZWQgPSAkSVB2NF9PUl9JUHY2X0FkZHJlc3M7JElQdjRfT1JfSVB2Nl9BZGRyZXNzID0gJG51bGx9ICAgICAgDQogICAgICAgICAgICBpZigkR2xvYmFsOkZvcm1hdF9DaGVjay5JUFY2R2F0ZXdheSAtbGlrZSAnKkluVmFsaWQqJyl7ICRJUHY0X09SX0lQdjZfR2F0ZXdheV9TdG9yZWQgPSAkSVB2NF9PUl9JUHY2X0dhdGV3YXk7JElQdjRfT1JfSVB2Nl9HYXRld2F5ID0gJG51bGx9DQogICAgICAgICAgICBpZigkR2xvYmFsOkZvcm1hdF9DaGVjay5JUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoMSAtbGlrZSAnKkluVmFsaWQqJyl7ICRJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoX1N0b3JlZCA9ICRJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoOyRJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoID0gJG51bGx9DQogICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJEdsb2JhbDpGb3JtYXRfQ2hlY2sgfCAlIHskXyAtbGlrZSAnKkluVmFsaWQqJ30pe0pTT05PdXRQdXRDYWxsO3JldHVybn0NCg0KICAgICAgICBDaGFuZ2VfQWRhcHRlcl9TZXR0aW5ncyAtQWRhcHRlcl9OYW1lICRBZGFwdGVyX05hbWUgLVdoaWNoX1ZlcnNpb25fU2V0dGluZ19JUFY2X09SX0lQVjQgIiRBZGRyZXNzX1R5cGVfSVB2NF9JUHY2IiAtSVB2NF9PUl9JUHY2X0FkZHJlc3MgJElQdjRfT1JfSVB2Nl9BZGRyZXNzDQogICAgICAgIH1lbHNleyRHTG9iYWw6QWRhcHRlclZhbGlkYXRpb24gPSAnTk8nO0pTT05PdXRQdXRDYWxsO3JldHVybn0NCiAgICANCiAgICB9DQogICAgDQogICAgaWYoW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQVjRfT1JfSVB2Nl9BZGRyZXNzKSAtYW5kICEoW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQVjRfT1JfSVB2Nl9HYXRld2F5KSkgLWFuZCBbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aCkpDQogICAgeyANCiAgICAgICAgI3dyaXRlLWhvc3QgJ1RvIGJlIGNoYW5nZSBJUFY2IEdhdGV3YXknICANCiAgICAgICAgIGlmKFZhbGlkYXRlX0FkYXB0ZXJOYW1lIC1BZGFwdGVyX05hbWUgJEFkYXB0ZXJfTmFtZSl7DQogICAgICAgICAgICAgICAgJEdMb2JhbDpBZGFwdGVyVmFsaWRhdGlvbiA9ICdZRVMnDQoNCiAgICAgICAgICAgICRJUFY2R2F0ZXdheSA9IElQVjZfSVBWNF9Gb3JtYXRfVmFsaWRhdGlvbiAtQWRkcmVzcyAkSVB2NF9PUl9JUHY2X0dhdGV3YXkgLUlQX1R5cGUgJEFkZHJlc3NfVHlwZV9JUHY0X0lQdjYNCg0KICAgICAgICAgICAgJEdsb2JhbDpGb3JtYXRfQ2hlY2sgPSBuZXctb2JqZWN0IHBzb2JqZWN0IC1Qcm9wZXJ0eSBAeydBZGRyZXNzIFR5cGUgKElQdjQvSVB2NiknID0gJEFkZHJlc3NfVHlwZV9JUHY0X0lQdjY7DQogICAgICAgICAgICBJUFY2R2F0ZXdheSA9ICRJUFY2R2F0ZXdheQ0KICAgICAgICAgICAgfSB8IHNlbGVjdCAnQWRkcmVzcyBUeXBlIChJUHY0L0lQdjYpJywgSVBWNkdhdGV3YXkNCg0KICAgICAgICAgICAgaWYoJEdsb2JhbDpGb3JtYXRfQ2hlY2suSVBWNkFkZHJlc3MgLWxpa2UgJypJblZhbGlkKicpeyAkSVB2NF9PUl9JUHY2X0FkZHJlc3NfU3RvcmVkID0gJElQdjRfT1JfSVB2Nl9BZGRyZXNzOyRJUHY0X09SX0lQdjZfQWRkcmVzcyA9ICRudWxsfSAgICAgIA0KICAgICAgICAgICAgaWYoJEdsb2JhbDpGb3JtYXRfQ2hlY2suSVBWNkdhdGV3YXkgLWxpa2UgJypJblZhbGlkKicpeyAkSVB2NF9PUl9JUHY2X0dhdGV3YXlfU3RvcmVkID0gJElQdjRfT1JfSVB2Nl9HYXRld2F5OyRJUHY0X09SX0lQdjZfR2F0ZXdheSA9ICRudWxsfQ0KICAgICAgICAgICAgaWYoJEdsb2JhbDpGb3JtYXRfQ2hlY2suSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aDEgLWxpa2UgJypJblZhbGlkKicpeyAkSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aF9TdG9yZWQgPSAkSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aDskSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aCA9ICRudWxsfQ0KICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgaWYoJEdsb2JhbDpGb3JtYXRfQ2hlY2sgfCAlIHskXyAtbGlrZSAnKkluVmFsaWQqJ30pe0pTT05PdXRQdXRDYWxsO3JldHVybn0gICANCiAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgaWYoIShUZXN0LUNvbm5lY3Rpb24gJElQdjRfT1JfSVB2Nl9HYXRld2F5IC1RdWlldCAtQ291bnQgMSkpeyAkR0xvYmFsOkdhdGV3YXlPZmZsaW5lID0gJ1lFUyc7SlNPTk91dFB1dENhbGw7cmV0dXJufSAgICAgICAgICAgIA0KICAgICAgICBDaGFuZ2VfQWRhcHRlcl9TZXR0aW5ncyAtQWRhcHRlcl9OYW1lICRBZGFwdGVyX05hbWUgLVdoaWNoX1ZlcnNpb25fU2V0dGluZ19JUFY2X09SX0lQVjQgIiRBZGRyZXNzX1R5cGVfSVB2NF9JUHY2IiAtSVB2NF9PUl9JUHY2X0dhdGV3YXkgJElQdjRfT1JfSVB2Nl9HYXRld2F5DQogICAgICAgIH1lbHNleyRHTG9iYWw6QWRhcHRlclZhbGlkYXRpb24gPSAnTk8nO0pTT05PdXRQdXRDYWxsO3JldHVybn0NCiAgICANCiAgICB9DQogICAgaWYoW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQVjRfT1JfSVB2Nl9BZGRyZXNzKSAtYW5kIFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRJUFY0X09SX0lQdjZfR2F0ZXdheSkgLWFuZCAhKFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoKSkpDQogICAgeyANCiAgICAgICAgI3dyaXRlLWhvc3QgJ1BsZWFzZSBzcGVjaWZ5IHRoZSBJUFY2IEFkZHJlc3MgYWxzbyB0byBzZXQgU3VibmV0X1ByZWZpeF9MZW5ndGgnDQogICAgICAgICBpZihWYWxpZGF0ZV9BZGFwdGVyTmFtZSAtQWRhcHRlcl9OYW1lICRBZGFwdGVyX05hbWUpew0KICAgICAgICAgICAgICAgICRHTG9iYWw6QWRhcHRlclZhbGlkYXRpb24gPSAnWUVTJw0KICAgICAgICAkR2xvYmFsOkhhc2hUYWJsZV9EYXRhID0gJ1BsZWFzZSBzcGVjaWZ5IHRoZSBJUFY2IEFkZHJlc3MgYWxzbyB0byBzZXQgU3VibmV0X1ByZWZpeF9MZW5ndGgnDQogICAgICAgICRHbG9iYWw6U3RkZXJyICs9IEdldF9zdGRlcnIgLVRpdGxlICdVbmFibGUgdG8gcHJvY2VzcyByZXF1ZXN0JyAtZGV0YWlscyAkR2xvYmFsOkhhc2hUYWJsZV9EYXRhDQogICAgICAgIEpTT05PdXRQdXRDYWxsDQogICAgICAgIHJldHVybiAgICAgDQogICAgICAgICAgICAkSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aDEgPSBpZihAKDguLjEyOCkgLWNvbnRhaW5zICRJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoKXsgJ1ZhbGlkIElQdjYgU3VibmV0IFByZWZpeCBMZW5ndGgnIH1lbHNleyAiJElQdjZfU3VibmV0X1ByZWZpeF9MZW5ndGh8SW5WYWxpZCBJUHY2IFN1Ym5ldCBQcmVmaXggTGVuZ3RoIn0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgJEdsb2JhbDpGb3JtYXRfQ2hlY2sgPSBuZXctb2JqZWN0IHBzb2JqZWN0IC1Qcm9wZXJ0eSBAeydBZGRyZXNzIFR5cGUgKElQdjQvSVB2NiknID0gJEFkZHJlc3NfVHlwZV9JUHY0X0lQdjY7DQogICAgICAgICAgICBJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoMSA9ICRJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoMQ0KICAgICAgICAgICAgfSB8IHNlbGVjdCAnQWRkcmVzcyBUeXBlIChJUHY0L0lQdjYpJyxJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoMQ0KDQogICAgICAgICAgICBpZigkR2xvYmFsOkZvcm1hdF9DaGVjay5JUFY2QWRkcmVzcyAtbGlrZSAnKkluVmFsaWQqJyl7ICRJUHY0X09SX0lQdjZfQWRkcmVzc19TdG9yZWQgPSAkSVB2NF9PUl9JUHY2X0FkZHJlc3M7JElQdjRfT1JfSVB2Nl9BZGRyZXNzID0gJG51bGx9ICAgICAgDQogICAgICAgICAgICBpZigkR2xvYmFsOkZvcm1hdF9DaGVjay5JUFY2R2F0ZXdheSAtbGlrZSAnKkluVmFsaWQqJyl7ICRJUHY0X09SX0lQdjZfR2F0ZXdheV9TdG9yZWQgPSAkSVB2NF9PUl9JUHY2X0dhdGV3YXk7JElQdjRfT1JfSVB2Nl9HYXRld2F5ID0gJG51bGx9DQogICAgICAgICAgICBpZigkR2xvYmFsOkZvcm1hdF9DaGVjay5JUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoMSAtbGlrZSAnKkluVmFsaWQqJyl7ICRJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoX1N0b3JlZCA9ICRJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoOyRJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoID0gJG51bGx9DQogICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJEdsb2JhbDpGb3JtYXRfQ2hlY2sgfCAlIHskXyAtbGlrZSAnKkluVmFsaWQqJ30pe0pTT05PdXRQdXRDYWxsO3JldHVybn0NCiAgICAgICAgICAgICAgICAgICAgICANCg0KICAgICAgICBDaGFuZ2VfQWRhcHRlcl9TZXR0aW5ncyAtQWRhcHRlcl9OYW1lICRBZGFwdGVyX05hbWUgLVdoaWNoX1ZlcnNpb25fU2V0dGluZ19JUFY2X09SX0lQVjQgIiRBZGRyZXNzX1R5cGVfSVB2NF9JUHY2IiAtSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aCAkSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aCAgDQogICAgICAgIH1lbHNleyRHTG9iYWw6QWRhcHRlclZhbGlkYXRpb24gPSAnTk8nO0pTT05PdXRQdXRDYWxsO3JldHVybn0NCiAgICAgICAgDQogICAgICAgIH0NCiAgICAgICAgDQogICAgaWYoIShbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVBWNF9PUl9JUHY2X0FkZHJlc3MpKSAtYW5kIFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRJUFY0X09SX0lQdjZfR2F0ZXdheSkgLWFuZCAhKFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoKSkpDQogICAgeyANCiAgICAgICAgI3dyaXRlLWhvc3QgJ1RvIGJlIGNoYW5nZSBJUFY2IEFkZHJlc3MtLVN1Ym5ldF9QcmVmaXhfTGVuZ3RoJyANCg0KICAgICAgICAgaWYoVmFsaWRhdGVfQWRhcHRlck5hbWUgLUFkYXB0ZXJfTmFtZSAkQWRhcHRlcl9OYW1lKXsNCiAgICAgICAgICAgICAgICAkR0xvYmFsOkFkYXB0ZXJWYWxpZGF0aW9uID0gJ1lFUycNCiAgICAgICAgICAgICRJUFY2QWRkcmVzcyA9IElQVjZfSVBWNF9Gb3JtYXRfVmFsaWRhdGlvbiAtQWRkcmVzcyAkSVB2NF9PUl9JUHY2X0FkZHJlc3MgLUlQX1R5cGUgJEFkZHJlc3NfVHlwZV9JUHY0X0lQdjYNCiAgICAgICAgICAgICRJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoMSA9IGlmKEAoOC4uMTI4KSAtY29udGFpbnMgJElQdjZfU3VibmV0X1ByZWZpeF9MZW5ndGgpeyAnVmFsaWQgSVB2NiBTdWJuZXQgUHJlZml4IExlbmd0aCcgfWVsc2V7ICIkSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aHxJblZhbGlkIElQdjYgU3VibmV0IFByZWZpeCBMZW5ndGgifQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAkR2xvYmFsOkZvcm1hdF9DaGVjayA9IG5ldy1vYmplY3QgcHNvYmplY3QgLVByb3BlcnR5IEB7J0FkZHJlc3MgVHlwZSAoSVB2NC9JUHY2KScgPSAkQWRkcmVzc19UeXBlX0lQdjRfSVB2NjsNCiAgICAgICAgICAgIElQVjZBZGRyZXNzID0gJElQVjZBZGRyZXNzDQogICAgICAgICAgICBJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoMSA9ICRJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoMQ0KICAgICAgICAgICAgfSB8IHNlbGVjdCAnQWRkcmVzcyBUeXBlIChJUHY0L0lQdjYpJywgSVBWNkFkZHJlc3MsSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aDENCiAgICAgICAgICAgIGlmKCRHbG9iYWw6Rm9ybWF0X0NoZWNrLklQVjZBZGRyZXNzIC1saWtlICcqSW5WYWxpZConKXsgJElQdjRfT1JfSVB2Nl9BZGRyZXNzX1N0b3JlZCA9ICRJUHY0X09SX0lQdjZfQWRkcmVzczskSVB2NF9PUl9JUHY2X0FkZHJlc3MgPSAkbnVsbH0gICAgICANCiAgICAgICAgICAgIGlmKCRHbG9iYWw6Rm9ybWF0X0NoZWNrLklQVjZHYXRld2F5IC1saWtlICcqSW5WYWxpZConKXsgJElQdjRfT1JfSVB2Nl9HYXRld2F5X1N0b3JlZCA9ICRJUHY0X09SX0lQdjZfR2F0ZXdheTskSVB2NF9PUl9JUHY2X0dhdGV3YXkgPSAkbnVsbH0NCiAgICAgICAgICAgIGlmKCRHbG9iYWw6Rm9ybWF0X0NoZWNrLklQdjZfU3VibmV0X1ByZWZpeF9MZW5ndGgxIC1saWtlICcqSW5WYWxpZConKXsgJElQdjZfU3VibmV0X1ByZWZpeF9MZW5ndGhfU3RvcmVkID0gJElQdjZfU3VibmV0X1ByZWZpeF9MZW5ndGg7JElQdjZfU3VibmV0X1ByZWZpeF9MZW5ndGggPSAkbnVsbH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICBpZigkR2xvYmFsOkZvcm1hdF9DaGVjayB8ICUgeyRfIC1saWtlICcqSW5WYWxpZConfSl7SlNPTk91dFB1dENhbGw7cmV0dXJufWVsc2V7fQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQoNCiAgICAgICAgQ2hhbmdlX0FkYXB0ZXJfU2V0dGluZ3MgLUFkYXB0ZXJfTmFtZSAkQWRhcHRlcl9OYW1lIC1XaGljaF9WZXJzaW9uX1NldHRpbmdfSVBWNl9PUl9JUFY0ICIkQWRkcmVzc19UeXBlX0lQdjRfSVB2NiIgLUlQdjRfT1JfSVB2Nl9BZGRyZXNzICRJUHY0X09SX0lQdjZfQWRkcmVzcyAtSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aCAkSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aCAgICAgICAgDQogICAgICAgIH1lbHNleyRHTG9iYWw6QWRhcHRlclZhbGlkYXRpb24gPSAnTk8nO0pTT05PdXRQdXRDYWxsO3JldHVybn0NCiAgICANCiAgICB9DQogICAgaWYoW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQVjRfT1JfSVB2Nl9BZGRyZXNzKSAtYW5kICEoW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJElQVjRfT1JfSVB2Nl9HYXRld2F5KSkgLWFuZCAhKFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoKSkpDQogICAgeyANCiAgICAgICAgI3dyaXRlLWhvc3QgJ1RvIGJlIGNoYW5nZSBJUFY2IEdhdGV3YXktLVN1Ym5ldF9QcmVmaXhfTGVuZ3RoJyAgDQogICAgICAgIGlmKFZhbGlkYXRlX0FkYXB0ZXJOYW1lIC1BZGFwdGVyX05hbWUgJEFkYXB0ZXJfTmFtZSl7DQogICAgICAgICAgICAgICAkR0xvYmFsOkFkYXB0ZXJWYWxpZGF0aW9uID0gJ1lFUycNCg0KDQogICAgICAgICAgICAkSVBWNkdhdGV3YXkgPSBJUFY2X0lQVjRfRm9ybWF0X1ZhbGlkYXRpb24gLUFkZHJlc3MgJElQdjRfT1JfSVB2Nl9HYXRld2F5IC1JUF9UeXBlICRBZGRyZXNzX1R5cGVfSVB2NF9JUHY2DQogICAgICAgICAgICAkSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aDEgPSBpZihAKDguLjEyOCkgLWNvbnRhaW5zICRJUHY2X1N1Ym5ldF9QcmVmaXhfTGVuZ3RoKXsgJ1ZhbGlkIElQdjYgU3VibmV0IFByZWZpeCBMZW5ndGgnIH1lbHNleyAiJElQdjZfU3VibmV0X1ByZWZpeF9MZW5ndGh8SW5WYWxpZCBJUHY2IFN1Ym5ldCBQcmVmaXggTGVuZ3RoIn0NCg0KICAgICAgICAgICAgJEdsb2JhbDpGb3JtYXRfQ2hlY2sgPSBuZXctb2JqZWN0IHBzb2JqZWN0IC1Qcm9wZXJ0eSBAeydBZGRyZXNzIFR5cGUgKElQdjQvSVB2NiknID0gJEFkZHJlc3NfVHlwZV9JUHY0X0lQdjY7DQogICAgICAgICAgICBJUFY2R2F0ZXdheSA9ICRJUFY2R2F0ZXdheQ0KICAgICAgICAgICAgSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aDEgPSAkSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aDENCiAgICAgICAgICAgIH0gfCBzZWxlY3QgJ0FkZHJlc3MgVHlwZSAoSVB2NC9JUHY2KScsIElQVjZHYXRld2F5LElQdjZfU3VibmV0X1ByZWZpeF9MZW5ndGgxDQoNCiAgICAgICAgICAgIGlmKCRHbG9iYWw6Rm9ybWF0X0NoZWNrLklQVjZBZGRyZXNzIC1saWtlICcqSW5WYWxpZConKXsgJElQdjRfT1JfSVB2Nl9BZGRyZXNzX1N0b3JlZCA9ICRJUHY0X09SX0lQdjZfQWRkcmVzczskSVB2NF9PUl9JUHY2X0FkZHJlc3MgPSAkbnVsbH0gICAgICANCiAgICAgICAgICAgIGlmKCRHbG9iYWw6Rm9ybWF0X0NoZWNrLklQVjZHYXRld2F5IC1saWtlICcqSW5WYWxpZConKXsgJElQdjRfT1JfSVB2Nl9HYXRld2F5X1N0b3JlZCA9ICRJUHY0X09SX0lQdjZfR2F0ZXdheTskSVB2NF9PUl9JUHY2X0dhdGV3YXkgPSAkbnVsbH0NCiAgICAgICAgICAgIGlmKCRHbG9iYWw6Rm9ybWF0X0NoZWNrLklQdjZfU3VibmV0X1ByZWZpeF9MZW5ndGgxIC1saWtlICcqSW5WYWxpZConKXsgJElQdjZfU3VibmV0X1ByZWZpeF9MZW5ndGhfU3RvcmVkID0gJElQdjZfU3VibmV0X1ByZWZpeF9MZW5ndGg7JElQdjZfU3VibmV0X1ByZWZpeF9MZW5ndGggPSAkbnVsbH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkR2xvYmFsOkZvcm1hdF9DaGVjayB8ICUgeyRfIC1saWtlICcqSW5WYWxpZConfSl7SlNPTk91dFB1dENhbGw7cmV0dXJufQ0KICAgICAgICBpZighKFRlc3QtQ29ubmVjdGlvbiAkSVB2NF9PUl9JUHY2X0dhdGV3YXkgLVF1aWV0IC1Db3VudCAxKSl7ICRHTG9iYWw6R2F0ZXdheU9mZmxpbmUgPSAnWUVTJztKU09OT3V0UHV0Q2FsbDtyZXR1cm59ICAgICAgICAgICAgDQogICAgICAgIENoYW5nZV9BZGFwdGVyX1NldHRpbmdzIC1BZGFwdGVyX05hbWUgJEFkYXB0ZXJfTmFtZSAtV2hpY2hfVmVyc2lvbl9TZXR0aW5nX0lQVjZfT1JfSVBWNCAiJEFkZHJlc3NfVHlwZV9JUHY0X0lQdjYiIC1JUHY0X09SX0lQdjZfR2F0ZXdheSAkSVB2NF9PUl9JUHY2X0dhdGV3YXkgLUlQdjZfU3VibmV0X1ByZWZpeF9MZW5ndGggJElQdjZfU3VibmV0X1ByZWZpeF9MZW5ndGggICAgICAgIA0KICAgICAgICB9ZWxzZXskR0xvYmFsOkFkYXB0ZXJWYWxpZGF0aW9uID0gJ05PJztKU09OT3V0UHV0Q2FsbDtyZXR1cm59DQogICAgDQogICAgfQ0KICAgIGlmKCFbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVBWNF9PUl9JUHY2X0FkZHJlc3MpIC1hbmQgIShbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVBWNF9PUl9JUHY2X0dhdGV3YXkpKSAtYW5kIChbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aCkpKQ0KICAgIHsgDQogICAgICAgICN3cml0ZS1ob3N0ICdUbyBiZSBjaGFuZ2UgSVBWNiBBZGRyZXNzLS1HYXRld2F5IDMzMycNCiAgICAgICAgDQogICAgICAgIGlmKFZhbGlkYXRlX0FkYXB0ZXJOYW1lIC1BZGFwdGVyX05hbWUgJEFkYXB0ZXJfTmFtZSl7DQogICAgICAgICAgICAgICAkR0xvYmFsOkFkYXB0ZXJWYWxpZGF0aW9uID0gJ1lFUycNCg0KICAgICAgICANCiAgICAgICAgICAgICRJUFY2QWRkcmVzcyA9IElQVjZfSVBWNF9Gb3JtYXRfVmFsaWRhdGlvbiAtQWRkcmVzcyAkSVB2NF9PUl9JUHY2X0FkZHJlc3MgLUlQX1R5cGUgJEFkZHJlc3NfVHlwZV9JUHY0X0lQdjYNCiAgICAgICAgICAgICRJUFY2R2F0ZXdheSA9IElQVjZfSVBWNF9Gb3JtYXRfVmFsaWRhdGlvbiAtQWRkcmVzcyAkSVB2NF9PUl9JUHY2X0dhdGV3YXkgLUlQX1R5cGUgJEFkZHJlc3NfVHlwZV9JUHY0X0lQdjYNCg0KDQogICAgICAgICAgICAkR2xvYmFsOkZvcm1hdF9DaGVjayA9IG5ldy1vYmplY3QgcHNvYmplY3QgLVByb3BlcnR5IEB7J0FkZHJlc3MgVHlwZSAoSVB2NC9JUHY2KScgPSAkQWRkcmVzc19UeXBlX0lQdjRfSVB2NjsNCiAgICAgICAgICAgIElQVjZBZGRyZXNzID0gJElQVjZBZGRyZXNzDQogICAgICAgICAgICBJUFY2R2F0ZXdheSA9ICRJUFY2R2F0ZXdheQ0KICAgICAgICAgICAgfSB8IHNlbGVjdCAnQWRkcmVzcyBUeXBlIChJUHY0L0lQdjYpJywgSVBWNkFkZHJlc3MsSVBWNkdhdGV3YXkNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYoJEdsb2JhbDpGb3JtYXRfQ2hlY2suSVBWNkFkZHJlc3MgLWxpa2UgJypJblZhbGlkKicpeyAkSVB2NF9PUl9JUHY2X0FkZHJlc3NfU3RvcmVkID0gJElQdjRfT1JfSVB2Nl9BZGRyZXNzOyRJUHY0X09SX0lQdjZfQWRkcmVzcyA9ICRudWxsfSAgICAgIA0KICAgICAgICAgICAgaWYoJEdsb2JhbDpGb3JtYXRfQ2hlY2suSVBWNkdhdGV3YXkgLWxpa2UgJypJblZhbGlkKicpeyAkSVB2NF9PUl9JUHY2X0dhdGV3YXlfU3RvcmVkID0gJElQdjRfT1JfSVB2Nl9HYXRld2F5OyRJUHY0X09SX0lQdjZfR2F0ZXdheSA9ICRudWxsfQ0KICAgICAgICAgICAgaWYoJEdsb2JhbDpGb3JtYXRfQ2hlY2suSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aDEgLWxpa2UgJypJblZhbGlkKicpeyAkSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aF9TdG9yZWQgPSAkSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aDskSVB2Nl9TdWJuZXRfUHJlZml4X0xlbmd0aCA9ICRudWxsfQ0KICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgaWYoJEdsb2JhbDpGb3JtYXRfQ2hlY2sgfCAlIHskXyAtbGlrZSAnKkluVmFsaWQqJ30pe0pTT05PdXRQdXRDYWxsO3JldHVybn0NCiAgICAgICAgDQogICAgICAgICAgICBpZighKFRlc3QtQ29ubmVjdGlvbiAkSVB2NF9PUl9JUHY2X0dhdGV3YXkgLVF1aWV0IC1Db3VudCAxKSl7ICRHTG9iYWw6R2F0ZXdheU9mZmxpbmUgPSAnWUVTJztKU09OT3V0UHV0Q2FsbDtyZXR1cm59DQogICAgICAgICAgICANCiAgICAgICAgIENoYW5nZV9BZGFwdGVyX1NldHRpbmdzIC1BZGFwdGVyX05hbWUgJEFkYXB0ZXJfTmFtZSAtV2hpY2hfVmVyc2lvbl9TZXR0aW5nX0lQVjZfT1JfSVBWNCAiJEFkZHJlc3NfVHlwZV9JUHY0X0lQdjYiIC1JUHY0X09SX0lQdjZfQWRkcmVzcyAkSVB2NF9PUl9JUHY2X0FkZHJlc3MgLUlQdjRfT1JfSVB2Nl9HYXRld2F5ICRJUHY0X09SX0lQdjZfR2F0ZXdheQ0KICAgICAgICB9ZWxzZXskR0xvYmFsOkFkYXB0ZXJWYWxpZGF0aW9uID0gJ05PJztKU09OT3V0UHV0Q2FsbDtyZXR1cm59DQogICAgDQogICAgfQ0KfQ0KDQoNCnNsZWVwIDUNCg0KDQp9DQoNCg0KJEpTT05PVVQgPSBKU09OT3V0UHV0Q2FsbA0KJEpTT05PVVQ=",
"jsonSchema":{
  "type":"object",
"properties":{
	"Adapter_Name":{
      "type":"string",
      "title":"Enter Network Adapter Name",
      "minLength":1
    },
      "Address_Type_IPv4_IPv6": {
        "type": "string",
        "title": "Select Address Type IPV4 or IPV6",
        "enum": [
          "IPV4",
          "IPV6"
        ]
      },
	"IPv4_OR_IPv6_Address":{
      "type":"string",
      "title":"Enter IPv4 OR IPv6 Address",
      "minLength":1
    },
	"IPv4_OR_IPv6_Gateway":{
      "type":"string",
      "title":"Enter IPv4 OR IPv6 Gateway",
      "minLength":1
    },
	"IPv4_Subnet_Mask_OR_IPv6_Subnet_Prefix_Length":{
      "type":"string",
      "title":"Enter IPv4 Subnet Mask OR IPv6 Subnet Prefix Length",
      "minLength":1
    }
},
  "required":[
	"Adapter_Name",
	"Address_Type_IPv4_IPv6",
	"IPv4_OR_IPv6_Address",
	"IPv4_OR_IPv6_Gateway",
	"IPv4_Subnet_Mask_OR_IPv6_Subnet_Prefix_Length"
  ],
  "additionalProperties": false
},
"uiSchema":{
"Adapter_Name":{
    "ui:autofocus":true,
    "classNames":"col-sm-12"
  },
"Address_Type_IPv4_IPv6":{
    "ui:autofocus":true,
    "classNames":"col-sm-12"
  },  
"IPv4_OR_IPv6_Address":{
    "ui:autofocus":true,
    "classNames":"col-sm-12"
  },
"IPv4_OR_IPv6_Gateway":{
    "ui:autofocus":true,
    "classNames":"col-sm-12"
  },
"IPv4_Subnet_Mask_OR_IPv6_Subnet_Prefix_Length":{
    "ui:autofocus":true,
    "classNames":"col-sm-12"
  },

  "ui:order":["Adapter_Name", "Address_Type_IPv4_IPv6", "IPv4_OR_IPv6_Address", "IPv4_OR_IPv6_Gateway", "IPv4_Subnet_Mask_OR_IPv6_Subnet_Prefix_Length"]
},
"isHDScript":false
}

{"id":"d839c37e-8299-11e9-8e57-00155d130b89","partnerId":"00000000-0000-0000-0000-000000000000","category":["HD Automation"],"description":"Gather Logon Scripts","engine":"powershell","engineMaxVersion":5,"expectedExecutionTimeSec":300,"failureMessage":"Executed with errors","successMessage":"Executed Successfully","internal":false,"name":"GatherLoginScripts","tags":["Windows 7","Windows 10"],"sequence":true,"content":"DQpDbGVhci1Ib3N0DQoNCg0KZnVuY3Rpb24gRXNjYXBlLUpTT05TdHJpbmcoJHN0cil7DQogICAgaWYgKCRzdHIgLWVxICRudWxsKSB7cmV0dXJuICIifQ0KICAgICAgICAgJHN0ciA9ICRzdHIuVG9TdHJpbmcoKS5SZXBsYWNlKCciJywnXCInKS5SZXBsYWNlKCdcJywnXFwnKS5SZXBsYWNlKCJgbiIsJ1xuJykuUmVwbGFjZSgiYHIiLCdccicpLlJlcGxhY2UoImB0IiwnXHQnKQ0KICAgIHJldHVybiAkc3RyOw0KfQ0KDQoNCmZ1bmN0aW9uIENvbnZlcnRUby1KU09OUDIoJG1heERlcHRoID0gMTAsJGZvcmNlQXJyYXkgPSAkZmFsc2UpIHsNCmJlZ2luIHsNCiRkYXRhID0gQCgpDQp9DQpwcm9jZXNzew0KJGRhdGEgKz0gJF8NCn0NCmVuZHsNCmlmICgkZGF0YS5sZW5ndGggLWVxIDEgLWFuZCAkZm9yY2VBcnJheSAtZXEgJGZhbHNlKSB7DQokdmFsdWUgPSAkZGF0YVswXQ0KfSBlbHNlIHsgDQokdmFsdWUgPSAkZGF0YQ0KfQ0KDQoNCmlmICgkdmFsdWUgLWVxICRudWxsKSB7DQpyZXR1cm4gIm51bGwiDQp9DQoNCg0KDQoNCiRkYXRhVHlwZSA9ICR2YWx1ZS5HZXRUeXBlKCkuTmFtZQ0Kc3dpdGNoIC1yZWdleCAoJGRhdGFUeXBlKSB7DQogICAgICAgICAgICAnU3RyaW5nJyAgew0KcmV0dXJuICAiYCJ7MH1gIiIgLWYgKEVzY2FwZS1KU09OU3RyaW5nICR2YWx1ZSApDQp9DQogICAgICAgICAgICAnKFN5c3RlbVwuKT9EYXRlVGltZScgIHtyZXR1cm4gICJgInswOnl5eXktTU0tZGR9VHswOkhIOm1tOnNzfWAiIiAtZiAkdmFsdWV9DQogICAgICAgICAgICAnSW50MzJ8RG91YmxlJyB7cmV0dXJuICAiJHZhbHVlIn0NCidCb29sZWFuJyB7cmV0dXJuICAiJHZhbHVlIi5Ub0xvd2VyKCl9DQogICAgICAgICAgICAnKFN5c3RlbVwuKT9PYmplY3RcW1xdJyB7ICMgYXJyYXkNCmlmICgkbWF4RGVwdGggLWxlIDApe3JldHVybiAiYCIkdmFsdWVgIiJ9DQokanNvblJlc3VsdCA9ICcnDQpmb3JlYWNoKCRlbGVtIGluICR2YWx1ZSl7DQojaWYgKCRlbGVtIC1lcSAkbnVsbCkge2NvbnRpbnVlfQ0KaWYgKCRqc29uUmVzdWx0Lkxlbmd0aCAtZ3QgMCkgeyRqc29uUmVzdWx0ICs9JywgJ30gDQokanNvblJlc3VsdCArPSAoJGVsZW0gfCBDb252ZXJ0VG8tSlNPTlAyIC1tYXhEZXB0aCAoJG1heERlcHRoIC0xKSkNCn0NCnJldHVybiAiWyIgKyAkanNvblJlc3VsdCArICJdIg0KICAgICAgICAgICAgfQ0KJyhTeXN0ZW1cLik/SGFzaHRhYmxlJyB7ICMgaGFzaHRhYmxlDQokanNvblJlc3VsdCA9ICcnDQpmb3JlYWNoKCRrZXkgaW4gJHZhbHVlLktleXMpew0KaWYgKCRqc29uUmVzdWx0Lkxlbmd0aCAtZ3QgMCkgeyRqc29uUmVzdWx0ICs9JywgJ30NCiRqc29uUmVzdWx0ICs9IA0KQCINCiJ7MH0iOiB7MX0NCiJAIC1mICRrZXkgLCAoJHZhbHVlWyRrZXldIHwgQ29udmVydFRvLUpTT05QMiAtbWF4RGVwdGggKCRtYXhEZXB0aCAtMSkgKQ0KfQ0KcmV0dXJuICJ7IiArICRqc29uUmVzdWx0ICsgIn0iDQp9DQogICAgICAgICAgICBkZWZhdWx0IHsgI29iamVjdA0KaWYgKCRtYXhEZXB0aCAtbGUgMCl7cmV0dXJuICAiYCJ7MH1gIiIgLWYgKEVzY2FwZS1KU09OU3RyaW5nICR2YWx1ZSl9DQpyZXR1cm4gInsiICsNCigoJHZhbHVlIHwgR2V0LU1lbWJlciAtTWVtYmVyVHlwZSAqcHJvcGVydHkgfCAlIHsgDQpAIg0KInswfSI6IHsxfQ0KIkAgLWYgJF8uTmFtZSAsICgkdmFsdWUuKCRfLk5hbWUpIHwgQ29udmVydFRvLUpTT05QMiAtbWF4RGVwdGggKCRtYXhEZXB0aCAtMSkgKSANCn0pIC1qb2luICcsICcpICsgIn0iDQogICAgfQ0KfQ0KfQ0KfQ0KDQoNCmZ1bmN0aW9uIEdhdGhlci1Mb2dpblNjcmlwdHN7DQoNCiAgICRMb2dPbk9iamVjdCA9IE5ldy1PYmplY3QgLVR5cGVOYW1lIHBzb2JqZWN0DQogICAkTG9nT25PYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBUYXNrTmFtZSAtVmFsdWUgIkdhdGhlciBMb2dpbiBTY3JpcHRzIg0KICAgIA0KICAgJGhvc3RWZXJTaW9uTWFqb3IgPSAoJFBTVmVyc2lvblRhYmxlLlBTVmVyc2lvbi5NYWpvcikuVG9TdHJpbmcoKQ0KICAgJGhvc3RWZXJTaW9uTWlub3IgPSAoJFBTVmVyc2lvblRhYmxlLlBTVmVyc2lvbi5NaW5vcikuVG9TdHJpbmcoKQ0KICAgJGhvc3RWZXJzaW9uID0gJGhvc3RWZXJTaW9uTWFqb3IgKycuJysgJGhvc3RWZXJTaW9uTWlub3IgDQogDQogICAkb3NWZXJzaW9uTWFqb3IgPSAoW1N5c3RlbS5FbnZpcm9ubWVudF06Ok9TVmVyc2lvbi5WZXJzaW9uLm1ham9yKS5Ub1N0cmluZygpDQogICAkb3NWZXJzaW9uTWlub3IgPSAoW1N5c3RlbS5FbnZpcm9ubWVudF06Ok9TVmVyc2lvbi5WZXJzaW9uLm1pbm9yKS5Ub1N0cmluZygpDQogICAkb3NWZXJzaW9uID0gJG9zVmVyc2lvbk1ham9yICsnLicrICRvc1ZlcnNpb25NaW5vcg0KIA0KICAgW2Jvb2xlYW5dJGlzUHNWZXJzaW9uT2sgPSAoW3ZlcnNpb25dJGhvc3RWZXJzaW9uIC1nZSBbdmVyc2lvbl0nMi4wJykNCiAgIFtib29sZWFuXSRpc09TVmVyc2lvbk9rID0gKFt2ZXJzaW9uXSRvc1ZlcnNpb24gLWdlIFt2ZXJzaW9uXSc2LjAnKQ0KICAgDQogICAjLS0tLS0tLS0tLSBDaGVjayBmb3IgUG93ZXJzaGVsbCB2ZXJzaW9uIC0tLS0tLS0tLS0tLS0tLS0tLSAgICAgICAgIA0KICAgaWYoLW5vdCAkaXNQc1ZlcnNpb25Payl7DQogICAgICAgICANCiAgICAgICRTdGRFcnJBcnIgPSBAKCkNCiAgICAgICRzdGRPdXRBcnIgPSBAKCkNCiAgICAgICRTdGRFcnIgPSBOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSBAewkJICAgICAgIA0KCQkgICAgICAgICAgICAgICAgICBpZCA9IDA7DQogICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlID0gICJQb3dlclNoZWxsIHZlcnNpb24gYmVsb3cgMi4wIGlzIG5vdCBzdXBwb3J0ZWQiOw0KICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWwgPSAiUG93ZXJTaGVsbCB2ZXJzaW9uIGJlbG93IDIuMCBpcyBub3Qgc3VwcG9ydGVkIjsNCg0KICAgICAgICAgICAgICAgfQ0KICAgICAgICAgDQogICAgICRTdGRFcnJBcnIgKz0gJFN0ZEVycg0KICAgICAkc3RkT3V0QXJyICs9ICgiUG93ZXJTaGVsbCB2ZXJzaW9uIGJlbG93IDIuMCBpcyBub3Qgc3VwcG9ydGVkIikNCiAgICANCiAgICAgJExvZ09uT2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgU3RhdHVzIC1WYWx1ZSAiZmFpbCIgDQogICAgICRMb2dPbk9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIENvZGUgLVZhbHVlIDENCiAgICAgJExvZ09uT2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgc3RkZXJyIC1WYWx1ZSAkU3RkRXJyQXJyDQogICAgICRMb2dPbk9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFJlc3VsdCAtVmFsdWUgIlBvd2VyU2hlbGwgdmVyc2lvbiBiZWxvdyAyLjAgaXMgbm90IHN1cHBvcnRlZCINCiAgICAgJExvZ09uT2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgc3Rkb3V0IC1WYWx1ZSAgJHN0ZE91dEFyciAgIA0KDQogICAgIHJldHVybiAkTG9nT25PYmplY3QNCiANCiAgICB9ICAgIA0KIA0KICAgIy0tLS0tLS0tLS0gQ2hlY2sgT1MgVmVyc2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0NCiAgIGlmKC1ub3QgJGlzT1NWZXJzaW9uT2spew0KICAgIA0KICAgICAgJFN0ZEVyckFyciA9IEAoKQ0KICAgICAgJHN0ZE91dEFyciA9IEAoKQ0KICAgICAgJFN0ZEVyciA9IE5ldy1PYmplY3QgUFNPYmplY3QgLVByb3BlcnR5IEB7CQkgICAgICAgDQoJCSAgICAgICAgICAgICAgICAgIGlkID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSAgIlBvd2VyU2hlbGwgU2NyaXB0IHN1cHBvcnRzIFdpbmRvdyA3LCBXaW5kb3cgMjAwOFIyIGFuZCBoaWdoZXIgdmVyc2lvbiBvcGVyYXRpbmcgc3lzdGVtIjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsID0gIlBvd2VyU2hlbGwgU2NyaXB0IHN1cHBvcnRzIFdpbmRvdyA3LCBXaW5kb3cgMjAwOFIyIGFuZCBoaWdoZXIgdmVyc2lvbiBvcGVyYXRpbmcgc3lzdGVtIjsNCg0KICAgICAgICAgICAgICAgfQ0KICAgICAgICAgDQogICAgICRTdGRFcnJBcnIgKz0gJFN0ZEVycg0KICAgICAkc3RkT3V0QXJyICs9ICgiUG93ZXJTaGVsbCBTY3JpcHQgc3VwcG9ydHMgV2luZG93IDcsIFdpbmRvdyAyMDA4UjIgYW5kIGhpZ2hlciB2ZXJzaW9uIG9wZXJhdGluZyBzeXN0ZW0iKQ0KICAgIA0KICAgICAkTG9nT25PYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBTdGF0dXMgLVZhbHVlICJmYWlsIiANCiAgICAgJExvZ09uT2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgQ29kZSAtVmFsdWUgMQ0KICAgICAkTG9nT25PYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBzdGRlcnIgLVZhbHVlICRTdGRFcnJBcnINCiAgICAgJExvZ09uT2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgUmVzdWx0IC1WYWx1ZSAiUG93ZXJTaGVsbCBTY3JpcHQgc3VwcG9ydHMgV2luZG93IDcsIFdpbmRvdyAyMDA4UjIgYW5kIGhpZ2hlciB2ZXJzaW9uIG9wZXJhdGluZyBzeXN0ZW0iDQogICAgICRMb2dPbk9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIHN0ZG91dCAtVmFsdWUgICRzdGRPdXRBcnIgICANCg0KICAgICByZXR1cm4gJExvZ09uT2JqZWN0DQogICB9DQoNCg0KICAgW2Jvb2xlYW5dJElzRG9tYWluQ29udGFvbGxlciA9ICRmYWxzZQ0KICAgJElzRG9tYWluQ29udGFvbGxlciA9IChHZXQtV21pT2JqZWN0IC1DbGFzcyBXaW4zMl9Db21wdXRlclN5c3RlbSkuUGFydE9mRG9tYWluDQoNCiAgICMtLS0tLS0tLS0tIElzIG1hY2hpbmUgcGFydCBvZiBkb21haW4gLS0tLS0tLS0tLS0tLS0tLS0tDQogICBpZiggLW5vdCAkSXNEb21haW5Db250YW9sbGVyKXsNCg0KICAgICAgJFN0ZEVyckFyciA9IEAoKQ0KICAgICAgJHN0ZE91dEFyciA9IEAoKQ0KICAgICAgJFN0ZEVyciA9IE5ldy1PYmplY3QgUFNPYmplY3QgLVByb3BlcnR5IEB7CQkgICAgICAgDQoJCSAgICAgICAgICAgICAgICAgIGlkID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSAgIlNlcnZlciBpcyBub3QgYSBkb21haW4gY29udHJvbGxlciI7DQogICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbCA9ICJFcnJvciwgc2NyaXB0IG11c3QgYmUgcnVuIG9uIGEgRG9tYWluIENvbnRyb2xsZXIiOw0KDQogICAgICAgICAgICAgICB9DQogICAgICAgICANCiAgICAgJFN0ZEVyckFyciArPSAkU3RkRXJyDQogICAgICRzdGRPdXRBcnIgKz0gKCJFcnJvciwgc2NyaXB0IG11c3QgYmUgcnVuIG9uIGEgRG9tYWluIENvbnRyb2xsZXIiKQ0KICAgIA0KICAgICAkTG9nT25PYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBTdGF0dXMgLVZhbHVlICJmYWlsIiANCiAgICAgJExvZ09uT2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgQ29kZSAtVmFsdWUgMQ0KICAgICAkTG9nT25PYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBzdGRlcnIgLVZhbHVlICRTdGRFcnJBcnINCiAgICAgJExvZ09uT2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgUmVzdWx0IC1WYWx1ZSAiRXJyb3IsIHNjcmlwdCBtdXN0IGJlIHJ1biBvbiBhIERvbWFpbiBDb250cm9sbGVyIg0KICAgICAkTG9nT25PYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBzdGRvdXQgLVZhbHVlICAkc3RkT3V0QXJyICAgDQogDQoNCiAgICAgcmV0dXJuICRMb2dPbk9iamVjdA0KDQogICB9DQogICANCnRyeXsNCg0KICAkTG9nb25TY3JpcHRzQXJyID0gTmV3LU9iamVjdCBTeXN0ZW0uQ29sbGVjdGlvbnMuQXJyYXlMaXN0DQogICREb21haW5OYW1lID0gKEdldC1XbWlPYmplY3QgLUNsYXNzIFdpbjMyX0NvbXB1dGVyU3lzdGVtKS5Eb21haW4NCiAgJExvZ29uU2NyaXB0UGF0aCA9IFtJTy5QYXRoXTo6Q29tYmluZSgnQzpcV2luZG93c1xTWVNWT0xcc3lzdm9sXCcsICREb21haW5OYW1lLCAnc2NyaXB0cycpDQogDQogICRMb2dvblNjcmlwdHMgPSBHZXQtQ2hpbGRJdGVtICRMb2dvblNjcmlwdFBhdGggfCBzZWxlY3QgbmFtZSAtRXJyb3JBY3Rpb24gU3RvcA0KDQogIGZvcmVhY2goJHMgaW4gJExvZ29uU2NyaXB0cyl7DQoNCiAgICRudWxsID0gJExvZ29uU2NyaXB0c0Fyci5BZGQoJHMpDQoNCiAgfQ0KDQogIGlmKCRMb2dvblNjcmlwdHNBcnIuQ291bnQgLWVxIDApew0KDQogICAgICAkU3RkRXJyQXJyID0gQCgpDQogICAgICAkc3RkT3V0QXJyID0gQCgpDQogICAgICAkU3RkRXJyID0gTmV3LU9iamVjdCBQU09iamVjdCAtUHJvcGVydHkgQHsJCSAgICAgICANCgkJICAgICAgICAgICAgICAgICAgaWQgPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA9ICAiTG9nb24gYXJlIFNjcmlwdHMgbm90IGZvdW5kIjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsID0gIk5vIGxvZ29uIHNjcmlwdHMgYXZhaWxhYmxlIHdpdGhpbiAkRG9tYWluTmFtZSI7DQoNCiAgICAgICAgICAgICAgIH0NCiAgICAgICAgIA0KICAgICAkU3RkRXJyQXJyICs9ICRTdGRFcnINCiAgICAgJHN0ZE91dEFyciArPSAoIk5vIGxvZ29uIHNjcmlwdHMgYXZhaWxhYmxlIHdpdGhpbiAkRG9tYWluTmFtZSIpDQogICAgDQogICAgICRMb2dPbk9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFN0YXR1cyAtVmFsdWUgImZhaWwiIA0KICAgICAkTG9nT25PYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBDb2RlIC1WYWx1ZSAxDQogICAgICRMb2dPbk9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIHN0ZGVyciAtVmFsdWUgJFN0ZEVyckFycg0KICAgICAkTG9nT25PYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBSZXN1bHQgLVZhbHVlICJObyBsb2dpbiBzY3JpcHRzIGF2YWlsYWJsZSB3aXRoaW4gJERvbWFpbk5hbWUiDQogICAgICRMb2dPbk9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIHN0ZG91dCAtVmFsdWUgICRzdGRPdXRBcnIgICANCg0KICAgICByZXR1cm4gJExvZ09uT2JqZWN0DQoNCiAgfQ0KDQogIGlmKCRMb2dvblNjcmlwdHNBcnIuQ291bnQgLWd0IDApew0KDQogICAgICAkU3RkT3V0QXJyID0gQCgpDQogICAgICAkc3RkU3RyQXJyID0gQCgpDQoNCiAgICAgIGZvcmVhY2goJHNjcmlwdCBpbiAkTG9nb25TY3JpcHRzQXJyKXsNCg0KICAgICAgICAgICRPYmplY3QgPSBOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSBAewkJICAgICAgIA0KCQkgICAgICAgICAgICAgICAgTmFtZSA9ICRzY3JpcHQ7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICROYW1lID0gJHNjcmlwdC5OYW1lOw0KICAgICAgICAgDQogICAgICAgICAgJFN0ZE91dEFyciArPSAgJE9iamVjdC5OYW1lIDsNCiAgICAgICAgICAkc3RkU3RyQXJyICs9ICJOYW1lIDogJE5hbWUiIDsNCiAgICAgIH0NCg0KICAgICAgJExvZ09uT2JqID0gIE5ldy1PYmplY3QgcHNvYmplY3QNCiAgICAgICRMb2dPbk9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIExvZ29uU2NyaXB0cyAtVmFsdWUgJFN0ZE91dEFycg0KICAgICAgICAgICAgICANCiAgICAgICRMb2dPbk9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFN0YXR1cyAtVmFsdWUgInN1Y2Nlc3MiIA0KICAgICAgJExvZ09uT2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgQ29kZSAtVmFsdWUgMA0KICAgICAgJExvZ09uT2JqZWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgUmVzdWx0IC1WYWx1ZSAiU3VjY2VzcyA6IExpc3Qgb2YgbG9nb24gc2NyaXB0cyINCiAgICAgICAgDQogICAgICAkTG9nT25PYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBzdGRvdXQgLVZhbHVlICAkc3RkU3RyQXJyDQogICAgICAkTG9nT25PYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBkYXRhT2JqZWN0IC1WYWx1ZSAkTG9nT25PYmogIA0KICAgICAgDQogICAgICByZXR1cm4gJExvZ09uT2JqZWN0DQogIH0NCg0KICB9Q2F0Y2h7DQoNCiAgICAgICRTdGRFcnJBcnIgPSBAKCkNCiAgICAgICRzdGRPdXRBcnIgPSBAKCkNCiAgICAgICRTdGRFcnIgPSBOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSBAewkJICAgICAgIA0KCQkgICAgICAgICAgICAgICAgICBpZCA9IDA7DQogICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlID0gICJVbmFibGUgdG8gb2J0YWluIGxvZ2luIHNjcmlwdHMgZHVlIHRvIGVycm9yIjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsID0gJF8uRXhjZXB0aW9uLk1lc3NhZ2U7DQoNCiAgICAgICAgICAgICAgIH0NCiAgICAgICAgIA0KICAgICAkU3RkRXJyQXJyICs9ICRTdGRFcnINCiAgICAgJHN0ZE91dEFyciArPSAoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpDQogICAgDQogICAgICRMb2dPbk9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFN0YXR1cyAtVmFsdWUgImZhaWwiIA0KICAgICAkTG9nT25PYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBDb2RlIC1WYWx1ZSAyDQogICAgICRMb2dPbk9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIHN0ZGVyciAtVmFsdWUgJFN0ZEVyckFycg0KICAgICAkTG9nT25PYmplY3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBSZXN1bHQgLVZhbHVlICRfLkV4Y2VwdGlvbi5NZXNzYWdlDQogICAgICRMb2dPbk9iamVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIHN0ZG91dCAtVmFsdWUgICRzdGRPdXRBcnIgICANCg0KICAgICByZXR1cm4gJExvZ09uT2JqZWN0DQogIA0KDQoNCiAgfQ0KDQp9DQoNCg0KaWYoJFBTVmVyc2lvblRhYmxlLlBTVmVyc2lvbi5NYWpvciAtZXEgMil7DQoNCiAgICBHYXRoZXItTG9naW5TY3JpcHRzIHwgIENvbnZlcnRUby1KU09OUDINCg0KfWVsc2V7DQoNCiAgICBHYXRoZXItTG9naW5TY3JpcHRzIHwgIENvbnZlcnRUby1Kc29uIC1EZXB0aCAxMA0KfQ==","jsonSchema":"","uiSchema":"","isHDScript":true}

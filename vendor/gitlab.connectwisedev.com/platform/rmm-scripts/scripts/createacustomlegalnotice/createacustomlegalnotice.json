{"id":"a194eb75-5aed-11e9-aeee-00155d130b17","partnerId":"00000000-0000-0000-0000-000000000000","category":["Setup"],"description":"Create a custom legal notice","engine":"powershell","engineMaxVersion":5,"expectedExecutionTimeSec":300,"failureMessage":"Executed with errors","successMessage":"Executed Successfully","internal":false,"name":"Create a custom legal notice","tags":["Windows 7","Windows 10"],"sequence":true,"content":"IyAkYWN0aW9uID0gJ3JlbW92ZScgIyAncmVtb3ZlJwojICRXaW5kb3dUaXRsZSA9ICdUZXN0JwojICRNZXNzYWdlID0gJ1Rlc3QgTWVzc2FnZScKCmlmICgkZW52OlBST0NFU1NPUl9BUkNISVRFVzY0MzIgLWVxICJBTUQ2NCIpIHsKICAgIGlmICgkbXlJbnZvY2F0aW9uLkxpbmUpIHsKICAgICAgICAmIiRlbnY6c3lzdGVtcm9vdFxzeXNuYXRpdmVcd2luZG93c3Bvd2Vyc2hlbGxcdjEuMFxwb3dlcnNoZWxsLmV4ZSIgLU5vbkludGVyYWN0aXZlIC1Ob1Byb2ZpbGUgJG15SW52b2NhdGlvbi5MaW5lCiAgICB9CiAgICBlbHNlIHsKICAgICAgICAmIiRlbnY6c3lzdGVtcm9vdFxzeXNuYXRpdmVcd2luZG93c3Bvd2Vyc2hlbGxcdjEuMFxwb3dlcnNoZWxsLmV4ZSIgLU5vbkludGVyYWN0aXZlIC1Ob1Byb2ZpbGUgLWZpbGUgIiQoJG15SW52b2NhdGlvbi5JbnZvY2F0aW9uTmFtZSkiICRhcmdzCiAgICB9CiAgICBleGl0ICRsYXN0ZXhpdGNvZGUKfQoKdHJ5IHsKICAgICRFcnJvckFjdGlvblByZWZlcmVuY2UgPSAnc3RvcCcKICAgIGlmICgkZW52OlBST0NFU1NPUl9BUkNISVRFVzY0MzIgLWVxICJBTUQ2NCIgLWFuZCAkZW52OlBST0NFU1NPUl9BUkNISVRFQ1RVUkUgLWVxICd4ODYnKSB7ICRRdWVyeSA9ICdjOlx3aW5kb3dzXHN5c25hdGl2ZVxxdWVyeS5leGUnIH1lbHNlIHsgJFF1ZXJ5ID0gJ2M6XHdpbmRvd3NcU3lzdGVtMzJccXVlcnkuZXhlJyB9CiAgICAkTG9nZ2VkT25Vc2VycyA9IGlmKCgkVXNlcnMgPSAoJiAkUXVlcnkgdXNlcikpKXsKICAgICAgICAkVXNlcnMgfCBGb3JFYWNoLU9iamVjdCB7KCgkXy50cmltKCkgLXJlcGxhY2UgIj4iIC1yZXBsYWNlICIoP20pXihbQS1aYS16MC05XXszLH0pXHMrKFxkezEsMn1ccytcdyspIiwgJyQxICBub25lICAkMicgLXJlcGxhY2UgIlxzezIsfSIsICIsIiAtcmVwbGFjZSAibm9uZSIsICRudWxsKSl9IHwKICAgICAgICAgICAgICAgICBDb252ZXJ0RnJvbS1Dc3YgfAogICAgICAgICAgICAgICAgIFdoZXJlLU9iamVjdCB7JF8uc3RhdGUgLW5lICdEaXNjJ30gfAogICAgICAgICAgICAgICAgIFNlbGVjdC1PYmplY3QgLWV4cGFuZHByb3BlcnR5IHVzZXJuYW1lCiAgICB9CiAgICBpZiAoJExvZ2dlZE9uVXNlcnMpIHsKICAgICAgICAkcmVnaXN0cnkgPSAnSEtMTTpcU29mdHdhcmVcTWljcm9zb2Z0XFdpbmRvd3NcQ3VycmVudFZlcnNpb25cUG9saWNpZXNcU3lzdGVtJwogICAgICAgIGZ1bmN0aW9uIHZlcmlmeSB7CiAgICAgICAgICAgIHJldHVybiAoR2V0LUl0ZW1Qcm9wZXJ0eSAkcmVnaXN0cnkgLU5hbWUgbGVnYWxub3RpY2VjYXB0aW9uIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlICkgLWFuZCAoR2V0LUl0ZW1Qcm9wZXJ0eSAkcmVnaXN0cnkgLU5hbWUgbGVnYWxub3RpY2V0ZXh0IC1FcnJvckFjdGlvbiBTaWxlbnRseWNvbnRpbnVlKQogICAgICAgIH0KICAgICAgICAKICAgICAgICBzd2l0Y2ggKCRhY3Rpb24pIHsKICAgICAgICAgICAgJ2FkZCcgewogICAgICAgICAgICAgICAgU2V0LUl0ZW1Qcm9wZXJ0eSAkcmVnaXN0cnkgLU5hbWUgbGVnYWxub3RpY2VjYXB0aW9uIC1WYWx1ZSAkV2luZG93VGl0bGUJCiAgICAgICAgICAgICAgICBTZXQtSXRlbVByb3BlcnR5ICRyZWdpc3RyeSAtTmFtZSBsZWdhbG5vdGljZXRleHQgLVZhbHVlICRNZXNzYWdlCiAgICAgICAgICAgICAgICBJZiAoVmVyaWZ5KSB7IFdyaXRlLU91dHB1dCAiQ3VzdG9tIGxlZ2FsIG5vdGljZSBhZGRlZCBzdWNjZXNzZnVseS4iIH1lbHNlIHsgV3JpdGUtT3V0cHV0ICJGYWlsZWQgdG8gYWRkIEN1c3RvbSBsZWdhbCBub3RpY2UuIiB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJ3JlbW92ZScgewogICAgICAgICAgICAgICAgUmVtb3ZlLUl0ZW1Qcm9wZXJ0eSAkcmVnaXN0cnkgLU5hbWUgbGVnYWxub3RpY2VjYXB0aW9uIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlCiAgICAgICAgICAgICAgICBSZW1vdmUtSXRlbVByb3BlcnR5ICRyZWdpc3RyeSAtTmFtZSBsZWdhbG5vdGljZXRleHQgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUKICAgICAgICAgICAgICAgIElmICghJCh2ZXJpZnkpKSB7IFdyaXRlLU91dHB1dCAiQ3VzdG9tIGxlZ2FsIG5vdGljZSByZW1vdmVkIHN1Y2Nlc3NmdWx5LiIgfWVsc2UgeyBXcml0ZS1PdXRwdXQgIkZhaWxlZCB0byByZW1vdmUgQ3VzdG9tIGxlZ2FsIG5vdGljZS4iIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICB9CiAgICBlbHNlIHsgV3JpdGUtT3V0cHV0ICJUaGlzIHNjcmlwdCByZXF1aXJlcyBsb2dvbiB1c2VyIGFuZCBjdXJyZW50bHkgbm8gdXNlciBpcyBsb2dnZWQgaW4uIE5vIGFjdGlvbiB3aWxsIGJlIHBlcmZvcm1lZC4iOyBleGl0OyB9Cn0KY2F0Y2ggeyBXcml0ZS1FcnJvciAkXyB9Cg==","jsonSchema":{"type":"object","title":"Add remove legal notice","properties":{"action":{"title":"Action","type":"string","enum":["add","remove"],"enumNames":["Add Legal Notice","Remove Existing Legal Notice"]}},"required":["action"],"additionalproperties":false,"patternproperties":{"^WindowTitle$": {},"^Message$":{}},"dependencies":{"action":{"oneOf":[{"properties":{"action":{"enum":["add"]},"WindowTitle":{"title":"Window Title","type":"string"},"Message":{"title":"Message","type":"string"}},"required":["WindowTitle","Message"]},{"properties":{"action":{"enum":["remove"]}}}]}}},"uiSchema":{"action":{"classNames":"col-sm-6 col-sm-offset-right-6","ui:autofocus":true,"ui:placeholder":"Select"},"WindowTitle":{"classNames":"col-sm-6 col-sm-offset-right-6","ui:autofocus":true},"Message":{"classNames":"col-sm-12","ui:autofocus":true,"ui:widget": "textarea","ui:options": {"rows": 15}},"ui:order":["action","WindowTitle","Message"]},"isHDScript":false}

{"id":"9eb6d2db-c81f-4fa8-bf6c-cbb8fb01b906","partnerId":"00000000-0000-0000-0000-000000000000","category":["Maintenance"],"description":"Create a folder on given path","engine":"powershell","engineMaxVersion":5,"expectedExecutionTimeSec":300,"failureMessage":"Executed with errors","successMessage":"The folder was created","internal":false,"name":"Create folder","tags":["Windows 7","Windows 10"],"sequence":true,"content":"IyBDcmVhdGUgRm9sZGVyCiMgc291cmNlUGF0aCBOZXR3b3JrCmlmICgkc291cmNlVHlwZSAtZXEgIk5ldHdvcmsiKXsKICAgICRwYXRoZW5kY2hyID0gJHNvdXJjZVBhdGguU3Vic3RyaW5nKCRzb3VyY2VQYXRoLmdldF9MZW5ndGgoKS0xKQogIGlmICggJHBhdGhlbmRjaHIgLWVxICJcIikgewogICAgICAgJHNvdXJjZVBhdGggPSAkc291cmNlUGF0aC5TdWJzdHJpbmcoMCwkc291cmNlUGF0aC5MZW5ndGgtMSkKICB9CiAgaWYgKCEoVGVzdC1QYXRoICRzb3VyY2VQYXRoKydcJykpewogICAgJERydkx0cnMgPSBbY2hhcltdXShbY2hhcl0nQycuLltjaGFyXSdaJykKICAgICRJbnVzZURydkx0cnMgPSBnZXQtd21pb2JqZWN0IHdpbjMyX2xvZ2ljYWxkaXNrIHwgc2VsZWN0IC1leHBhbmQgRGV2aWNlSUQgfCAlIHsgJF8uVHJpbSgiOiIpIH0KICAgICRGcmVlRHJ2THRyID0gJERydkx0cnMgfCA/eyAkSW51c2VEcnZMdHJzIC1ub3Rjb250YWlucyAkXyB9CiAgICAkbmV0ID0gbmV3LW9iamVjdCAtQ29tT2JqZWN0IFdTY3JpcHQuTmV0d29yawogICAgdHJ5IHsKICAgICAgICAgICAkbmV0Lk1hcE5ldHdvcmtEcml2ZSgkRnJlZURydkx0clswXSsnOicsJHNvdXJjZVBhdGgsICRmYWxzZSwgJHVzZXJOYW1lLCAkcGFzc3dvcmQpCiAgICAgICAgfUNhdGNoewogICAgICAgICAgIFdyaXRlLUVycm9yICJDb3VsZCBub3QgY29ubmVjdCB0byBuZXR3b3JrIHBhdGggOiAkXy5FeGNlcHRpb24uTWVzc2FnZSIgCiAgICAgICAgfQogIH0KICBpZiAoVGVzdC1QYXRoICRzb3VyY2VQYXRoKXsKICAgICRmb2xkZXIgPSBOZXctSXRlbSAkKCRzb3VyY2VQYXRoICsgIlwiICsgJGZvbGRlck5hbWUpIC10eXBlIGRpcmVjdG9yeSAKICAgICRuZXQuUmVtb3ZlTmV0d29ya0RyaXZlKCRGcmVlRHJ2THRyWzBdKyc6JywkVHJ1ZSkKICB9IGVsc2UgewogICAgV3JpdGUtRXJyb3IgIlBhdGggJHNvdXJjZVBhdGggd2FzIG5vdCBmb3VuZCIKICB9CiMgc291cmNlUGF0aCBMb2NhbAp9IGVsc2UgewogIGlmIChUZXN0LVBhdGggJHNvdXJjZVBhdGgpewogICAgJHBhdGhlbmRjaHIgPSAkc291cmNlUGF0aC5TdWJzdHJpbmcoJHNvdXJjZVBhdGguZ2V0X0xlbmd0aCgpLTEpCiAgICBpZiAoICRwYXRoZW5kY2hyIC1uZSAiXCIpIHsKICAgICAgICAkZm9sZGVyID0gTmV3LUl0ZW0gJCgkc291cmNlUGF0aCArICJcIiArICRmb2xkZXJOYW1lKSAtdHlwZSBkaXJlY3RvcnkKICAgIH1FbHNlewogICAgICAgICRmb2xkZXIgPSBOZXctSXRlbSAkKCRzb3VyY2VQYXRoICsgJGZvbGRlck5hbWUpIC10eXBlIGRpcmVjdG9yeQogICAgfQoKICB9IGVsc2UgewogICAgV3JpdGUtRXJyb3IgIlBhdGggJHNvdXJjZVBhdGggd2FzIG5vdCBmb3VuZCIKICB9Cn0KJGZvbGRlciB8ICBTZWxlY3QgQHtOYW1lPSJGb2xkZXIgTmFtZSI7RXhwcmVzc2lvbj17JF8uTmFtZX19LAogICAgICAgICAgICAgICAgICBAe05hbWU9IkZvbGRlciBQYXRoIjtFeHByZXNzaW9uPXskXy5GdWxsTmFtZX19LAogICAgICAgICAgICAgICAgICBAe05hbWU9IkNyZWF0aW9uIFRpbWUiO0V4cHJlc3Npb249eyRfLkNyZWF0aW9uVGltZX19IHwgRkwK","jsonSchema":{"additionalProperties":false,"dependencies":{"sourceType":{"oneOf":[{"properties":{"password":{"title":"Password","type":"string"},"sourceType":{"enum":["network"]},"userName":{"title":"User Name","type":"string"}},"required":["userName","password"]},{"properties":{"sourceType":{"enum":["local"]}}}]}},"patternProperties":{"^password$":{},"^userName$":{}},"properties":{"folderName":{"title":"Folder Name","type":"string"},"sourcePath":{"title":"Source Path","type":"string"},"sourceType":{"enum":["local","network"],"enumNames":["Local","Network"],"title":"Source type","type":"string"}},"required":["sourceType","sourcePath","folderName"],"type":"object"},"uiSchema":{"folderName":{"classNames":"col-sm-12","validationSchema":{"name":"folderName","type":"isValidWindowsFileName"}},"password":{"classNames":"col-sm-6","ui:widget":"password"},"sourcePath":{"classNames":"col-sm-6"},"sourceType":{"classNames":"col-sm-6","ui:autofocus":true,"ui:placeholder":"Select source type"},"ui:order":["sourceType","sourcePath","folderName","userName","password"],"userName":{"classNames":"col-sm-6","validationSchema":{"notEmpty":"userName","required":["password"],"type":"requiredFieldsIfNotEmpty"}}},"isHDScript":false}
//
// ATTENTION!!! DO NOT EDIT THIS FILE. IT IS CREATED FOLLOWING SCHEMA MIGRATION STRATEGY
//

ALTER TABLE tasks ADD targets set<text>;


CREATE MATERIALIZED VIEW IF NOT EXISTS tasks_by_id AS
    SELECT *
    FROM tasks
    WHERE partner_id IS NOT NULL AND id IS NOT NULL AND managed_endpoint_id IS NOT NULL AND external_task IS NOT NULL
    PRIMARY KEY ((partner_id, id), managed_endpoint_id, external_task);

CREATE MATERIALIZED VIEW IF NOT EXISTS tasks_by_id_managed_endpoint_id AS
    SELECT *
    FROM tasks
    WHERE partner_id IS NOT NULL AND id IS NOT NULL AND managed_endpoint_id IS NOT NULL AND external_task IS NOT NULL
    PRIMARY KEY ((partner_id, id, managed_endpoint_id), external_task);
